\subsection{Integers}\label{subsec:integers}

\paragraph{Ring of integers}

\begin{definition}\label{def:integers}\mimprovised
  We define the \hyperref[def:ring]{ring} \( \BbbZ \) of \term[bg=цели числа (\cite[sec. 1.1.2]{Соскова2015}), ru=целые числа (\cite[sec. 15.1]{Тыртышников2007})]{integers} as the \hyperref[thm:grothendieck_semiring_completion]{Grothendieck completion} of the \hyperref[def:semiring/commutative]{commutative semiring} \hyperref[def:natural_numbers]{\( \BbbN \)} of zero-based natural numbers.
\end{definition}
\begin{comments}
  \item We consider the following an indispensable part of \( \BbbZ \):
  \begin{itemize}
    \item The signum function defined in \fullref{def:integer_signum} and the absolute value defined in \fullref{def:integer_absolute_value}.
    \item The ordering defined in \fullref{def:integer_ordering}, which makes \( \BbbZ \) an \hyperref[def:ordered_semiring]{ordered (semi)ring}.
    \item The Euclidean domain structure discussed in \fullref{rem:integer_domain_chain}.
    \item The topology discussed in \fullref{thm:order_topology_on_integers_is_discrete}.
  \end{itemize}
\end{comments}

\begin{proposition}\label{thm:integers_are_integral_domain}
  The ring of integers is \hyperref[def:divisibility/zero]{entire}, i.e. an \hyperref[def:integral_domain]{integral domain}.
\end{proposition}
\begin{proof}
  Suppose that \( nm = 0 \).

  \begin{itemize}
    \item If \( n = \iota(a) \) and \( m = \iota(b) \) are nonnegative, since \( \BbbN \) is entire and since \( \iota \) is a homomorphism, then \( nm = \iota(a) \cdot \iota(b) = \iota(ab) = \iota(0_\BbbN) \) implies that at least one of \( a \) or \( b \) is zero.
    \item If \( n = \iota(a) \) is nonnegative and \( m = -\iota(b) \) is nonpositive, this reduces to the previous case since \( nm = 0 = n(-m) \).
    \item The other cases are similar.
  \end{itemize}

  Therefore, \( n = 0 \) or \( m = 0 \).
\end{proof}

\paragraph{Order of integers}

\begin{lemma}\label{thm:integer_signum_lemma}
  Consider the canonical embedding \( \iota: \BbbN \to \BbbZ \). For every nonzero integer \( n \), there either exists a unique natural number \( a \) such that \( n = \iota(a) \), or a unique natural number \( a \) such that \( n = -\iota(a) \).
\end{lemma}
\begin{proof}
  \ExistenceSubProof Due to the trichotomy on natural numbers shown in \fullref{def:natural_numbers_ordering}, we have the following mutually exclusive possibilities:
  \begin{itemize}
    \item If \( a = b \), then \( x = [(a, a)] = [(0_\BbbN, 0_\BbbN)] \), hence \( x \) is zero.
    \item If \( a < b \), by \fullref{def:natural_numbers_ordering}, there exists some positive natural number \( c \) such that \( a + c = 0_\BbbN + b \). Then
    \begin{equation*}
      x = [(a, b)] = [(c, 0_\BbbN)] = \iota(c).
    \end{equation*}

    \item If \( a > b \), there exists some natural number \( d \) such that \( 0_\BbbN + a = b + d \). Then
    \begin{equation*}
      x = [(a, b)] = [(0_\BbbN, d)] = -[(d, 0_\BbbN)] = -\iota(d).
    \end{equation*}
  \end{itemize}

  \UniquenessSubProof If \( \iota(a) = \iota(b) \), then there exists some natural number \( u \) such that
  \begin{equation*}
     a + 0_\BbbN + u = 0_\BbbN + b + u.
  \end{equation*}

  By \fullref{thm:natural_number_addition_properties}, \( \BbbN \) is cancellative, so \( a = b \).

  \SubProof{Proof of exclusive conditions} Finally, suppose that \( n = \iota(a) = -\iota(b) \). Then \( a + b = 0_\BbbN \). Since \( \BbbN \) is \hyperref[def:zerosumfree]{zerosumfree} by \fullref{thm:natural_number_addition_properties}, it follows that \( a = b = 0_\BbbN \), and hence \( n \) is zero.

  Therefore, if \( n \) is nonzero, either \( n = \iota(a) \) for some \( a \) or \( n = -\iota(b) \) for some \( b \).
\end{proof}

\begin{definition}\label{def:integer_signum}\mimprovised
  Consider the canonical embedding \( \iota: \BbbN \to \BbbZ \). Define the \term{signum} function
  \begin{equation*}
    \begin{aligned}
      &\sgn: \BbbZ \to \BbbZ \\
      &\sgn(n) \coloneqq \begin{cases}
        0,  &n = \iota(0_\BbbN), \\
        1,  &n = \iota(a) \T{for some nonzero natural number} a, \\
        -1, &n = -\iota(a) \T{for some nonzero natural number} a.
      \end{cases}
    \end{aligned}
  \end{equation*}

  This is a well-defined \hyperref[def:set_valued_map/partial]{total function} due to \fullref{thm:integer_signum_lemma}.

  We then classify integers based in their sign as follows
  \begin{center}
    \begin{tabular}{l | l || l | l}
      Positive    & \( \sgn(n) = 1 \)  & Nonpositive & \( \sgn(n) \neq 1 \) \\
      Negative    & \( \sgn(n) = -1 \) & Nonnegative & \( \sgn(n) \neq -1 \) \\
      Zero        & \( \sgn(n) = 0 \)  & Nonzero     & \( \sgn(n) \neq 0 \) \\
    \end{tabular}
  \end{center}
\end{definition}

\begin{proposition}\label{thm:def:integer_signum}
  \hyperref[def:integer_signum]{Integer signs} have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:integer_signum/sum} If two integers have the same sign, their sum also has the same sign.
    \thmitem{thm:def:integer_signum/product} \( \sgn(nm) = \sgn(n) \cdot \sgn(m) \).
    \thmitem{thm:def:integer_signum/zero} \( n \) is zero if and only if \( -n \) is zero.
    \thmitem{thm:def:integer_signum/inverse} \( n \) is positive if and only if \( -n \) is negative.
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:integer_signum/sum} Fix two integers \( n \) and \( m \).

  \begin{itemize}
    \item If \( n \) and \( m \) are both zero, their sum is also zero.
    \item If \( n = \iota(a) \) and \( m = \iota(b) \) are both positive, then \( n + m = \iota(a + b) \), so \( n + m \) is also positive.
    \item If \( n = -\iota(a) \) and \( m = -\iota(b) \) are both negative, then \( n + m = -\iota(a + b) \), so \( n + m \) is also negative.
  \end{itemize}

  \SubProofOf{thm:def:integer_signum/product} Fix two integers \( n \) and \( m \).

  \begin{itemize}
    \item If either \( n \) or \( m \) is zero, the product \( nm \) is again zero, so
    \begin{equation*}
      \sgn(nm) = \sgn(n) \cdot \sgn(m) = 0.
    \end{equation*}

    \item If both \( n = \iota(a) \) and \( m = \iota(b) \) are positive, then \( nm = \iota(ab) \) is nonnegative. Furthermore, \( nm \) cannot be zero because \( \BbbZ \) is an integral domain. Hence,
    \begin{equation*}
      \sgn(nm) = \sgn(n) \cdot \sgn(m) = 1.
    \end{equation*}

    \item If \( n = \iota(a) \) is positive and \( m = -\iota(b) \) is negative, then \( n(-m) = \iota(ab) \) is positive. Furthermore, \( nm = -n(-m) = -\iota(ab) \), and hence \( nm \) is negative. Then
    \begin{equation*}
      \sgn(nm) = \underbrace{\sgn(n)}_1 \cdot \underbrace{\sgn(m)}_{-1} = -1.
    \end{equation*}

    The case where \( n \) is negative and \( m \) is positive follows from this one due to commutativity.

    \item If both \( n = -\iota(a) \) and \( m = -\iota(b) \) are negative, then \( (-n)(-m) = \iota(ab) \) is positive. Furthermore, \( nm = (-n)(-m) = -\iota(ab) \), and hence \( nm \) is positive.
    \begin{equation*}
      \sgn(nm) = \underbrace{\sgn(n)}_{-1} \cdot \underbrace{\sgn(m)}_{-1} = 1.
    \end{equation*}
  \end{itemize}

  \SubProofOf{thm:def:integer_signum/zero} This is actually a statement about group inverses because \( 0 = -0 \).

  \SubProofOf{thm:def:integer_signum/inverse} From \fullref{thm:def:integer_signum/product} it follows that \( \sgn(-n) = \sgn(-1) \cdot \sgn(n) = -\sgn(n) \).
\end{proof}

\begin{definition}\label{def:integer_ordering}\mimprovised
  We extend the \hyperref[def:natural_numbers_ordering]{natural number ordering} \( \leq_\BbbN \) to the \hyperref[def:integers]{integers} \( \BbbZ \) via the following truth table:
  \begin{center}
    \begin{tabular}{c c c}
      \( n \) & \( m \) & \( n \leq m \) \\
      \hline
      nonnegative       & nonnegative & \( n \leq_\BbbN m \) \\
      nonnegative       & negative    & \( F \) \\
      negative          & nonnegative & \( T \) \\
      negative          & negative    & \( -m \leq_\BbbN -n \)
    \end{tabular}
  \end{center}
\end{definition}

\begin{proposition}\label{thm:def:integer_ordering}
  \hyperref[def:integer_ordering]{Integer ordering} has the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:integer_ordering/positive} \( 0 > n \) if and only if \( n \) is positive.
    \thmitem{thm:def:integer_ordering/negative} \( 0 < n \) if and only if \( n \) is negative.
    \thmitem{thm:def:integer_ordering/inverse} \( n \leq m \) if and only if \( -m \leq -n \).
    \thmitem{thm:def:integer_ordering/difference} \( n \leq m \) if and only if \( m - n \) is nonnegative.
    \thmitem{thm:def:integer_ordering/total} It is a \hyperref[def:totally_ordered_set]{total order}.
    \thmitem{thm:def:integer_ordering/ordered_ring} It makes \( \BbbZ \) an \hyperref[def:ordered_semiring]{ordered (semi)ring}.
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:integer_ordering/positive} Trivial.
  \SubProofOf{thm:def:integer_ordering/negative} Trivial.

  \SubProofOf{thm:def:integer_ordering/inverse} Let \( n \leq m \).
  \begin{itemize}
    \item If \( n \) and \( m \) are both either nonnegative or negative, then \( -m \leq -n \) by definition.
    \item If \( n \) is negative and \( m \) is not, then by \fullref{thm:def:integer_signum/inverse} \( -m \) is negative and \( -n \) is not. Hence, \( -m \leq -n \).
  \end{itemize}

  The converse direction of the proof is identical.

  \SubProofOf{thm:def:integer_ordering/difference} We have \( n \leq m \) if and only if \( 0 = n - n \leq m - n \).

  \SubProofOf{thm:def:integer_ordering/total} The order \( \leq \) is clearly defined for every pair of integers, so it remains to show that it is a partial order.

  \SubProofOf*[def:binary_relation/reflexive]{reflexivity} If \( n \) is positive, then \( n \leq n \) since \( n \leq_\BbbN n \). Otherwise, \( n \leq n \) since \( -n \leq_\BbbN -n \).

  \SubProofOf*[def:binary_relation/antisymmetric]{antisymmetry} Suppose that \( n \leq m \) and \( m \leq n \).
  \begin{itemize}
    \item If \( n \) and \( m \) are both nonnegative, then \( n = m \) from the antisymmetry of the natural number ordering.
    \item If \( n \) and \( m \) are both negative, then \( -n = -m \) from the antisymmetry of the natural number ordering.
    \item If \( n \) is nonnegative and \( m \) is negative, we have \( m \leq n \) but not \( n \leq m \). This contradicts our assumption.
    \item If \( n \) is negative and \( m \) is nonnegative, we have \( n \leq m \) but not \( m \leq n \). This contradicts our assumption.
  \end{itemize}

  \SubProofOf*[def:binary_relation/transitive]{transitivity} Suppose that \( n \leq m \) and \( m \leq k \).
  \begin{itemize}
    \item If \( n \), \( m \) and \( k \) are nonnegative, then \( n \leq k \) from the transitivity of the natural number ordering.
    \item If \( n \), \( m \) and \( k \) are negative, then \( -k \leq -n \) and, by \fullref{thm:def:integer_ordering/inverse}, \( n \leq k \).
    \item If \( n \) is negative and \( k \) is nonnegative, then \( n \leq k \) by definition.
  \end{itemize}

  \SubProofOf{thm:def:integer_ordering/ordered_ring} We will show that \( \BbbZ \) is an ordered ring:
  \SubProofOf*[def:ordered_semigroup]{addition compatibility} If \( n \leq m \), we will prove that \( n + k \leq m + k \) for any integer \( k \).

  We have \( n + (m - n) = m \), and hence \( n + (m - n) + k = m + k \). \Fullref{thm:def:integer_ordering/difference} implies that \( m - n \) is nonnegative, hence can use induction on it to show that \( n + k \leq m + k \). More precisely, we will use induction on \( s \) to show that \( n \leq n + s \) implies that \( n + k \leq n + s + k \).

  \begin{itemize}
    \item The case \( s = 0 \) is trivial.
    \item If \( n + k \leq n + s + k \), then we have the following cases:
    \begin{itemize}
      \item If \( n + s + k \) is nonnegative, then \( n + s + k \leq n + (s + 1) + k \) by \fullref{thm:natural_numbers_are_well_ordered}, even without the inductive hypothesis.
      \item If \( n + s + k \) is negative, then \( -n - s - k \) is positive, and, again by \fullref{thm:natural_numbers_are_well_ordered},
      \begin{equation*}
        -n - (s + 1) - k \leq -n - (s + 1) - k + 1 = -n - s - k.
      \end{equation*}

      \Fullref{thm:def:integer_ordering/inverse} then implies that
      \begin{equation*}
        n + s + k \leq n + (s + 1) + k.
      \end{equation*}
    \end{itemize}

    In both cases,
    \begin{equation*}
      n + k \leq n + s + k \leq n + (s + 1) + k.
    \end{equation*}
  \end{itemize}

  \SubProofOf*[def:ordered_semiring]{multiplication compatibility} If \( n \leq m \), we will prove that \( nk \leq mk \) for any nonnegative integer \( k \).

  \begin{itemize}
    \item If both \( n \) and \( m \) are nonnegative, the statement follows from \fullref{thm:natural_numbers_are_well_ordered}.
    \item If both \( n \) and \( m \) are negative, \fullref{thm:def:integer_ordering/inverse} implies that \( -m \leq -n \), then the previous case implies that \( (-m)k \leq (-n)k \), and finally \( nk \leq mk \).
    \item If \( n \) is negative and \( m \) is nonnegative, we have two cases:
      \begin{itemize}
        \item The case \( k = 0 \) is trivial due to the absorption property \eqref{eq:def:semiring/absorption}.

        \item If \( k > 0 \), \fullref{thm:def:integer_signum/product} implies that
        \begin{equation*}
          \sgn(nk) = \sgn(n) \sgn(k) = \sgn(n) < \sgn(m) = \sgn(m) \sgn(k) = \sgn(mk),
        \end{equation*}
        hence \( nk \) is negative and \( mk \) is nonnegative.
    \end{itemize}
  \end{itemize}
\end{proof}

\begin{definition}\label{def:integer_absolute_value}\mimprovised
  We define the function
  \begin{equation*}
    \begin{aligned}
      &\abs{\anon}: \BbbZ \to \BbbN \\
      &\abs{n} \coloneqq \begin{cases}
        n,  &n \geq 0 \\
        -n, &n < 0.
      \end{cases}
    \end{aligned}
  \end{equation*}

  We call \( \abs{\anon} \) the \term{absolute value function} in \( \BbbZ \). It does satisfy the absolute value axioms from \fullref{def:absolute_value}. A proof would be cyclic, however, since the real numbers rely on an extension of \( \abs{\anon} \).
\end{definition}

\paragraph{Topology of integers}

\begin{proposition}\label{thm:order_topology_on_integers_is_discrete}
  The \hyperref[def:order_topology]{order topology} on the set of integers is \hyperref[def:discrete_topology]{discrete}.
\end{proposition}
\begin{proof}
  The base \eqref{eq:def:order_topology/base} contains, among others, intervals of the form \( \set{ n } = (n - 1, n + 1) \) for any integer \( n \). The union of such sets give all possible subsets of \( \BbbZ \).
\end{proof}

\begin{corollary}\label{thm:order_topology_on_natural_numbers_is_discrete}
  The \hyperref[def:order_topology]{order topology} on the set of natural numbers is \hyperref[def:discrete_topology]{discrete}.
\end{corollary}
\begin{proof}
  Follows from the same argument as our proof in \fullref{thm:order_topology_on_integers_is_discrete} by noting that the subbase \eqref{eq:def:order_topology/subbase} contains the interval \( \set{ 0 } = (-\infty, 1) \).
\end{proof}

\paragraph{Integer division}

\begin{algorithm}[Integer division]\label{alg:integer_division}
  Fix two integers \( n \) and \( m \), and assume that \( m \) is nonzero. Define
  \begin{align*}
    q &\coloneqq \sgn(nm) \cdot \max\set{ y \geq 0 \colon y\abs{m} < \abs{n} } \\
    r &\coloneqq n - mq
  \end{align*}

  Then \( q \) and \( r \) and the unique integers such that \( \abs{r} < \abs{m} \) and
  \begin{equation*}
    n = mq + r.
  \end{equation*}

  We will use the notation \( \quot(n, m) \) and \( \rem(n, m) \) from \fullref{def:euclidean_domain}.
\end{algorithm}
\begin{proof}
  \SubProof{Proof of correctness} The case \( n = 0 \) is trivial so assume that \( n \neq 0 \). We have
  \begin{center}
    \begin{tabular}{l | l | l}
      \( n \)  & \( m \)  & \( q \) \\
      positive & positive & \( \phantom{-}\max\set{ y \geq 0 \colon (n - m \leq) \thickspace y(+m) < +n } \) \\
      positive & negative & \( -\max\set{ y \geq 0 \colon (n + m \leq) \thickspace y(-m) < +n } \) \\
      negative & positive & \( -\max\set{ y \geq 0 \colon (m - n \leq) \thickspace y(+m) < -n } \) \\
      negative & negative & \( \phantom{-}\max\set{ y \geq 0 \colon (n - m \leq) \thickspace y(-m) < -n } \)
    \end{tabular}
  \end{center}

  It follows that \( \abs{n - mq} < \abs{m} \).

  \UniquenessSubProof Suppose that \( n = mq + r = mq' + r' \), where \( \abs{r} < \abs{m} \) and \( \abs{r'} < \abs{m} \). Then
  \begin{equation*}
    m(q - q') = -(r - r').
  \end{equation*}

  Thus, \( m \) divides \( r - r' \). Then \( m \) divides \( r \) and \( r' \) contradicting the assumption that \( \abs{r} < \abs{m} \).
\end{proof}

\begin{proposition}\label{thm:integers_are_euclidean_domain}
  The \hyperref[def:integers]{ring of integers} is an \hyperref[def:euclidean_domain]{Euclidean domain} with division given by \fullref{alg:integer_division} and degree function \( \abs{\anon} \).
\end{proposition}
\begin{proof}
  By \fullref{thm:integers_are_integral_domain}, \( \BbbZ \) is an integral domain. The Euclidean domain structure is described by \fullref{alg:integer_division}.
\end{proof}

\begin{remark}\label{rem:integer_domain_chain}\hfill
  \begin{itemize}
    \item By \fullref{thm:integers_are_euclidean_domain}, \( \BbbZ \) is a \hyperref[def:euclidean_domain]{Euclidean domain}.
    \item By \fullref{thm:def:euclidean_domain/pid}, \( \BbbZ \) is a \hyperref[def:principal_ideal_domain]{principal ideal domain}.
    \item By \fullref{thm:def:principal_ideal_domain/ufd}, \( \BbbZ \) is a \hyperref[def:unique_factorization_domain]{unique factorization domain}.
    \item By \fullref{thm:def:unique_factorization_domain/gcd}, \( \BbbZ \) is a \hyperref[def:gcd_domain]{GCD domain}.
  \end{itemize}
\end{remark}

\begin{remark}\label{rem:integer_gcd}
  We discuss in \fullref{rem:choice_of_associates} and \fullref{rem:lattice_of_principal_ideals} how, in general \hyperref[def:gcd_domain]{GCD domain}, the \hyperref[def:gcd_and_lcm]{greatest common divisors} are not unique.

  The \hyperref[def:gcd_and_lcm]{greatest common divisor} of is, by convention, \hi{positive}. This leaves a canonical choice for both the greatest common divisor and the least common multiple. By \fullref{thm:natural_number_divisibility_lattice}, the \hyperref[thm:semiring_divisibility_order]{divisibility order} of positive integers is compatible with the usual \hyperref[def:integer_ordering]{integer ordering}.

  \Fullref{alg:euclidean_algorithm} allows us to explicitly compute both GCDs and LCMs.
\end{remark}

\paragraph{Prime numbers}

\begin{definition}\label{def:prime_number}\mcite[2]{Knapp2016BasicAlgebra}
  A \term{prime number} is an integer greater than \( 1 \) whose only proper \hyperref[def:divisibility]{divisor} is \( 1 \). Non-prime integers greater than \( 1 \) are called \term{composite numbers}.
\end{definition}

\begin{remark}\label{rem:prime_numbers}
  The definition of a prime number given in \fullref{def:prime_number} is standard, however it seems quite inconsistent with \fullref{subsec:integral_domains}.

  First, \fullref{subsec:integral_domains} actually defines \hyperref[def:domain_divisibility/irreducible]{irreducible elements} rather than \hyperref[def:domain_divisibility/prime]{prime elements} of the domain \( \BbbZ \). Second, if \( p \) is a prime number, \( -p \) is also a prime number.

  Fortunately, prime and irreducible elements coincide in \hyperref[def:gcd_domain]{GCD domains} due to \fullref{thm:def:gcd_domain/irreducible_is_prime} and \fullref{thm:def:gcd_domain/irreducible_is_prime}. Unfortunately, calling negative prime elements of \( \BbbZ \) \enquote{prime numbers} is not accepted.

  Coprime integers are, fortunately, defined as in general GCD domains via \fullref{def:coprime_elements}.
\end{remark}

\begin{lemma}[Euclid's lemma]\label{thm:euclids_lemma}
  If \( p \) is a \hyperref[def:prime_number]{prime number}, then \( p \mid nm \) implies \( p \mid n \) or \( p \mid m \).
\end{lemma}
\begin{proof}
  Since \( \BbbZ \) is a GCD domain, the lemma follows from \fullref{thm:def:gcd_domain/irreducible_is_prime}.
\end{proof}

\begin{theorem}[Fundamental theorem of arithmetic]\label{thm:fundamental_theorem_of_arithmetic}
  Every integer greater than \( 1 \) can be \hyperref[def:irreducible_factorization]{factored} into a product of \hyperref[def:prime_number]{prime} powers.
\end{theorem}
\begin{proof}
  We have discussed in \fullref{rem:integer_domain_chain} that \( \BbbZ \) is a unique factorization domain.
\end{proof}

\begin{proposition}\label{thm:n_plus_1_coprime}
  Given any integer greater \( n \) than \( 1 \), the numbers \( n \) and \( n + 1 \) are \hyperref[def:coprime_elements]{coprime}.
\end{proposition}
\begin{proof}
  Let \( m \) be a common divisor of \( n \) and \( n + 1 \). Then there exists some integer \( k \) such that \( n = km \) and some integer \( l \) such that \( n + 1 = lm \). Then
  \begin{equation*}
    n + 1 = lm = km + 1,
  \end{equation*}
  thus \( m \) divides \( 1 \).

  Therefore, \( m = 1 \).
\end{proof}

\paragraph{Euler's totient theorem}

\begin{definition}\label{def:eulers_totient_function}\mcite[7]{Knapp2016BasicAlgebra}
  For any positive integer \( n \), denote by \( \varphi(n) \) the number of strictly smaller than \( n \) positive integers that are \hyperref[def:coprime_elements]{coprime} to \( n \). We call \( \varphi \) \term{Euler's totient function}.
\end{definition}

\begin{proposition}\label{thm:def:eulers_totient_function}
  \hyperref[def:eulers_totient_function]{Euler's totient function} \( \varphi \) has the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:eulers_totient_function/one} \( \varphi(1) = 0 \).
    \thmitem{thm:def:eulers_totient_function/prime} If \( p \) is \hyperref[def:prime_number]{prime}, then \( \varphi(p) = p - 1 \).
    \thmitem{thm:def:eulers_totient_function/zn} The \hyperref[def:semiring]{multiplicative group} \( \BbbZ_n^\times \) of the ring \hyperref[thm:ring_of_integers_modulo]{\( \BbbZ_n \)} of integers modulo \( n > 1 \) has order \( \varphi(n) \).
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:eulers_totient_function/one} There are no positive integers smaller than \( 1 \).

  \SubProofOf{thm:def:eulers_totient_function/prime} Every positive integer smaller than \( p \) is coprime to \( p \), and there are exactly \( p - 1 \) positive integers smaller than \( p \) --- \( 1, 2, \ldots, p - 1 \).

  \SubProofOf{thm:def:eulers_totient_function/zn} Follows from \fullref{thm:multiplicative_group_of_integers_modulo}.
\end{proof}

\begin{theorem}[Euler's totient theorem]\label{thm:eulers_totient_theorem}
  For positive coprime integers \( n \) and \( x \), we have
  \begin{equation*}
    x^{\varphi(n)} \cong 1 \pmod n,
  \end{equation*}
  where \( \varphi \) is \hyperref[def:eulers_totient_function]{Euler's totient function}.
\end{theorem}
\begin{proof}
  This is vacuous for \( n = 1 \) since all integers are equal modulo \( 1 \).

  Suppose that \( n > 1 \). First, use \fullref{alg:integer_division} to obtain integers \( q \) and \( y < n \) such that
  \begin{equation*}
    x = nq + y.
  \end{equation*}

  Since \( x \) is, by assumption, coprime with \( n \), then \( y \) is also coprime with \( n \). Indeed, every common divisor \( d \) of \( y \) and \( n \) is also a common divisor \( x \), and the largest such possible value is \( \gcd(n, x) = 1 \).

  Now consider the \hyperref[def:semiring]{multiplicative group} \( \BbbZ_n^\times \) of the ring \hyperref[thm:ring_of_integers_modulo]{\( \BbbZ_n \)} of integers modulo \( n \) and the \hyperref[def:cyclic_group]{cyclic subgroup} \( \set{ 1, y, y^2, \ldots } \) (modulo \( n \)). It is necessarily finite as a subgroup of \( \BbbZ_n^\times \). Furthermore, by \fullref{thm:lagranges_subgroup_theorem}, its order \( k \) divides the order of \( \BbbZ_n^\times \). By \fullref{thm:def:eulers_totient_function/zn}, the order of \( \BbbZ_n^\times \) is \( \varphi(n) \).

  We have \( y^k \cong 1 \pmod n \) since \( k \) is the order of a cyclic group. If \( \varphi(n) = km \), then
  \begin{equation*}
    y^{\varphi(n)}
    =
    y^{km}
    \reloset {\eqref{eq:thm:semigroup_exponentiation_properties/repeated}} =
    (y^k)^m
    \cong
    1^m
    \pmod n.
  \end{equation*}
\end{proof}

\begin{corollary}\label{thm:division_modulo}
  Given positive integers \( n \) and \( m \), we can apply \fullref{alg:integer_division} to obtain \( n = q \varphi(m) + r \), where \( \varphi \) is \hyperref[def:eulers_totient_function]{Euler's totient function}.

  Then, for a positive integer \( x \) coprime to \( m \), we have
  \begin{equation*}
    x^n \cong x^r \pmod m,
  \end{equation*}
\end{corollary}
\begin{proof}
  By \fullref{thm:eulers_totient_theorem}, \( x^{\varphi(m)} \cong 1 \pmod m \). Then
  \begin{equation*}
    x^n = (x^{\varphi(m)})^q x^r \cong x^r \pmod m.
  \end{equation*}
\end{proof}

\begin{example}\label{ex:division_modulo}
  The integers \( 9 \) and \( 10 \) are coprime. We have \( \varphi(9) = 6 \) and \( 1000 = 166 \cdot 6 + 4 \). By \fullref{thm:division_modulo},
  \begin{equation*}
    9^{1000} \cong 9^4 \cong 6561 \cong 1 \pmod {10}.
  \end{equation*}

  We can thus vastly simplify finding the last digit of the decimal representation of \( 9^{1000} \).
\end{example}

\begin{theorem}[Fermat's little theorem]\label{thm:fermats_little_theorem}
  For a \hyperref[def:prime_number]{prime number} \( p \) and for any positive integer \( x \), we have
  \begin{equation*}
    x^p \cong x \pmod p.
  \end{equation*}
\end{theorem}
\begin{proof}
  If \( p \mid x \), then both \( x^p \) and \( x \) and congruent to \( 0 \) modulo \( p \).

  Otherwise, by \fullref{thm:eulers_totient_theorem}, we have \( x^{\varphi(p) + 1} \cong x \pmod p \), and by \fullref{thm:def:eulers_totient_function/prime}, we have \( \varphi(p) + 1 = p \).
\end{proof}
