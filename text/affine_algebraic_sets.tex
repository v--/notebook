\section{Affine algebraic sets}\label{sec:affine_algebraic_sets}

\paragraph{Krull dimension}

\begin{definition}\label{def:krull_dimension}\mcite[67]{КоцевСидеров2016КомутативнаАлгебра}
  The \term{Krull dimension} \( \dim R \) of a \hyperref[def:ring/commutative]{commutative unital ring} \( R \) is the \hyperref[thm:union_of_set_of_ordinals/supremum]{ordinal supremum} of the lengths \( n \) of ascending sequences
  \begin{equation*}
    \set{ 0 } \subsetneq P_1 \subsetneq P_2 \subsetneq \cdots \subsetneq P_n \subsetneq R
  \end{equation*}
  of nontrivial prime ideals strictly contained in \( R \).

  The Krull dimension is either a nonnegative integer or the smallest \hyperref[def:successor_and_limit_cardinal/weak_limit]{limit cardinal} \( \aleph_0 \), which we denote via \( \infty \).
\end{definition}

\begin{proposition}\label{thm:def:krull_dimension}
  \hyperref[def:krull_dimension]{Krull dimensions} have the following properties:
  \begin{thmenum}
    \thmitem{thm:def:krull_dimension/field} The dimension of a \hyperref[def:field]{field} is \( 0 \).

    \thmitem{thm:def:krull_dimension/quotient} If \( I \) is an ideal of \( R \), then \( \dim R / I \leq \dim R \).

    \thmitem{thm:def:krull_dimension/localization}\mcite[thm. 1]{CoquandLombardi2018KrullDimension} We have \( 1 \leq \dim R \leq n \) if and only if \( \dim S_{\set{ x }}^{-1} R \leq n - 1 \) for every \( x \in R \), where
    \begin{equation*}
      S_{\set{ x }} = \set{ z \in R \given \qexists {n \in \BbbZ_{\geq 0}} \qexists {a \in R} z = x^n (1 + ax) }.
    \end{equation*}

    \thmitem{thm:def:krull_dimension/expanded_localization}\mcite[corr. 2]{CoquandLombardi2018KrullDimension} We have \( 1 \leq \dim R \leq n \) if and only if, for every sequence \( x_1, \ldots, x_{n+1} \) in \( R \), there exists a sequence \( a_1, \ldots, a_{n+1} \) in \( R \) and nonnegative integers \( m_1, \ldots, m_{n+1} \) such that
    \begin{equation*}
      x_1^{m_1} ( \cdots ( x_{n+1}^{m_{n+1}} ( 1 + a_{n+1} x_{n+1} ) + \cdots ) + a_1 x_1 ) = 0.
    \end{equation*}

    \thmitem{thm:def:krull_dimension/independent}\mcite[corr. 3]{CoquandLombardi2018KrullDimension} For an \hyperref[def:algebra_over_ring]{algebra} \( M \) over a \hyperref[def:field]{field} \( \BbbK \), if every sequence \( x_1, \ldots, x_{n+1} \) is \hyperref[def:algebraic_dependence]{algebraically dependent}, then \( \dim M \leq n \).

    \thmitem{thm:def:krull_dimension/polynomial_ring}\mcite[corr. 4]{CoquandLombardi2018KrullDimension} For a \hyperref[def:field]{field} \( \BbbK \), the polynomial ring \( \BbbK[X_1, \ldots, X_n] \) has dimension \( n \).
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:krull_dimension/field} A field is a \hyperref[def:simple_object]{simple ring} by definition, hence it has zero proper nontrivial ideals.

  \SubProofOf{thm:def:krull_dimension/quotient} Follows from \fullref{thm:lattice_theorem_for_ideals}.

  \SubProofOf{thm:def:krull_dimension/localization} Suppose that
  \begin{equation*}
    \braket{ 0_R } \subsetneq S^{-1} P_1 \subsetneq \cdots \subsetneq S^{-1} P_m \subsetneq S^{-1} R
  \end{equation*}
  is a ascending sequence of prime ideals in \( S^{-1} R \). By \fullref{thm:def:ring_localization/prime_ideals},
  \begin{equation*}
    \braket{ 0_R } \subsetneq P_1 \subsetneq \cdots \subsetneq P_m \subsetneq R.
  \end{equation*}
  is a ascending sequence of prime ideals in \( R \). Then clearly \( m \leq \dim R \).

  We will now show that \( m \leq \dim R - 1 \). We will need the following observations:
  \begin{itemize}
    \item For every \( x \in R \), every maximal ideal \( M \) in \( R \) intersects \( S_{\set{ x }} \). This is obvious if \( x \in M \). Otherwise, since \( M \) is maximal, \( R = M + \braket{ x } \). Hence, there exist \( m \in M \) and \( a \in R \) such that \( m + ax = 1 \). Then \( 1 - ax \in M \cap S_{\set{ x }} \).

    \item No nested prime ideal \( P \subsetneq M \) intersects \( S_{\set{ x }} \) for \( x \in M \setminus R \). Indeed, suppose that \( x^n(1 + ax) \in S_{\set{ x }} \cap P \). Since \( P \) is prime, \( x^n \not\in P \), and hence \( 1 + ax \in P \). Since \( x \in M \), then \( ax \in M \), and thus from \( 1 + ax \in M \) it follows that \( 1 \in M \), contradicting the maximality of \( M \).
  \end{itemize}

  It follows that for any maximal ideal \( M \) of \( R \), \( S_{\set{ x }}^{-1} M \) is not a prime ideal for any \( x \in R \), while for any prime ideal \( P \subsetneq M \) and \( x \in M \setminus P \), \( S_{\set{ x }}^{-1} P \) is a prime ideal. Therefore, \( m \leq \dim R - 1 \) and, in general, this estimate is strict.

  \SubProofOf{thm:def:krull_dimension/expanded_localization}

  \SufficiencySubProof* We use induction on \( n \). The base case \( n = 1 \) follows directly from \fullref{thm:def:krull_dimension/localization}.

  Suppose that the statement holds for \( n - 1 \) and let \( \dim R = n \). By \fullref{thm:def:krull_dimension/localization}, \( \dim S_{\set{ x }}^{-1} R \leq n - 1 \) for every \( x \in R \).

  Let \( x_1, \ldots, x_{n+1} \) be members of \( R \). By using the inductive hypothesis on \( S_{\set{ x_{n+1} }}^{-1} R \), we obtain members \( a_1, \ldots, a_n \) and \( b_1, \ldots, b_n \) of \( R \) and nonnegative integers \( m_1, \ldots, m_n \) and \( k_1, \ldots, k_n \), such that
  \begin{equation*}
    x_1^{m_1} \parens*{ \cdots \parens*{ x_n^{m_n} \parens*{ 1 + \frac {a_n} {x_{n+1}^{k_n} (1 + b_n x_{n+1}) } x_n } + \cdots } + \frac {a_1} {x_{n+1}^{k_1} (1 + b_1 x_{n+1}) } x_1 } = 0.
  \end{equation*}

  Put
  \begin{equation*}
    c_i \coloneqq \prod_{j \neq i} x_{n+1}^{k_j} (1 + b_j x_{n+1})
  \end{equation*}
  and
  \begin{equation*}
    c \coloneqq \prod_{j=1}^{n+1} x_{n+1}^{k_j} (1 + b_j x_{n+1}).
  \end{equation*}

  Let \( m_{n+1} \coloneqq \prod_{j=1}^{n+1} k_j \). Since \( c \) is a member of \( S_{\set{ x_{n+1} }} \), there exists \( a_{n+1} \) (which we can obtain explicitly if desired) such that
  \begin{equation*}
    c = x_{n+1}^{m_{n+1}} (1 + a_{n+1} x_{n+1}).
  \end{equation*}

  Then
  \begin{equation*}
    x_1^{m_1} \parens{ \cdots \parens{ x_n^{m_n} \parens{ \underbrace{ x_{n+1}^{m_{n+1}} (1 + a_{n+1} x_{n+1}) }_c + a_n c_n x_n } + \cdots } + a_1 c_1 x_1 } = 0.
  \end{equation*}

  \NecessitySubProof* Follows from following the sufficiency subproof in the reverse direction.

  \SubProofOf{thm:def:krull_dimension/independent} Suppose that every sequence of \( n + 1 \) members of \( M \) is algebraically dependent. Let \( x_1, \ldots, x_{n+1} \) be members of \( M \). Then there exists a polynomial \( f(X_1, \ldots, X_{n+1}) \) such that \( f(x_1, \ldots, x_{n+1}) = 0 \).

  The polynomial can be written (in multiple ways) as
  \begin{equation*}
    f(X_1, \ldots, X_{n+1}) = X_1^{\gamma_1} \parens[\Big]{ \cdots \parens[\Big]{ X_{n+1}^{\gamma_{n+1}} \parens[\Big]{ 1 + g_{n+1}(X_{n+1}) X_{n+1} } + \cdots } + g_1(X_1, \ldots, X_{n+1}) X_1 }.
  \end{equation*}

  Then, by \fullref{thm:def:krull_dimension/expanded_localization}, \( \dim M \leq n \).

  \SubProofOf{thm:def:krull_dimension/polynomial_ring} The \hyperref[def:vector_space]{vector space} \( \BbbK[X_1, \ldots, X_n] \) has dimension \( n \). By \fullref{thm:def:algebraic_dependence/n_plus_one_dependent}, every \( n + 1 \) polynomials are algebraically independent. From \fullref{thm:def:krull_dimension/independent} it follows that \( \dim \BbbK[X_1, \ldots, X_n] \leq n \).

  Furthermore, we have the following ascending sequence of prime ideals
  \begin{equation*}
    \braket{ 0 } \subsetneq \braket{ X_1 } \subsetneq \braket{ X_1, X_2 } \subsetneq \braket{ X_1, \ldots, X_n } \subsetneq \BbbK[X_1, \ldots, X_n].
  \end{equation*}

  Therefore, \( \dim \BbbK[X_1, \ldots, X_n] \geq n \).
\end{proof}

\paragraph{Affine algebraic set}

\begin{definition}\label{def:affine_algebraic_set}\mcite[69]{КоцевСидеров2016КомутативнаАлгебра}
  For each ideal \( I \) of the \hyperref[def:polynomial_algebra]{polynomial ring} \( \BbbK[X_1, \ldots, X_n] \) over an \hi{\hyperref[def:algebraically_closed_field]{algebraically closed}} \hyperref[def:field]{field}\fnote{We require the field to be algebraically closed to avoid pathologies like \fullref{ex:real_algebraic_curves}} \( \BbbK \), we define its \term[bg=алгебрично многообразие, ru=алгебрическое многообразие]{affine algebraic set} as the locus of the simultaneous roots of all polynomials in \( I \),
  \begin{equation*}
    \mscrV(I) \coloneqq \set{ (x_1, \ldots, x_n) \in \BbbK^n \given \qforall {f \in I} f(x_1, \ldots, x_n) = 0 }.
  \end{equation*}

  \begin{thmenum}
    \thmitem{def:affine_algebraic_set/coordinate_ring} The quotient \( \BbbK[X_1, \ldots, X_n] / I \) is called a \term{coordinate ring} of \( \mscrV(I) \).

    \thmitem{def:affine_algebraic_set/dimension} The \term{dimension} \( \dim(\mscrV(I)) \) of an affine set is defined as the \hyperref[def:krull_dimension]{Krull dimension} of the coordinate ring \( \BbbK[X_1, \ldots, X_n] / I \).

    By \fullref{thm:lattice_theorem_for_submodules}, the dimension is the supremum of the length of ascending prime ideal sequences starting at \( I \):
    \begin{equation*}
      I \subsetneq P_1 \subsetneq P_2 \subsetneq \cdots \subsetneq P_n \subsetneq \BbbK[X_1, \ldots, X_n].
    \end{equation*}

    \thmitem{def:affine_algebraic_set/variety} If \( I \) is a \hyperref[def:semiring_ideal/prime]{prime ideal}, we say that \( \mscrV(I) \) is an \term{algebraic variety}.

    \thmitem{def:affine_algebraic_set/curve} An \term{algebraic curve} over \( \BbbK^n \) is a unidimensional affine variety.

    \thmitem{def:affine_algebraic_set/surface} An \term{algebraic surface} over \( \BbbK^n \) is an affine variety of dimension two.
  \end{thmenum}
\end{definition}

\begin{remark}\label{rem:real_affine_varieties}
  We define \hyperref[def:affine_algebraic_set/variety]{algebraic varieties} only for algebraically closed fields; for the purposes of \fullref{def:quadratic_plane_curve}, instead of polynomial ideals in \( \BbbR[X, Y] \) we study ideals in \( \BbbC[X, Y] \), but then only consider their \hyperref[def:root_of_polynomial]{zero loci} in \( \BbbR^2 \).
\end{remark}

\paragraph{Nullstellensatz}

\begin{theorem}[Nullstellensatz]\label{thm:hilberts_nullstellensatz}
  \todo{Prove}
\end{theorem}
