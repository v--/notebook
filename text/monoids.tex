\subsection{Monoids}\label{subsec:monoids}

We list here several basic algebraic structures that we will use mostly as building blocks for more complicated structures.

As discussed in \fullref{rem:first_order_model_notation}, listing all operations explicitly is cumbersome, and we will usually avoid it.

\begin{figure}[!ht]
  \caption{Generalizations of groups}\label{fig:monoid_hierarchy}
  \smallskip
  \hfill
  \begin{forest}
    for tree={grow=north}
    [
      {\hyperref[def:group]{Group}}
        [
          {\hyperref[def:set_with_involution]{Set with involution}}, edge label={node[midway, right=1em]{\( x^{-1} \) (unary)}}
        ]
        [
          {\hyperref[def:monoid]{Monoid}},
            [{\hyperref[def:semigroup]{Semigroup}}, edge label={node[midway, right=1em]{\( x \cdot y \) (binary)}}]
            [{\hyperref[def:pointed_set]{Pointed set}}, edge label={node[midway, left=1em]{\( e \) (nullary)}}]
        ]
    ]
  \end{forest}
  \hfill\hfill
\end{figure}

\begin{definition}\label{def:operation_on_set}\mcite[13]{Bergman2015}
  An \( n \)-ary \term[ru=операция (\cite[12]{ЦаленкоШульеейфер1974})]{operation} on a \hyperref[def:set]{plain set} \( A \) is a \hyperref[def:function]{function} from \( A^n \) to \( A \).
\end{definition}
\begin{comments}
  \item Function arguments are discussed in full generality in \fullref{rem:function_arguments}. For operations, the arity is unambiguous, and so we use the terms \enquote{unary}, \enquote{binary}, \enquote{ternary}, etc. more freely.
\end{comments}

\paragraph{Pointed sets}

\begin{definition}\label{def:pointed_set}\mcite[26]{MacLane1998}
  A \term[ru=множество с отмеченной точкой (\cite[16]{ЦаленкоШульеейфер1974})]{pointed set} is a simple algebraic structure --- a nonempty set \( X \) equipped with a distinguished element \( e \). It is an algebraic structure because \( e \) can be regarded as the sole value of the nullary \hyperref[def:operation_on_set]{operation} \( *: X^0 \to X \).

  We will call \( e \) the \term{origin} of \( X \) based on the terminology for \hyperref[def:affine_coordinate_system]{affine coordinate systems}.

  Pointed sets have the following metamathematical properties:
  \begin{thmenum}
    \thmitem{def:pointed_set/theory} Pointed sets can also be viewed as \hyperref[def:first_order_model]{models} of an empty \hyperref[def:first_order_theory]{theory} for a \hyperref[def:first_order_language]{first-order logic language} with a constant symbol, i.e. a nullary \hyperref[def:first_order_language/fun]{functional symbol}.

    \thmitem{def:pointed_set/homomorphism} A \hyperref[def:first_order_homomorphism]{first-order homomorphism} between the pointed sets \( (X, e_{X}) \) and \( (Y, e_{Y}) \) is, explicitly, a function \( \varphi: X \to Y \) that satisfies
    \begin{equation}\label{eq:def:pointed_set/homomorphism}
      \varphi(e_{X}) = e_{Y}.
    \end{equation}

    \thmitem{def:pointed_set/submodel} The set \( S \subseteq X \) is a \hyperref[def:first_order_submodel]{first-order submodel} of \( X \) if \( e \in S \).

    In particular, as a consequence of \fullref{thm:positive_formulas_preserved_under_homomorphism}, the image of a pointed set homomorphism is a submodel of its codomain.

    \thmitem{def:pointed_set/trivial} The \hyperref[rem:trivial_structure]{trivial} pointed set is, up to an isomorphism, the set \( \set{ e } \).

    It is a \hyperref[def:universal_objects/initial]{zero object} in \( \cat{Set_*} \) as discussed in \fullref{ex:def:universal_objects/grp}.

    \thmitem{def:pointed_set/initial} The \hyperref[thm:substructures_form_complete_lattice/bottom]{initial substructure} of any pointed set is isomorphic to the trivial pointed set \( \set{ e } \).

    \thmitem{def:pointed_set/category} We denote the \hyperref[def:category_of_small_first_order_models]{category of \( \mscrU \)-small models} for this theory by \( \ucat{Set}_* \).
  \end{thmenum}
\end{definition}

\paragraph{Sets with involutions}

\begin{definition}\label{def:involution}\mcite[4]{Birkhoff1948}
  We say that an \hyperref[def:function/endofunction]{endofunction} \( f: X \to X \) on a \hyperref[def:set]{plain set} is an \term[ru=инволюция (\cite[333]{Арнольд2012})]{involution} if it is its own \hyperref[def:morphism_invertibility/isomorphism]{two-sided inverse}, that is,
  \begin{equation*}
    f \circ f^{-1} = f^{-1} \circ f = \id_X
  \end{equation*}
\end{definition}

\begin{definition}\label{def:set_with_involution}\mimprovised
  A \term{set with an involution} is a \hyperref[def:set]{set} \( X \) with a unary \hyperref[def:involution]{involution} \( (\anon)^{-1} \).

  Sets with involutions have the following metamathematical properties:
  \begin{thmenum}
    \thmitem{def:set_with_involution/theory} We define the theory of sets with involution as a theory over the language consisting of a single unary functional symbol \( \anon^{-1} \) with the sole axiom
    \begin{equation}\label{eq:def:set_with_involution/theory/axiom}
      (\xi^{-1})^{-1} \doteq \xi.
    \end{equation}

    \thmitem{def:set_with_involution/homomorphism} A \hyperref[def:first_order_homomorphism]{first-order homomorphism} between sets with involutions \( X \) and \( Y \) is a function \( \varphi: X \to Y \) satisfying
    \begin{equation}\label{eq:def:set_with_involution/homomorphism}
      \varphi(x^{-1})
      =
      \varphi(x)^{-1}.
    \end{equation}

    \thmitem{def:set_with_involution/submodel} Any subset of a set with involution is again a set with involution.

    In particular, as a consequence of \fullref{thm:positive_formulas_preserved_under_homomorphism}, the \hyperref[def:set_valued_map/image]{image} of a homomorphism \( \varphi: X \to Y \) is a submodel of \( Y \).

    \thmitem{def:set_with_involution/trivial} The \hyperref[rem:trivial_structure]{trivial} set with involution is the empty set.

    See \fullref{rem:empty_first_order_structures} regarding allowing empty sets as first-order structures.

    \thmitem{def:set_with_involution/initial} The \hyperref[thm:substructures_form_complete_lattice/bottom]{initial substructure} of any set with involution is also empty.

    \thmitem{def:set_with_involution/category} We denote the \hyperref[def:category_of_small_first_order_models]{category of \( \mscrU \)-small models} for this theory by \( \ucat{Inv} \).
  \end{thmenum}
\end{definition}

\paragraph{Semigroups}

\begin{definition}\label{def:binary_operation}
  An important special case of \hyperref[def:operation_on_set]{operations} are \term{binary operations}. Given a set \( A \), a binary operation is simply a function \( \cdot: A^2 \to A \), usually denoted via \hyperref[rem:first_order_formula_conventions/infix]{infix notation}.

  The following \hyperref[def:first_order_syntax/formula]{formulas}, or rather their \hyperref[def:universal_closure]{universal closures}, are common \hyperref[def:first_order_theory/axiomatized]{axioms}:
  \begin{thmenum}
    \thmitem{def:binary_operation/associative}\mcite[lemma 6.1.1]{Bergman2015} \term[bg=асоциативност (\cite[prop. 1.13]{Соскова2015}), ru=ассоциативность (\cite[21]{Яблонский1986})]{Associativity}:
    \begin{equation}\label{eq:def:binary_operation/associative}
      (\xi \cdot \eta) \cdot \zeta = \xi \cdot (\eta \cdot \zeta).
    \end{equation}

    \thmitem{def:binary_operation/commutative}\mcite[lemma 6.1.1]{Bergman2015} \term[bg=комутативност (\cite[prop. 1.13]{Соскова2015}), ru=коммутативность (\cite[21]{Яблонский1986})]{Commutativity}:
    \begin{equation}\label{eq:def:binary_operation/commutative}
      \xi \cdot \eta \doteq \eta \cdot \xi.
    \end{equation}

    \thmitem{def:binary_operation/idempotent}\mcite[lemma 6.1.1]{Bergman2015} \term[bg=идемпотентност (\cite[prop. 1.13]{Соскова2015}), ru=идемпотентность (\cite[164]{МагарилИльяевТихомиров2002ВыпуклыйАнализ})]{Idempotence}:
    \begin{equation}\label{eq:def:binary_operation/idempotent}
      \xi \cdot \xi \doteq \xi.
    \end{equation}

    \thmitem{def:binary_operation/cancellative}\mcite[19]{MacLane1998} Left and right \term[bg=съкращаване (\cite[4]{КоцевСидеров2016}), ru=сокращение (\cite[18]{Ляпин1960})]{cancellation}:
    \begin{align}
      \qforall \zeta (\zeta \cdot \xi \doteq \zeta \cdot \eta) \rightarrow \xi = \eta
      \label{eq:def:binary_operation/cancellative/left}
      \\
      \qforall \zeta (\xi \cdot \zeta \doteq \eta \cdot \zeta) \rightarrow \xi = \eta
      \label{eq:def:binary_operation/cancellative/right}
    \end{align}
  \end{thmenum}
\end{definition}

\begin{example}\label{ex:def:binary_operation}
  We list several examples of \hyperref[def:semigroup]{semigroups} satisfying different properties.

  \begin{thmenum}
    \thmitem{ex:def:binary_operation/algebraic} \hyperref[eq:def:binary_operation/associative]{Associative} \hyperref[def:binary_operation]{binary operations} on a set are abundant and are part of the definition of essential algebraic structures like \hyperref[def:group]{groups}, \hyperref[def:ring]{rings}, \hyperref[def:vector_space]{vector spaces} and \hyperref[def:semilattice]{(semi)lattices}.

    These operations are \term{homogeneous} in the sense that their signature only contains a single set, unlike \hyperref[def:group_action]{group actions} and scalar products in \hyperref[def:vector_space]{vector spaces}.

    \thmitem{ex:def:binary_operation/composition} The quintessential example of a non-\hyperref[def:binary_operation/commutative]{commutative} operation is \hyperref[def:set_valued_map/composition]{composition} in any set of functions or, more generally, \hyperref[def:category/composition]{morphism composition} in any \hyperref[def:category]{category}.

    Composition is \hyperref[def:binary_operation/associative]{associative}. \hyperref[def:binary_operation/cancellative]{Cancellation} with respect to composition is discussed in \fullref{def:morphism_invertibility} and, for function composition, in \fullref{thm:function_invertibility_categorical}.

    \thmitem{ex:def:binary_operation/midpoint} The midpoint operation
    \begin{equation*}
      (x, y) \mapsto \dfrac {x + y} 2
    \end{equation*}
    on \( \BbbR \) is commutative and cancellative semigroup, but not associative.
  \end{thmenum}
\end{example}

\begin{remark}\label{rem:binary_operation_syntax_trees}
  \hyperref[def:binary_operation]{Binary operations} are easily extended to higher arities. Given a binary operation \( +: A \times A \to A \), we can extend it via \hyperref[rem:natural_number_recursion]{natural number recursion} to arbitrary \( n \)-tuples \( x_1, \ldots, x_n \) via parentheses:
  \begin{equation}\label{eq:rem:binary_operation_syntax_trees/right}
    (x_1 + (x_2 + \cdots + (x_{n-1} + x_n) \cdots )).
  \end{equation}

  This expression corresponds to the \hyperref[rem:abstract_syntax_tree]{abstract syntax tree}
  \begin{equation}\label{eq:rem:binary_operation_syntax_trees/tree/basic}
    \begin{aligned}
      \includegraphics[page=1]{output/rem__binary_operation_syntax_trees}
    \end{aligned}
  \end{equation}

  Several things can be noted here.
  \begin{thmenum}
    \thmitem{rem:binary_operation_syntax_trees/associativity} When exchanging the order of the parentheses in the expression \eqref{eq:rem:binary_operation_syntax_trees/right}, only the root is changed in the syntax tree \eqref{eq:rem:binary_operation_syntax_trees/tree/basic}.

    Thus, for an \hyperref[def:binary_operation/associative]{associative} binary operation, abstract syntax trees can instead be represented as finite ordered rooted trees like
    \begin{equation}\label{eq:rem:binary_operation_syntax_trees/tree/associative}
      \begin{aligned}
        \includegraphics[page=2]{output/rem__binary_operation_syntax_trees}
      \end{aligned}
    \end{equation}

    Of course, \( n \)-ary trees can still be used for non-associative binary operations, as long as we have selected a strategy for \hyperref[rem:evaluation]{evaluation}. If we evaluate \eqref{eq:rem:binary_operation_syntax_trees/tree/associative} as we would evaluate \eqref{eq:rem:binary_operation_syntax_trees/right}, we say that the operation is \term{right associative}. Dually, if we evaluate \eqref{eq:rem:binary_operation_syntax_trees/tree/associative} as we would evaluate
    \begin{equation}\label{eq:rem:binary_operation_syntax_trees/left}
      (( \cdots (x_1 + x_2) + \cdots + x_{n-1}) + x_n),
    \end{equation}
    we say that the operation is \term{left associative}.

    Note that, unlike associativity, left and right associativity are not properties of the operation, but rather conventions on how to evaluate expressions without explicit parentheses. For example, in a \hyperref[def:heyting_algebra]{Heyting algebra}, the \hyperref[eq:def:heyting_algebra/conditional]{conditional} \( \rightarrow \) is not associative, but it is often taken to be right associative so that
    \begin{equation*}
      x \rightarrow y \rightarrow z
    \end{equation*}
    is evaluated as
    \begin{equation*}
      (x \rightarrow (y \rightarrow z)).
    \end{equation*}

    \thmitem{rem:binary_operation_syntax_trees/commutativity} If, additionally, the operation is \hyperref[def:binary_operation/commutative]{commutative}, we can regard the syntax tree as if the tree was a plain unordered (but still node-labeled) tree.

    Commutativity allows us to swap summands inside parentheses, and associativity is needed to \enquote{remove} the parentheses. Thus, it makes sense to always place parentheses in operations that are commutative but not associative.

    An an example, consider the real number midpoint operation
    \begin{equation*}
      x \oplus y \coloneqq \frac {x + y} 2
    \end{equation*}
    from \fullref{ex:def:binary_operation/midpoint}. It is commutative and not associative, and in the expression \( x \oplus y \oplus z \), we can swap \( x \) with \( y \) but not with \( z \). This can be very unintuitive. We aim to always write parentheses for non-associative operations.

    \thmitem{rem:binary_operation_syntax_trees/infinite} Suppose that \( + \) is associative and commutative. Suppose also that we are given an \hyperref[def:cartesian_product/indexed_family]{indexed family} \( \seq{ x_k }_{k \in \mscrK} \) of elements of \( M \). We can construct an infinite tree with root \( + \) and children \( \seq{ x_k }_{k \in \mscrK} \).

    This is not strictly a syntax tree. Syntax trees are necessarily finite, and our family \( \mscrK \) may even be uncountable. Nevertheless, we can sometimes evaluate this tree to obtain a member of the monoid.
    \begin{thmenum}
      \thmitem{rem:binary_operation_syntax_trees/infinite/lattice} The operations of a \hyperref[def:semilattice/lattice]{lattice} arise by specializing \hyperref[def:extremal_points/supremum_and_infimum]{suprema and infima} to binary sets. Conversely, as discussed in \fullref{thm:binary_lattice_operations/new_lattice}, the binary lattice operations induce a \hyperref[def:partially_ordered_set]{partial order}, and we can define arbitrary suprema and infima. If the lattice happens to be \hyperref[def:semilattice/complete]{complete}, instead of the binary operations, we can use
      \begin{equation*}
        \bigvee_{k \in \mscrK} x_k = \sup\set{ x_k \given k \in \mscrK }.
      \end{equation*}

      \thmitem{rem:binary_operation_syntax_trees/infinite/convergence} If \( M \) is a \hyperref[rem:topological_first_order_structures]{topological monoid} and if \( \mscrK = \set{ 1, 2, 3, \ldots } \), the family is a \hyperref[def:sequence]{sequence}, and we can define the sequence of partial sums
      \begin{equation*}
        \seq*{ \sum_{k=1}^n x_k }_{n=1}^\infty
      \end{equation*}

      This gives rise to \hyperref[def:convergent_series]{series} discussed in \fullref{subsec:series} and \fullref{subsec:real_series}. A limit may not exist for the net, unfortunately, and if it does, it may not be unique (if the topology is not \hyperref[def:separation_axioms/T2]{Hausdorff}).

      \thmitem{rem:binary_operation_syntax_trees/infinite/direct_sum} Suppose that \( M \) has an \hyperref[def:monoid]{identity element} \( 0_M \). If only finitely many elements of the family are different from \( 0_M \), we regard the ordinary summation operation as well-defined on the whole family and write
      \begin{equation*}
        s \coloneqq \sum_{k \in \mscrK} x_k.
      \end{equation*}

      Technically, this involves selecting a \hyperref[def:well_ordered_set]{well-ordering} \( x_{1_n}, \ldots, x_{k_n} \) on the set
      \begin{equation*}
        \set{ x_k \given k \in \mscrK \T{and} x_k \neq 0 }
      \end{equation*}
      and assigning to \( s \) the result of the iterated binary operation
      \begin{equation*}
        (x_{1_n} + (x_{2_n} + \cdots + (x_{k_{n-1}} + x_{k_n}) \cdots)).
      \end{equation*}

      Commutativity ensures that the sum \( s \) does not depend on the order of summands (and hence on the well-order we have chosen). Adding any member of the family would not change the sum, which justifies this shorthand definition. Furthermore, since we only sum finitely many summands, we can construct a well-ordering using \hyperref[rem:natural_number_recursion]{natural number recursion} without relying on the \hyperref[def:zfc/choice]{axiom of choice}.

      This is fundamental for the definition of \hyperref[def:monoid_direct_product]{direct sums}, which in turn are used to define \hyperref[rem:linear_combinations]{linear combinations} and \hyperref[def:polynomial_algebra]{polynomials}.
    \end{thmenum}
  \end{thmenum}
\end{remark}

\begin{remark}\label{rem:magma_terminology}
  The term \enquote{magma} for a set with a binary operation was used by Serre in his 1964 lectures. Decades later, however, it is still not widely established. Jonathan Golan in \cite[example 21.3]{Golan2010} uses the term \enquote{groupoid} instead, but the latter term seems to be overtaken by groupoids in category theory --- see \fullref{def:groupoid}. Yevgeny Lyapin in \cite{Ляпин1960} calls them \enquote{multiplicative sets}, noting that the terminology is not established and that some authors use the term \enquote{groupoid}.

  Semigroups, being a special case when the operation is \hyperref[def:binary_operation/associative]{associative}, are well-established concepts, unlike magmas. The term is defined by Saunders Mac Lane in \cite[144]{MacLane1998}, Jonathan Golan in \cite[1]{Golan2010} and Yevgeny Lyapin in \cite[28]{Ляпин1960}, and used without definition by many others, including Garrett Birkhoff in \cite[162]{Birkhoff1948} and Ralph Tyrrell Rockafellar in \cite[402]{Rockafellar1997}.

  Since non-associative operation rarely arise, we prefer defining semigroups rather than magmas.
\end{remark}

\begin{definition}\label{def:semigroup}\mcite[144]{MacLane1998}
  A \term[ru=полугруппа (\cite[28]{Ляпин1960})]{semigroup} is a nonempty set \( G \) equipped with a \hyperref[rem:function_arguments]{binary function} \( \cdot: G \times G \to G \), called the \term{semigroup operation}. We often denote this operation by juxtaposition as \( xy \) instead of \( x \cdot y \).

  We often call the operation \term{multiplication} or, in the case of \hyperref[def:endomorphism_monoid]{endomorphism monoids} --- \term{composition}. See also the notes in \fullref{rem:additive_semigroup} regarding additive semigroups and in \fullref{def:monoid_delooping} regarding the order of operands.

  \begin{thmenum}[series=def:semigroup]
    \thmitem{def:semigroup/theory} In analogy to the \hyperref[def:pointed_set/theory]{theory of pointed sets}, we can define the theory of semigroups as an empty theory over a language with a single \hyperref[rem:first_order_formula_conventions/infix]{infix} binary functional symbol.

    \thmitem{def:semigroup/homomorphism} A \hyperref[def:first_order_homomorphism]{first-order homomorphism} between the semigroups \( (G, \cdot_{G}) \) and \( (H, \cdot_{H}) \) is, explicitly, a function \( \varphi: G \to H \) such that
    \begin{equation}\label{eq:def:semigroup/homomorphism}
      \varphi(x \cdot_{G} y) = \varphi(x) \cdot_{H} \varphi(y)
    \end{equation}
    for all \( x, y \in G \).

    \thmitem{def:semigroup/submodel} The set \( A \subseteq G \) is a \hyperref[def:first_order_substructure]{first-order submodel} of \( G \) if it is closed under the semigroup operation, that is, if \( x, y \in A \) implies \( xy \in A \).

    We call \( A \) a \term{sub-semigroup} of \( G \).

    As a consequence of \fullref{thm:positive_formulas_preserved_under_homomorphism}, the image of a semigroup homomorphism is a sub-semigroup of its codomain.

    \thmitem{def:semigroup/trivial} The \hyperref[rem:trivial_structure]{trivial} semigroup is the empty set with an empty operation. It is the unique \hyperref[def:universal_objects/initial]{zero object} in the corresponding category.

    \thmitem{def:semigroup/initial} The \hyperref[thm:substructures_form_complete_lattice/bottom]{initial substructure} of any semigroup is isomorphic to the trivial (empty) semigroup.

    \thmitem{def:semigroup/exponentiation} We define an additional \term{exponentiation} operation for positive integers \( n \) \hyperref[rem:natural_number_recursion]{recursively} as
    \begin{equation}\label{eq:def:semigroup/exponentiation}
      x^n \coloneqq \begin{cases}
        x,               &n = 1 \\
        x^{n-1} \cdot x, &n > 1
      \end{cases}
    \end{equation}

    \thmitem{def:semigroup/category} We introduce no special notation for the \hyperref[def:category_of_small_first_order_models]{category of \( \mscrU \)-small models} for the theory of semigroups.

    \thmitem{def:semigroup/opposite}\mcite[452]{Bergman2015} The \term{opposite semigroup} of \( (G, \cdot) \) is the semigroup \( (G, \star) \) with multiplication reversed:
    \begin{equation*}
      x \star y \coloneqq y \cdot x.
    \end{equation*}

    We denote the opposite semigroup by \( G^{\opcat} \). This is justified in \fullref{def:monoid/opposite}.
  \end{thmenum}
\end{definition}

\begin{definition}\label{def:power_semigroup}\mcite[1]{McCarthyHayes1973}
  Given a \hyperref[def:semigroup]{semigroup} \( (G, \cdot) \), its \hyperref[def:basic_set_operations/power_set]{power set} \( \pow(G) \) is also a semigroup with the operation
  \begin{equation*}
    A \star B \coloneqq \set{ a \cdot b \given a \in A \T{and} b \in B }.
  \end{equation*}

  We will call this the \term{power semigroup} of \( G \). There is an obvious injection
  \begin{equation*}
    \begin{aligned}
      &\iota: G \to \pow(G), \\
      &\iota(g) \coloneqq \set{ g }.
    \end{aligned}
  \end{equation*}
\end{definition}
\begin{comments}
  \item Operations on sets are used for \hyperref[def:topological_vector_space]{topological vector spaces} by Walter Rudin in \cite[6]{Rudin1991Functional}, Ralph Tyrrell Rockafellar in \cite[4]{Rockafellar1997}, Francis Clarke in \cite[4]{Clarke2013}, Georgii Magaril-Ilyaev, Vladimir Tikhomirov in \cite[25]{МагарилИльяевТихомиров2002ВыпуклыйАнализ}.

  \item Note that this concept is distinct from \hyperref[def:semiring_ideal/product]{product ideals}, which use the same notation.

  \item Power semigroups are ordered --- see \fullref{ex:def:ordered_semigroup/power}
\end{comments}

\begin{example}\label{ex:def:power_semigroup}
  We list some examples of \hyperref[def:power_semigroup]{power semigroups}:
  \begin{thmenum}
    \thmitem{ex:def:power_semigroup/cancellative} The cancellative property does not extend to the power semigroup.

    Consider the additive group \hyperref[thm:group_of_integers_modulo]{\( \BbbZ_2 \)}. It is a cancellative semigroup as a consequence of \fullref{thm:def:group/cancellative}. Define the sets \( A \coloneqq \set{ 0, 1 } \) and \( B \coloneqq \set{ 0 } \). Then
    \begin{equation*}
      A + A = A = A + B,
    \end{equation*}
    however we cannot cancel \( A \) from the left because \( A \neq B \).

    \thmitem{ex:def:power_semigroup/semiring} If \( R \) is a \hyperref[def:semiring]{semiring}, then \( \pow(R) \) is a semigroup with respect to both operations, however \( \pow(R) \) is not a semiring because the operations do not \hyperref[def:semiring/left_distributivity]{distribute}.

    Consider the ring of integers and let
    \begin{align*}
      A = \set{ -1, 1 },
      &&
      B = \set{ -1 },
      &&
      C = \set{ 1 }.
    \end{align*}

    Then
    \begin{equation*}
      A(\underbrace{B + C}_{\set{ 0 }})
      =
      \set{ 0 },
    \end{equation*}
    however
    \begin{equation*}
      \underbrace{AB}_{A} + \underbrace{AC}_{A}
      =
      \set{ -2, 0, 0, 2 }.
    \end{equation*}
  \end{thmenum}
\end{example}

\begin{proposition}\label{thm:semigroup_exponentiation_properties}
  Fix a semigroup \( G \). \hyperref[def:semigroup/exponentiation]{Exponentiation} in \( G \) has the following basic properties:

  \begin{thmenum}
    \thmitem{thm:semigroup_exponentiation_properties/commutativity} We have the following \hyperref[def:binary_operation/commutative]{commutativity}-like property: for any \( x \) in \( G \) and any positive integer \( n \), we have
    \begin{equation}\label{eq:thm:semigroup_exponentiation_properties/commutativity}
      x^n = x x^{n-1} = x^{n-1} x.
    \end{equation}

    \thmitem{thm:semigroup_exponentiation_properties/distributivity} Exponentiation distributes over multiplication: for any member \( x \) of \( G \) and any two positive integers \( n \) and \( m \),
    \begin{equation}\label{eq:thm:semigroup_exponentiation_properties/multiplication}
      x^{n + m} = x^n x^m.
    \end{equation}

    \thmitem{thm:semigroup_exponentiation_properties/repeated} For any member \( x \) of \( M \) and any two positive integers \( n \) and \( m \),
    \begin{equation}\label{eq:thm:semigroup_exponentiation_properties/repeated}
      (x^n)^m = x^{nm}.
    \end{equation}
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:semigroup_exponentiation_properties/commutativity} We use induction on \( n \). The cases \( n = 1 \) and \( n = 2 \) are obvious. For \( n > 2 \), we have
  \begin{equation*}
    x^n
    \reloset {\eqref{eq:def:semigroup/exponentiation}} =
    x x^{n-1}
    \reloset {\T{ind.}} =
    x x^{n-2} x
    \reloset {\eqref{eq:def:semigroup/exponentiation}} =
    x^{n-1} x.
  \end{equation*}

  \SubProofOf{thm:semigroup_exponentiation_properties/distributivity} We use induction on \( n \). The case \( n = 1 \) follows directly from \eqref{eq:def:semigroup/exponentiation}. The case \( n > 1 \) follows from
  \begin{equation*}
    x^{n + m}
    \reloset {\eqref{eq:def:semigroup/exponentiation}} =
    x x^{n + (m - 1)}
    \reloset {\T{ind.}} =
    x x^{n-1} x^m
    \reloset {\eqref{eq:def:semigroup/exponentiation}} =
    x^n x^m.
  \end{equation*}

  \SubProofOf{thm:semigroup_exponentiation_properties/repeated} We use induction on \( n \). The case \( n = 1 \) is obvious and the rest follows from
  \begin{equation*}
    (x^n)^m
    \reloset {\eqref{eq:def:semigroup/exponentiation}} =
    x^n (x^n)^{m-1}
    \reloset {\T{ind.}} =
    x^n x^{n (m - 1)}
    \reloset {\eqref{eq:thm:semigroup_exponentiation_properties/multiplication}} =
    =
    x^{nm}.
  \end{equation*}
\end{proof}

\begin{definition}\label{def:ordered_semigroup}\mcite[def. X.3.2]{Ляпин1960}
  A (partially) \term{ordered semigroup} is a \hyperref[def:semigroup]{semigroup} \( M \) equipped with a \hyperref[def:partially_ordered_set]{partial order} \( \leq \) such that \( x \leq y \) implies \( xz \leq yz \) and \( zx \leq zy \) for every \( z \) in \( M \).
\end{definition}
\begin{comments}
  \item The category of small ordered semigroups is a \hyperref[def:concrete_category]{concrete category} over both the \hyperref[def:semigroup/category]{category of semigroups} and the \hyperref[def:partially_ordered_set]{category of partially ordered sets}.
\end{comments}

\begin{example}\label{ex:def:ordered_semigroup}
  We list several examples of \hyperref[def:ordered_semigroup]{ordered semigroups}:

  \begin{thmenum}
    \thmitem{ex:def:ordered_semigroup/natural_numbers} The \hyperref[def:natural_numbers]{natural numbers} with addition form an ordered semigroup as a consequence of \fullref{thm:natural_numbers_are_well_ordered}; and so do \( \BbbZ \), \( \BbbQ \), \( \BbbR \) and \( \BbbC \).

    \thmitem{ex:def:ordered_semigroup/ordinal} More generally, every \hyperref[def:successor_and_limit_ordinal]{limit ordinal} as the set of all smaller ordinals is an ordered semigroup under \hyperref[def:ordinal_arithmetic/addition]{ordinal addition}.

    Unlike addition in natural numbers, however, ordinal addition is not commutative as shown in \fullref{ex:ordinal_addition}.

    \thmitem{ex:def:ordered_semigroup/semilattice} Every \hyperref[def:semilattice/join]{join-semilattice} \( (X, \vee) \) is an ordered semigroup with the lattice order. Indeed, if \( x \leq y \), then
    \begin{itemize}
      \item If \( z \leq x \), then
      \begin{equation*}
        x = x \vee z \leq y \vee z = y.
      \end{equation*}

      \item If \( x \leq z \leq y \), then
      \begin{equation*}
        z = x \vee z \leq y \vee z = y.
      \end{equation*}

      \item If \( z \geq y \), then
      \begin{equation*}
        z = x \vee z \leq y \vee z = z.
      \end{equation*}
    \end{itemize}

    Every \hyperref[def:semilattice/meet]{meet-semilattice} is also an ordered semigroup.

    \thmitem{ex:def:ordered_semigroup/power} Any \hyperref[def:power_semigroup]{power semigroup} is a Boolean algebra as discussed in \fullref{thm:boolean_algebra_of_subsets}, and hence also an ordered semigroup as a consequence of \fullref{ex:def:ordered_semigroup/semilattice}.
  \end{thmenum}
\end{example}

\paragraph{Monoids}

\begin{definition}\label{def:monoid}\mcite[vii]{MacLane1998}
  A \term{monoid} is an \hyperref[eq:def:binary_operation/associative]{associative} \hyperref[def:semigroup]{semigroup} with a distinguished element \( e \) such that \( ex = x = xe \) for every element \( x \). Such an element is obviously unique, and we call it the \term{identity} or \term{neutral element} of the monoid. This makes monoids \hyperref[def:pointed_set]{pointed sets}.

  \begin{thmenum}
    \thmitem{def:monoid/theory} The theory of monoids consists of \hyperref[eq:def:binary_operation/associative]{associativity} and the axiom
    \begin{equation}\label{eq:def:monoid/theory/identity}
      \qforall \xi (e \cdot \xi \doteq \xi \wedge \xi \cdot e \doteq \xi)
    \end{equation}
    over the combined language of \hyperref[def:pointed_set/theory]{pointed sets} and \hyperref[def:semigroup/theory]{semigroups}.

    \thmitem{def:monoid/homomorphism} A \hyperref[def:first_order_homomorphism]{first-order homomorphism} between monoids is a function that is both a \hyperref[def:pointed_set/homomorphism]{pointed set homomorphism} and a \hyperref[def:semigroup/homomorphism]{semigroup homomorphism}, that is, it satisfies both \eqref{eq:def:pointed_set/homomorphism} and \eqref{eq:def:semigroup/homomorphism}.

    \thmitem{def:monoid/submodel} The set \( A \subseteq M \) is a \hyperref[def:first_order_submodel]{first-order submodel} of the monoid \( M \) if it contains \( e \). This is equivalent to \( A \) being a pointed subset.

    We say that \( A \) is a \term{submonoid}.

    As a consequence of \fullref{thm:positive_formulas_preserved_under_homomorphism}, the image of a monoid homomorphism is a submonoid of its codomain.

    \thmitem{def:monoid/trivial} The \hyperref[rem:trivial_structure]{trivial} monoid is the \hyperref[def:pointed_set/trivial]{trivial pointed set} \( \set{ e } \). It is isomorphic to \hyperref[thm:substructures_form_complete_lattice/bottom]{initial substructure} of any monoid.

    \thmitem{def:monoid/initial} The \hyperref[thm:substructures_form_complete_lattice/bottom]{initial substructure} of any monoid is isomorphic to the trivial monoid \( \set{ e } \).

    \thmitem{def:monoid/exponentiation} We extend \hyperref[def:semigroup/exponentiation]{semigroup exponentiation} to all nonnegative integers by additionally defining
    \begin{equation*}
      x^0 \coloneqq e.
    \end{equation*}

    \thmitem{def:monoid/category} The \hyperref[def:category_of_small_first_order_models]{category of \( \mscrU \)-small models} \( \ucat{Mon} \) of monoids is \hyperref[def:concrete_category]{concrete} with respect to both the \hyperref[def:pointed_set/category]{category of \( \mscrU \)-small pointed sets} and \hyperref[def:semigroup/category]{category of \( \mscrU \)-small semigroups}.

    We will discuss the free monoid functor in \fullref{thm:free_monoid_universal_property}. Then from \fullref{thm:first_order_categorical_invertibility} it will follow that monoid monomorphisms are injective functions.

    For epimorphisms a similar statement does not hold, unfortunately. The embedding \( \iota: \BbbN \to \BbbZ \) is an epimorphism by \fullref{thm:grothendieck_monoid_completion_universal_property}, but it is clearly not surjective.

    \thmitem{def:monoid/commutative} We usually write \hyperref[def:binary_operation/commutative]{commutative} monoids additively as explained in \fullref{rem:additive_semigroup}. We denote the subcategory of commutative monoids by \( \ucat{CMon} \).

    \thmitem{def:monoid/opposite} The \hyperref[def:monoid_delooping]{delooping} of the \hyperref[def:semigroup/opposite]{opposite semigroup} for a monoid \( M \) is the \hyperref[def:opposite_category]{opposite category} of the delooping of \( M \). This justifies the notation \( M^{\opcat} \)
  \end{thmenum}
\end{definition}
\begin{comments}
  \item The requirement of associativity is conventional but not strictly necessary. Non-associative monoids will not be useful to us, however.
\end{comments}

\begin{example}\label{ex:def:monoid}
  We list several important examples \hyperref[def:monoid]{monoids}.

  \begin{thmenum}
    \thmitem{ex:def:monoid/natural_numbers} The \hyperref[def:natural_numbers]{nonnegative natural numbers} with addition form a quintessential example of a monoid. We prove in \fullref{thm:natural_number_addition_properties} that they are a monoid.

    \thmitem{ex:def:monoid/kleene_star} Another important example of a monoid is the \hyperref[def:formal_language/kleene_star]{Kleene star} \( \mscrA \) over some \hyperref[def:formal_language]{alphabet} \( \mscrA \).

    The importance for monoid theory comes from the free monoid universal property described in \fullref{thm:free_monoid_universal_property}.

    \thmitem{ex:def:monoid/semilattice} Every \hyperref[def:semilattice/bounded]{bounded} \hyperref[def:semilattice/join]{join-semilattice} is a monoid as a consequence of \eqref{eq:thm:binary_lattice_operations/identity/meet}, and similarly for \hyperref[def:semilattice/meet]{meet-semilattice}.

    \thmitem{ex:def:monoid/power} The \hyperref[def:power_semigroup]{power semigroup} \( \pow(M) \) of a monoid \( M \) is also a monoid --- \( \iota(1_M) = \set{ 1_M } \) is an identity element.
  \end{thmenum}
\end{example}

\begin{example}\label{ex:monoid_cancellation_not_preserved_by_homomorphism}\mcite{MathSE:semigroup_cancellation_not_preserved}
  \hyperref[def:monoid/homomorphism]{Monoid homomorphisms} may not preserve the \hyperref[def:binary_operation/cancellative]{cancellation property}. For example, the \hyperref[def:natural_numbers]{natural numbers} \( \BbbN \) are a cancellative monoid under addition, as shown in \fullref{thm:natural_number_addition_properties}, but the homomorphism
  \begin{equation*}
    \begin{aligned}
      &h: (\BbbN, +) \to (\BbbF_2, \max) \\
      &h(n) \coloneqq \begin{cases}
        0, &n = 0 \\
        1, &n > 0
      \end{cases}
    \end{aligned}
  \end{equation*}
  does not preserve the cancellation property.

  Indeed, \( \max\set{ 0, 1 } = \max\set{ 1, 1 } \), but \( 0 \neq 1 \).
\end{example}

\begin{definition}\label{def:monoid_direct_product}\mcite[62]{Knapp2016BasicAlgebra}
  The \term{direct product} of a family of \hyperref[def:monoid]{monoids} \( \seq{ M_k }_{k \in \mscrK} \) is their \hyperref[def:cartesian_product]{Cartesian product} \( \prod_{k \in \mscrK} M_k \) with the componentwise operation
  \begin{equation*}
    \seq{ x_k }_{k \in \mscrK} \cdot \seq{ y_k }_{k \in \mscrK}
    \coloneqq
    \seq{ x_k \cdot y_k }_{k \in \mscrK}.
  \end{equation*}

  For every index \( m \in \mscrK \), we define the canonical projection
  \begin{equation*}
    \begin{aligned}
      &\pi_m: \prod_{k \in \mscrK} M_k \to M_m \\
      &\pi_m(\seq{ x_k }_{k \in \mscrK}) \coloneqq x_m.
    \end{aligned}
  \end{equation*}

  If all \( M_k \) are equal to \( M \), we denote the direct product by \( M^\mscrK \).

  The \term{direct sum} \( \bigoplus_{k \in \mscrK} M_k \) is the submonoid of the direct product in which only finitely many components of each tuple are distinct from the identity.

  For every index \( m \in \mscrK \), we define the canonical embedding
  \begin{equation*}
    \begin{aligned}
       &\iota_m: M_m \to \bigoplus_{k \in \mscrK} M_k \\
       &\iota_m(x_m) \coloneqq
        \begin{rcases}
          \begin{cases}
            x_m, &k = m \\
            e_k, &k \neq m
          \end{cases}
        \end{rcases}_{k \in \mscrK}
    \end{aligned}
  \end{equation*}

  If all \( M_k \) are equal to \( M \), we denote the direct sum by \( M^{\oplus \mscrK} \).
\end{definition}
\begin{comments}
  \item Unlike the product, the direct sum is mostly useful for commutative monoids. The role of direct sums is discussed in \fullref{rem:binary_operation_syntax_trees/infinite/direct_sum} and, more concretely, in \fullref{thm:monoid_categorical_limits}.
\end{comments}

\begin{remark}\label{rem:internal_direct_sum}\mcite[60]{Knapp2016BasicAlgebra}
  If \( N_1, \ldots, N_m \) are nontrivial submonoids of \( M \), if \( N_i \cap N_j = \set{ e_M } \) for \( i \neq j \) and if
  \begin{equation*}
    M = \sum_{k=1}^m N_k,
  \end{equation*}
  we say that \( M \) is an \term{internal direct sum}. The sum above is the usual sum of subsets in the \hyperref[ex:def:monoid/power]{power monoid} of \( M \).

  In this context, the usual direct sum
  \begin{equation*}
    \bigoplus_{k=1}^m N_k,
  \end{equation*}
  defined in \fullref{def:monoid_direct_product}, is called the \term{external direct sum}.

  The internal and external are isomorphic and can be conflated. In particular, the notation for external direct sum is used for internal direct sums.
\end{remark}

\begin{proposition}\label{thm:monoid_categorical_limits}
  \hfill
  \begin{thmenum}
    \thmitem{thm:monoid_categorical_limits/product} The \hyperref[def:discrete_category_limits]{categorical product} of the family \( \seq{ M_k }_{k \in \mscrK} \) in the category \hyperref[def:monoid/category]{\( \cat{Mon} \)} of monoids is their \hyperref[def:monoid_direct_product]{direct product} \( \prod_{k \in \mscrK} M_k \).

    \thmitem{thm:monoid_categorical_limits/coproduct} The \hyperref[def:discrete_category_limits]{categorical coproduct} of the family \( \seq{ M_k }_{k \in \mscrK} \) in the category \hyperref[def:monoid/category]{\( \cat{CMon} \)} of \hi{commutative} monoids is their \hyperref[def:monoid_direct_product]{direct sum} \( \bigoplus_{k \in \mscrK} M_k \).
  \end{thmenum}
\end{proposition}
\begin{comments}
  \item Compare \fullref{thm:monoid_categorical_limits/coproduct} to the non-commutative case for groups discussed in \fullref{thm:group_categorical_limits/coproduct}.
\end{comments}
\begin{proof}
  \SubProofOf{thm:monoid_categorical_limits/product} Let \( (A, \alpha) \) be a \hyperref[def:category_of_cones/cone]{cone} for the \hyperref[def:discrete_category]{discrete} \hyperref[def:categorical_diagram]{diagram} \( \seq{ M_k }_{k \in \mscrK} \). We want to define a monoid homomorphism \( l_A: A \to \prod_{k \in \mscrK} M_k \) such that, for every \( m \in \mscrK \) and \( a \in A \),
  \begin{equation*}
    \alpha_m(a) = \pi_m(l_A(a)).
  \end{equation*}

  This suggests the definition
  \begin{equation*}
    l_A(a) \coloneqq \seq{ \alpha_k(a) }_{k \in \mscrK}.
  \end{equation*}

  \SubProofOf{thm:monoid_categorical_limits/coproduct}  Let \( (A, \alpha) \) be a \hyperref[def:category_of_cones/cocone]{cocone} for the discrete diagram \( \seq{ M_k }_{k \in \mscrK} \). We want to define a monoid homomorphism \( l_A: \bigoplus_{k \in \mscrK} M_k \to A \) such that, for every \( m \in \mscrK \) and \( x \in M_m \),
  \begin{equation*}
    \alpha_m(x) = l_A(\iota_m(x)).
  \end{equation*}

  This suggests the definition
  \begin{equation*}
    l_A(\seq{ x_k }_{k \in \mscrK}) \coloneqq \prod_{k \in \mscrK}^n \alpha_k(x_k).
  \end{equation*}

  We discuss well-definedness of infinitary operations in direct sums in \fullref{rem:binary_operation_syntax_trees/infinite/direct_sum}.
\end{proof}
