\section{Groups}\label{sec:groups}

\paragraph{Inverses in monoids}

\begin{definition}\label{def:monoid_inverse}\mcite[71]{Ляпин1960Полугруппы}
  Let \( M \) be a \hyperref[def:monoid]{monoid}. We say that \( y \) is a \term{left inverse} (resp. \term{right inverse}) of \( x \) if \( yx = e \) (resp. \( xy = e \)).

  If \( y \) is simultaneously a left and right inverse of \( x \), we call a \term[ru=двусторонне обратный (\cite[71]{Ляпин1960Полугруппы})]{two-sided inverse} or simply an \term{inverse} of \( x \) and denote it by \( x^{-1} \). It is unique as a consequence \fullref{thm:monoid_inverse_unique}. This notation is consistent with monoid exponentiation defined in \fullref{def:monoid/exponentiation}.

  We call \( x \) \term{invertible} if it has a two-sided inverse.
\end{definition}

\begin{proposition}\label{thm:monoid_inverse_unique}
  For every element \( x \) of any monoid, the (two-sided) \hyperref[def:monoid_inverse]{inverse} \( x^{-1} \) of \( x \), if it exists, is unique.
\end{proposition}
\begin{proof}
  If \( y \) and \( z \) are both inverses of \( x \), then
  \begin{equation*}
    y = ey = zxy = ze = z.
  \end{equation*}
\end{proof}

\paragraph{Groups}

\begin{definition}\label{def:group}\mcite[29]{Ляпин1960Полугруппы}
  A \term[bg=група (\cite[372]{Обрешков1962ВисшаАлгебра}), ru=группа, en=group (\cite[49]{Jacobson1985AlgebraPart1})]{group} is a \hyperref[def:monoid]{monoid} in which every element has a \hyperref[def:monoid_inverse]{two-sided inverse}. They are the most well-studied and most well-behaved semigroups.

  Groups have the following metamathematical properties:
  \begin{thmenum}
    \thmitem{def:group/theory}\mimprovised To obtain a \hyperref[def:first_order_theory]{first-order theory} for groups, we can extend the \hyperref[def:monoid/theory]{theory of monoids} by adding a unary \hyperref[def:first_order_language/fun]{functional symbol} \( (\anon)^{-1} \) to the language and then adding the axiom
    \begin{equation}\label{eq:def:group/theory/inverse_axiom}
      \qforall \synx (\synx \cdot \synx^{-1} = e \synwedge \synx^{-1} \cdot \synx = e).
    \end{equation}

    \Fullref{thm:def:group/involution} will show that this is an \hyperref[def:morphism_invertibility/involution]{involution}.

    \thmitem{def:group/homomorphism}\mimprovised A \hyperref[def:first_order_homomorphism]{first-order homomorphism} between groups is simply a \hyperref[def:semigroup/homomorphism]{semigroup homomorphism}.

    As shown in \fullref{thm:group_homomorphism_single_condition}, in order for a function between groups to preserve the neutral element and the involutions, it is sufficient for \( \varphi \) to be a \hyperref[def:semigroup/homomorphism]{semigroup homomorphism}, i.e. satisfy \eqref{eq:def:semigroup/homomorphism}. The condition \eqref{eq:def:set_with_involution/homomorphism} for \hyperref[def:set_with_involution/homomorphism]{homomorphism of sets with involution} and the condition \eqref{eq:def:pointed_set/homomorphism} for \hyperref[def:pointed_set/homomorphism]{pointed set homomorphism} are redundant.

    \thmitem{def:group/submodel}\mcite[133]{Ляпин1960Полугруппы} The set \( A \subseteq G \) is a \hyperref[def:first_order_submodel]{submodel} of \( G \) if it is a \hyperref[def:monoid/submodel]{submonoid} and if \( x \in A \) implies \( x^{-1} \in A \). We say that \( A \) is a \term[bg=подгрупа (\cite[378]{Обрешков1962ВисшаАлгебра}), ru=подргуппа, en=subgroup (\cite[49]{Jacobson1985AlgebraPart1})]{subgroup} of \( G \).

    As a consequence of \fullref{thm:positive_formulas_preserved_under_homomorphism}, the image of a group homomorphism is a subgroup of its codomain.

    \thmitem{def:group/generated}\mcite[43]{Jacobson1985AlgebraPart1} For an arbitrary subset \( A \) of \( G \), we denote the \hyperref[def:first_order_generated_substructure]{generated submodel} by \( \braket{ A } \). In addition to the elements of \( A \), \( \braket{ A } \) contains their products and inverses, the products of their products and inverses, etc...

    \thmitem{def:group/exponentiation}\mcite[86]{Тыртышников2017Алгебра} We extend \hyperref[def:monoid/exponentiation]{monoid exponentiation} to all integers by setting
    \begin{equation*}
      x^{-n} \coloneqq (x^n)^{-1}.
    \end{equation*}

    This operation behaves well as shown in \fullref{thm:def:group/negative_power}.

    \thmitem{def:group/opposite}\mimprovised The \hyperref[def:monoid/opposite]{opposite monoid} \( G^\oppos \) of a group \( G \) is again a group, which we will call the \term{opposite group}.

    \thmitem{def:group/category}\mcite[12]{MacLane1998Categories} We denote the \hyperref[def:category_of_small_first_order_models]{category of \( \mscrU \)-small models} of groups by \( \ucat{Grp} \).

    \begin{itemize}
      \item It is \hyperref[def:concrete_category]{concrete} over \hyperref[def:monoid/category]{\( \ucat{Mon} \)} and hence over \hyperref[def:pointed_set/category]{\( \ucat{Set_*} \)}. The latter allows us to use \fullref{thm:image_coimage_factorization} and \fullref{thm:zero_morphisms_pointed}, as we will soon do --- see \fullref{thm:group_zero_morphisms}.

      \item We will define the \hyperref[def:free_group]{free group} functor in \fullref{sec:free_groups}. Then from \fullref{thm:injective_group_homomorphisms_are_monomorphisms} it will follow that monomorphisms are precisely the injective homomorphisms, and that the \hyperref[def:subobject_and_quotient]{categorical subobjects} correspond to subgroups.

      \item Unlike in the category \hyperref[def:monoid/category]{\( \ucat{Mon} \)} of monoids, in \( \ucat{Grp} \) every epimorphism is surjective. We will prove this in \fullref{thm:group_epimorphisms_are_surjective}. Along with \fullref{thm:surjective_group_homomorphisms_are_cokernels}, this shows that the \hyperref[def:subobject_and_quotient]{categorical quotient objects} correspond to \hyperref[def:group/quotient]{quotient groups}, which we will discuss shortly.

      \item To avoid circularity, in this section, we will avoid using that monomorphisms are injective and epimorphism are surjective.
    \end{itemize}

    \thmitem{def:group/trivial}\mimprovised Any single-element group, that is, every zero object in \( \ucat{Grp} \), is as trivial object in the sense of \fullref{def:trivial_object}. We will call it \enquote{the} trivial group.

    \thmitem{def:group/kernel}\mimprovised \Fullref{thm:group_zero_morphisms/kernel} implies that the \hyperref[def:zero_morphisms/kernel]{categorical kernel} of a group homomorphism \( \varphi: G \to H \) is the set
    \begin{equation*}
      \ker \varphi \coloneqq \varphi^{-1}(e_H) = \set{ x \in G \given \varphi(x) = e_H }.
    \end{equation*}

    It is a \hyperref[def:normal_subgroup]{normal subgroup} (and hence a subgroup) as a consequence of \fullref{thm:kernel_is_normal_subgroup}.

    \thmitem{def:group/quotient}\mimprovised \hyperref[def:first_order_congruence]{First-order congruences} within a group are very well-behaved. \Fullref{thm:normal_subgroups_and_congruences} shows that congruences correspond exactly to \hyperref[def:normal_subgroup]{normal subgroups}, and \fullref{thm:subgroup_cosets} shows how the corresponding equivalence classes are all equinumerous and have a simple form expressed via normal subgroups.

    It is conventional to consider the quotient \( G / N \) with respect to a normal subgroup \( N \) rather than with respect to a congruence as in the general case for arbitrary first-order structures.
  \end{thmenum}
\end{definition}

\begin{example}\label{ex:power_set_is_not_a_group}
  The \hyperref[ex:def:monoid/power]{power monoid} \( \pow(G) \) of a group \( G \) is a monoid, but it is not a group unless \( G \) is \hyperref[def:group/trivial]{trivial}.

  Indeed, fix an arbitrary set \( A \) and suppose that there exists a set \( B \) such that \( AB = \set{ e_G } \). Then, for any \( a \) in \( A \) and \( b \) in \( B \), we must have \( ab = e_G \). \Fullref{thm:monoid_inverse_unique} implies that inverses are unique, hence \( b = a^{-1} \). Furthermore, there can only be one element in \( A \) because otherwise we would have some \( a' \) in \( A \) distinct from \( a \), and \( a' a^{-1} \) would not equal \( e_G \).

  Therefore, if \( AB = \set{ e_G } \), then \( A \) has a single element and \( B \) contains only the inverse of that element. Any subset of \( G \) that has more than one element does not have an inverse.
\end{example}

\begin{proposition}\label{thm:def:group}
  Every \hyperref[def:group]{group} \( G \) has the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:group/cancellative} The (binary) group operation is \hyperref[def:binary_operation/cancellative]{cancellative}.
    \thmitem{thm:def:group/identity_inverse} The identity \( e \) is its own inverse.
    \thmitem{thm:def:group/inverse_identity} \( x \) is the neutral element if and only if \( -x \) is.
    \thmitem{thm:def:group/inverse_composition} \( (xy)^{-1} = y^{-1} x^{-1} \).
    \thmitem{thm:def:group/involution} \( x = (x^{-1})^{-1} \)
    \thmitem{thm:def:group/negative_power} For any positive integer \( n \), \( (x^n)^{-1} = (x^{-1})^n \)
    \thmitem{thm:def:group/equality_of_powers} \( x^n = x^m \) if and only if \( x^{n-m} = e \).
    \thmitem{thm:def:group/inverse_isomorphism} The map \( x \mapsto x^{-1} \) is a group isomorphism.
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:group/cancellative} If \( x = y \), obviously \( xz = yz \) and \( zx = zy \). Now if \( xz = yz \), we have
  \begin{equation*}
    x = x(zz^{-1}) = (xz)z^{-1} = (yz)z^{-1} = y(zz^{-1}) = y.
  \end{equation*}

  The case \( zx = zy \) is analogous.

  \SubProofOf{thm:def:group/identity_inverse} \( ee = e \).

  \SubProofOf{thm:def:group/inverse_identity} If \( x = e \), then we can multiply on the right to obtain \( xx^{-1} = x^{-1} \).

  \SubProofOf{thm:def:group/inverse_composition}
  \begin{equation*}
    (xy) (y^{-1} x^{-1})
    =
    x (y y^{-1}) x^{-1}
    =
    e
    =
    y^{-1} (x^{-1} x) y
    =
    (y^{-1} x^{-1}) (xy).
  \end{equation*}

  \SubProofOf{thm:def:group/involution}
  \begin{equation*}
    (x^{-1})^{-1}
    =
    x x^{-1} (x^{-1})^{-1}
    =
    x.
  \end{equation*}

  \SubProofOf{thm:def:group/negative_power} Using \fullref{thm:def:group/involution},
  \begin{equation*}
    x^{-n}
    =
    (x^n)^{-1}
    =
    x^{-1} \cdots x^{-1}
    =
    (x^{-1})^n.
  \end{equation*}

  \SubProofOf{thm:def:group/equality_of_powers}
  \SufficiencySubProof* If \( x^n = x^m \), then, multiplying by \( x^{-m} \), we obtain
  \begin{equation*}
    x^n \cdot x^{-m}
    =
    x^m \cdot x^{-m},
  \end{equation*}
  where
  \begin{equation*}
    x^n \cdot x^{-m}
    \reloset {\eqref{eq:thm:semigroup_exponentiation_properties/multiplication}} =
    x^{n-m}
  \end{equation*}
  and
  \begin{equation*}
    x^m \cdot x^{-m}
    \reloset {\eqref{eq:thm:semigroup_exponentiation_properties/multiplication}} =
    (x^{-1 + 1})^m
    =
    e^m
    =
    e.
  \end{equation*}

  Therefore,
  \begin{equation*}
    x^{n-m} = e.
  \end{equation*}

  \NecessitySubProof* Conversely, if \( x^{n-m} = e \), then similarly we can multiply by \( x^m \) to obtain \( x^n = x^m \).

  \SubProofOf{thm:def:group/inverse_isomorphism} Trivial.
\end{proof}

\begin{proposition}\label{thm:group_homomorphism_single_condition}
  A function between groups satisfies the semigroup homomorphism condition \eqref{eq:def:semigroup/homomorphism} if and only if it is a \hyperref[def:monoid/homomorphism]{monoid homomorphism} that preserves inverses.
\end{proposition}
\begin{comments}
  \item This allows to define a group homomorphism without requiring it to preserve neutral elements and inverses like \fullref{def:first_order_homomorphism} suggests.
\end{comments}
\begin{proof}
  \SufficiencySubProof \eqref{eq:def:semigroup/homomorphism} is required to hold by definition.

  \NecessitySubProof Let the function \( \varphi: G \to H \) satisfy \eqref{eq:def:semigroup/homomorphism}. Then it preserves identities, i.e. is a \hyperref[def:pointed_set/homomorphism]{pointed set homomorphism} because
  \begin{equation*}
    e_H \cdot \varphi(e_G) = \varphi(e_G) = \varphi(e_G \cdot e_G) = \varphi(e_G) \cdot \varphi(e_G).
  \end{equation*}

  By \fullref{thm:def:group/cancellative}, \( \varphi \) is cancellative, and hence \( e_H = \varphi(e_G) \).

  Furthermore, inverses are also preserved because
  \begin{equation*}
    \varphi(x^{-1})
    =
    \varphi(x^{-1}) \cdot e_H
    =
    \varphi(x^{-1}) \cdot \varphi(x) \cdot \varphi(x)^{-1}
    =
    \varphi(x^{-1} x) \cdot \varphi(x)^{-1}
    =
    e_H \cdot \varphi(x)^{-1}
    =
    \varphi(x)^{-1}.
  \end{equation*}

  Therefore, \( \varphi \) is indeed a group homomorphism.
\end{proof}

\begin{proposition}\label{thm:invertible_submonoid_is_group}
  The set of all \hyperref[def:monoid_inverse]{invertible} elements of a \hyperref[def:monoid]{monoid} is a \hyperref[def:group]{group}.
\end{proposition}
\begin{proof}
  Let \( M \) be a monoid and let \( I \) be the set of invertible elements of \( M \).

  \begin{itemize}
    \item The neutral element is invertible, hence \( I \) is closed under the nullary identity operation.
    \item If \( x \) is invertible with inverse \( x^{-1} \), then \( x^{-1} \) is invertible with inverse \( x \), and thus \( I \) is closed under the unary inversion operation.
    \item If \( x \) and \( y \) are invertible, then \( xy \) is invertible with inverse \( y^{-1} x^{-1} \). Thus, \( I \) is closed under the binary monoid operation.
  \end{itemize}

  Therefore, the set \( I \) of invertible elements is a submonoid of \( M \) and, furthermore, it is a group because it contains an inverse for each of its elements.
\end{proof}

\begin{proposition}\label{thm:ordered_group}
  \hyperref[def:ordered_semiring]{Ordered} \hyperref[def:group]{groups} have the following properties:
  \begin{thmenum}
    \thmitem{thm:ordered_group/inversion} We have \( x < y \) if and only if \( y^{-1} < x^{-1} \).
    \thmitem{thm:ordered_group/sign_inversion} We have \( x > e \) if and only if \( x^{-1} < e \).
  \end{thmenum}
\end{proposition}
\begin{comments}
  \item Results regarding \hyperref[def:ordered_semigroup]{ordered semigroups} also hold --- see \fullref{thm:def:ordered_semigroup}.
\end{comments}
\begin{proof}
  \SubProofOf{thm:ordered_group/inversion} If \( x < y \), \fullref{thm:def:ordered_semigroup/cancellative} implies that
  \begin{equation*}
    y^{-1} = x^{-1} x y^{-1} < x^{-1} y y^{-1} = x^{-1}.
  \end{equation*}

  The converse direction follows analogously.

  \SubProofOf{thm:ordered_group/sign_inversion} Follows from \fullref{thm:ordered_group/inversion} since, by \fullref{thm:def:group/identity_inverse}, \( e^{-1} = e \).
\end{proof}

\paragraph{Group cosets}

\begin{proposition}\label{thm:subgroup_cosets}
  Fix a group \( G \) and a \hyperref[def:group/submodel]{subgroup} \( H \) of \( G \).

  \begin{thmenum}
    \thmitem{thm:subgroup_cosets/equivalence_relation} The relation \( x \sim y \), defined to hold whenever \( x^{-1} y \in H \), is an \hyperref[def:equivalence_relation]{equivalence relation}.

    \thmitem{thm:subgroup_cosets/translations} For every element \( a \) of any coset \( C \) (under the above relation), we have
    \begin{equation*}
      C = a H = \set{ a \cdot h \given h \in H }.
    \end{equation*}

    \thmitem{thm:subgroup_cosets/translation_congruence} If \( a H = b H \), then \( a \sim b \).

    \thmitem{thm:subgroup_cosets/equinumerous} All cosets are \hyperref[def:equinumerosity]{equinumerous} with \( H \).
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:subgroup_cosets/equivalence_relation} We will show that \( {\sim} \) is an equivalence relation.

  \SubProofOf*[def:binary_relation/reflexive]{reflexivity} Since \( x^{-1} x = e_G \in H \), the relation is obviously reflexive.

  \SubProofOf*[def:binary_relation/symmetric]{symmetry} If \( x \sim y \in H \), \fullref{thm:def:group/inverse_composition} implies that \( (x^{-1} y)^{-1} = y^{-1} x \). As a subgroup, \( H \) contains the inverse of all its elements, and thus \( y \sim x \).

  \SubProofOf*[def:binary_relation/transitive]{transitivity} If \( x \sim y \) and \( y \sim z \), then
  \begin{equation*}
    x^{-1} z
    =
    x^{-1} (y y^{-1}) z
    =
    (x^{-1} y) (y^{-1} z).
  \end{equation*}

  The latter factors are both in \( H \), hence their product \( x^{-1} z \) must also be in \( H \). Thus, \( x \sim z \).

  \SubProofOf{thm:subgroup_cosets/translations} Fix an equivalence class \( C \) and let \( a \) be a member of \( C \).

  If \( x \in C \), then \( x \sim a \) and thus \( a \sim x \). Hence, \( a^{-1} x \in H \) and \( x \in a H \).

  Conversely, if \( x \in a H \), then \( a^{-1} x \in a^{-1} a H \). Thus, \( x \sim a \) and \( x \in C \).

  We conclude that \( C = a H \).

  \SubProofOf{thm:subgroup_cosets/translation_congruence} Suppose that \( a H = b H \).

  Since \( a \in a H \), there must exist some \( h \in H \) such that \( a = b h \). Then \( b^{-1} a = h \), that is, \( b \sim a \).

  \SubProofOf{thm:subgroup_cosets/equinumerous} Suppose we are given a coset \( a H \). Define the function
  \begin{equation*}
    \begin{aligned}
      &f: H \to a H, \\
      &f(x) \coloneqq a x.
    \end{aligned}
  \end{equation*}

  We must show that \( f \) is bijective on \( G \).

  \SubProofOf*[def:function_invertibility/injective/equality]{injectivity} Let \( f(x) = f(y) \). Then \( a x = a y \), which by the cancellative property shown in \fullref{thm:def:group/cancellative} implies that \( x = y \).

  Hence, \( f \) is injective.

  \SubProofOf*[def:function_invertibility/surjective/existence]{surjectivity} Let \( y \in a H \). Then \( a^{-1} y \in H \) and, furthermore,
  \begin{equation*}
    f(a^{-1} y) = a a^{-1} y = y.
  \end{equation*}

  Hence, \( f \) is surjective.
\end{proof}

\begin{remark}\label{rem:subgroup_cosets}
  The gist of \fullref{thm:subgroup_cosets} is that each subgroup \( H \) of \( G \) induces a partition of \( G \) into translations of \( H \).

  We generally use the terms \enquote{coset} and \enquote{equivalence class} interchangeably.

  In this context, some authors like \incite[129]{Knapp2016BasicAlgebra} define \term{left cosets} as sets of the form \( a H \) and \term{right cosets} as sets of the form \( H a \).

  With the relation \( {\sim} \) from \fullref{thm:subgroup_cosets/equivalence_relation}, \fullref{thm:subgroup_cosets/translations} demonstrates how both concepts of cosets coincide --- all equivalence classes are of the form \( a H \) for some \( a \).

  We might have defined the equivalence relation to hold if \( x y^{-1} \in H \) instead of \( x^{-1} y \in H \), which would lead us to right cosets rather than left cosets.
\end{remark}

\paragraph{Group quotients}

\begin{definition}\label{def:group_conjugation}\mcite[165]{Knapp2016BasicAlgebra}
  Given a group \( G \), we define the \term{left conjugate} of \( x \) by \( g \) as \( g x g^{-1} \) and the \term{right conjugate} by \( g \) as \( g^{-1} x g \).
\end{definition}
\begin{comments}
  \item The adjectives \enquote{left} and \enquote{right} reflect the fact that \( x \mapsto g x g^{-1} \) is a \hyperref[def:group_action]{left group action}, while \( x \mapsto g^{-1} x g \) is a \hyperref[def:group_action]{left group action} --- see \fullref{thm:group_conjugation_action}.
\end{comments}

\begin{definition}\label{def:normal_subgroup}\mcite[131]{Knapp2016BasicAlgebra}
  We say that a \hyperref[def:group/submodel]{subgroup} is \term{normal} if it is closed under (left or right) \hyperref[def:group_conjugation]{conjugation} by arbitrary elements.

  Explicitly, the subgroup \( N \) of \( G \) is normal if, for any \( n \) in \( N \) and an arbitrary \( g \) in \( G \), the left conjugate \( gng^{-1} \) belongs to \( N \). An equivalent condition is for the right conjugate \( gng^{-1} \) to belong to \( N \).
\end{definition}

\begin{proposition}\label{thm:kernel_is_normal_subgroup}
  The \hyperref[def:group/kernel]{kernel} of a \hyperref[def:group/homomorphism]{group homomorphism} is a \hyperref[def:normal_subgroup]{normal subgroup} of its domain.
\end{proposition}
\begin{proof}
  Consider the homomorphism \( \varphi: G \to H \). The kernel is clearly a subgroup, hence we will only prove normality.

  For any group element \( g \) and every \( n \) in the kernel of \( \varphi \), the left conjugate \( gng^{-1} \) satisfies
  \begin{equation*}
    \varphi(gng^{-1})
    =
    \varphi(g) \cdot \varphi(n) \cdot \varphi(g^{-1})
    =
    \varphi(g) \cdot e_H \cdot \varphi(g^{-1})
    =
    e_H,
  \end{equation*}
  hence \( gng^{-1} \) is also in the kernel.

  Therefore, the kernel is normal.
\end{proof}

\begin{example}\label{ex:quotient_by_non_normal_subgroup}
  This example uses forward references to \fullref{sec:group_actions} to demonstrate that the equivalence relations induced by arbitrary subgroups may not be congruences. Only the multiplication table from \fullref{ex:s3} will matter to us.

  Consider the \hyperref[def:symmetric_group]{symmetric group} \( S_3 \) discussed in \fullref{ex:s3} and \fullref{ex:s3_and_a3} and the subgroup
  \begin{equation*}
    H = \set{ \id, \cycle{ 1, 2 } }.
  \end{equation*}

  It is indeed a subgroup:
  \begin{itemize}
    \item \( H \) contains the neutral element.
    \item \( H \) is closed under inverses because, as a transposition, \( \cycle{ 1, 2 } \) is its own inverse.
    \item \( H \) is closed under products for the same reason.
  \end{itemize}

  It is not \hyperref[def:normal_subgroup]{normal}, however, because the conjugate
  \begin{equation*}
    \cycle{ 1, 3 }
    \cdot
    \cycle{ 1, 2 }
    \cdot
    \cycle{ 1, 3 }
    =
    \cycle{ 2, 3 },
  \end{equation*}
  does not belong to \( H \).

  Consider the equivalence relation \( {\sim} \) induced by \( H \) as per \fullref{thm:subgroup_cosets/equivalence_relation}. It is not a congruence, however, as we will now show.

  We have \( \cycle{ 1, 3 } \sim \cycle{ 1, 2, 3 } \) because
  \begin{equation*}
    \cycle{ 1, 3 }^{-1} \bincirc \cycle{ 1, 3, 2 }
    =
    \cycle{ 1, 3 } \bincirc \cycle{ 1, 3, 2 }
    =
    \underbrace{\cycle{ 1, 2 }}_{\in H}.
  \end{equation*}

  Similarly, \( \cycle{ 2, 3 } \sim \cycle{ 1, 3, 2 } \). These are actually the three left cosets:
  \begin{align*}
    \underbrace{ \set{ \id, \cycle{ 1, 2 } } }_{ H },
    &&
    \underbrace{ \set{ \cycle{ 1, 3 }, \cycle{ 1, 2, 3 } } }_{ \cycle{ 1, 3 } H },
    &&
    \underbrace{ \set{ \cycle{ 2, 3 }, \cycle{ 1, 3, 2 } } }_{ \cycle{ 2, 3 } H }.
  \end{align*}

  But \eqref{eq:def:first_order_congruence/direct} is not satisfied because
  \begin{equation*}
    \cycle{ 1, 3 } \bincirc \cycle{ 2, 3 }
    =
    \cycle{ 1, 3, 2 }
    \not\cong
    \id
    =
    \cycle{ 1, 3, 2 } \bincirc \cycle{ 1, 2, 3 }.
  \end{equation*}

  So, if the subgroup is not normal, \fullref{thm:normal_subgroups_and_congruences}, upon which we often rely, does not hold. Furthermore, \fullref{thm:normal_subgroup_left_right_cosets}, which gives us certain consistency conditions, also does not hold because the left cosets above differ from the right cosets:
  \begin{align*}
    \underbrace{ \set{ \id, \cycle{ 1, 2 } } }_{ H },
    &&
    \underbrace{ \set{ \cycle{ 1, 3 }, \cycle{ 1, 3, 2 } } }_{ H \cycle{ 1, 3 } },
    &&
    \underbrace{ \set{ \cycle{ 2, 3 }, \cycle{ 1, 2, 3 } } }_{ H \cycle{ 2, 3 } }.
  \end{align*}
\end{example}

\begin{proposition}\label{thm:normal_subgroups_and_congruences}
  Fix a \hyperref[def:group]{group} \( G \). \hyperref[def:first_order_congruence]{First order congruences} on \( G \) and \hyperref[def:normal_subgroup]{normal subgroup} of \( G \) are related as follows:
  \begin{thmenum}
    \thmitem{thm:normal_subgroups_and_congruences/cong_to_subgroup} For every congruence in \( G \), the coset \( [e_G] \) of the neutral element is a normal subgroup of \( G \).

    \thmitem{thm:normal_subgroups_and_congruences/subgroup_to_cong} Conversely, for every normal subgroup \( N \), the relation \( x \cong y \) defined to hold if \( x^{-1} y \) is in \( N \), is a congruence.

    \thmitem{thm:normal_subgroups_and_congruences/inverse} The procedures for obtaining a congruence from a normal subgroup and vice versa are inverses.
  \end{thmenum}
\end{proposition}
\begin{comments}
  \item This allows us to consider the quotient \( G / N \) with respect to a normal subgroup rather than \( G / {\cong} \) with respect to a congruence.

  \item This fails for more general structures like monoids --- see \fullref{ex:congruence_with_cosets_of_different_cardinality}.

  \item A similar statement holds for ring ideals --- see \fullref{thm:ideals_and_congruences} --- and submodules --- see \fullref{thm:submodules_and_congruences}

  \item \Fullref{thm:normal_subgroups_and_congruences/subgroup_to_cong} extends \fullref{thm:subgroup_cosets/equivalence_relation}, which shows that, for arbitrary subgroups, \( {\cong} \) is merely an equivalence relation.
\end{comments}
\begin{proof}
  \SubProofOf{thm:normal_subgroups_and_congruences/cong_to_subgroup} The conditions for congruence imply that all the operations must be preserved by a congruence --- in the case of groups, these are the unary inverse operation and the binary group operation. Hence, \( [e_G] \) contains the inverse of each of its elements, as well as the product of each pair. Furthermore, \( [e_G] \) also contains the neutral element, which means that it is a subgroup of \( G \).

  We will now show that it is a normal subgroup. Fix elements \( g \) from \( G \) and \( n \) from \( [e_G] \). Then
  \begin{equation*}
    g \cdot n \cong \underbrace{g \cdot e_G}_{g},
  \end{equation*}
  hence
  \begin{equation*}
    g \cdot n \cdot g^{-1} \cong e_G.
  \end{equation*}

  \SubProofOf{thm:normal_subgroups_and_congruences/subgroup_to_cong} Let \( N \) be a normal subgroup and consider the relation \( {\cong} \) defined above.

  We must verify that it is a congruence. \Fullref{thm:subgroup_cosets/equivalence_relation} already shows that it is an equivalence relation, so it remains to verify that it preserves operations.

  \SubProof*{Proof that \( {\cong} \) preserves inverses} If \( x \cong y \), then \( x^{-1} y \) is in \( N \). Since \( N \) is normal, it contains the left conjugate
  \begin{equation*}
    x (x^{-1} y) x^{-1} = y x^{-1}.
  \end{equation*}

  As a subgroup, \( N \) contains the inverses of its elements, hence it contains
  \begin{equation*}
    (x^{-1})^{-1} (y^{-1}).
  \end{equation*}

  Therefore, \( x^{-1} \cong y^{-1} \).

  \SubProof*{Proof that \( {\cong} \) preserves products} Suppose that \( a \cong b \) and \( x \cong y \).

  We have \( a^{-1} b \in N \). Since \( N \) is normal,
  \begin{equation*}
    y^{-1} (a^{-1} b) y \in N.
  \end{equation*}

  Since \( N \) is a subgroup and contains the products of its elements, \( N \) also contains the following element:
  \begin{equation*}
    (x^{-1} y) y^{-1} (a^{-1} b) y = x^{-1} a^{-1} b y = (a x)^{-1} b y.
  \end{equation*}

  Therefore, \( ax \cong by \).

  \SubProofOf{thm:normal_subgroups_and_congruences/inverse}

  \SubProof*{Congruences can be restored} Suppose we have a congruence \( {\cong} \) on \( G \). Let \( {\congdot} \) be congruence generated by the normal subgroup \( [e_G] \). We must show that \( {\cong} \) and \( {\congdot} \) are equivalent.

  Indeed, \( x \cong y \) if and only if \( x^{-1} y \cong e_G \) if and only if \( x^{-1} y \in [e_G] \) if and only if \( x \congdot y \).

  \SubProof*{Normal subgroups can be restored} Conversely, suppose we have a normal subgroup \( N \) on \( G \). Let \( {\cong} \) be the corresponding congruence and consider the normal subgroup \( [e_G] \). We must show that \( N = [e_G] \).

  For every \( x \) we have \( x = e_G \cdot x = e_G^{-1} \cdot x \), hence \( x \in [e_G] \) if and only if \( x \in N \).
\end{proof}

\begin{example}\label{ex:congruence_with_cosets_of_different_cardinality}
  Consider the monoid \( (\BbbN, \max) \) of zero-based natural numbers with \( \max(a, b) \) as the monoid operation. This is the additive monoid of one of the \enquote{tropical} semirings discussed in \fullref{def:tropical_semiring}.

  Define the relation \( a \cong b \) to hold if \( a \) and \( b \) have the same number of decimal digits. It is clearly an equivalence relation. Furthermore, if \( a \cong a' \) and \( b \cong b' \) and \( a \not\cong b \), then \( b \) and \( b' \) simultaneously have either more or less digits than \( a \) and \( a' \), hence \( \max(a, b) \) should have the same amount of digits as \( \max(a', b') \). Hence, \( {\cong} \) is a congruence on \( (\BbbN, \max) \).

  We have the following cosets under \( {\cong} \):
  \begin{itemize}
    \item \( 10 \) numbers with \( 1 \) digit: \( 0, 1, \ldots, 8, 9 \),
    \item \( 90 \) numbers with \( 2 \) digits: \( 10, 11, \ldots, 98, 99 \),
    \item \( 900 \) numbers with \( 3 \) digits: \( 100, 11, \ldots, 998, 999 \),
    \item \( \cdots \)
    \item \( 9 \cdot 10^n \) numbers with \( (n - 1) \) digits,
    \item \( \cdots \)
  \end{itemize}

  Clearly the distinct cosets have different sizes. This demonstrates show \fullref{thm:subgroup_cosets/equinumerous} may fail to hold more generally.
\end{example}

\begin{remark}\label{rem:congruence_modulo_substructure}
  \Fullref{thm:normal_subgroups_and_congruences/subgroup_to_cong} demonstrates how a \hyperref[def:normal_subgroup]{normal subgroup} \( N \) of \( G \), introduces a congruence \( \cong \) on \( G \). With more than one congruence, we need a way to track how they are related to the subgroups, for example via subscript notation: \( x \cong_N y \) and \( x \cong_M y \).

  We can alternatively use the notation \( x \cong y \pmod N \) or, if \( N \) is generated by a single element \( n \), we can use \( x \cong y \pmod n \). We can then say \enquote{\( x \) and \( y \) are congruent \term{modulo} \( N \) (or modulo \( n \))}. This convention frees us from the need of introducing congruences corresponding to normal subgroups.

  This concept also extends to \hyperref[def:semiring_ideal]{ring ideals} and \hyperref[def:module/submodel]{submodules} rather than normal subgroups.
\end{remark}

\begin{remark}\label{rem:congruence_modulo_real_number}
  Over the real numbers, \hyperref[rem:congruence_modulo_substructure]{congruences modulo subgroups} are occasionally useful. For example, the \hyperref[def:angle]{angles} \( \alpha \) and \( \beta \coloneqq \alpha + 2\pi \) correspond to the same \hyperref[def:rigid_motion/rotation]{rotation}, and we can write
  \begin{equation*}
    \alpha \cong \beta \pmod 2\pi
  \end{equation*}
  to mean that \( \beta - \alpha \) is a multiple of \( 2\pi \).

  This should not be confused with congruence modulo ideals, because over a field the ideal generated by a nonzero number is the field itself.
\end{remark}

\begin{proposition}\label{thm:normal_subgroup_left_right_cosets}
  Fix a \hyperref[def:normal_subgroup]{normal subgroup} \( N \) of \( G \). Then, for any \( g \) in \( G \), we have \( gN = Ng \).
\end{proposition}
\begin{comments}
  \item The converse may fail --- see \fullref{ex:quotient_by_non_normal_subgroup}.
\end{comments}
\begin{proof}
  Fix an element \( n \) of \( N \). Since \( N \) is normal, the left conjugate \( gng^{-1} \) is also in \( N \), hence \( gn \) is in \( Ng \). Hence, \( gN \subseteq Ng \).

  Conversely, every element \( ng \) of \( Ng \) is in \( gN \) because \( g^{-1} n g \) is in \( N \), which in turn implies \( gN \subseteq Ng \).

  Therefore, \( gN = Ng \).
\end{proof}

\begin{lemma}\label{thm:intersection_of_normal_subgroups}
  The \hyperref[def:basic_set_operations/intersection]{set intersection} of \hyperref[def:normal_subgroup]{normal subgroups} is also normal.
\end{lemma}
\begin{proof}
  Straightforward.
\end{proof}

\begin{definition}\label{def:normal_closure}\mcite[506]{Jacobson1989AlgebraPart2}
  The \term{normal closure} of a subset \( A \) of a group \( G \) is the intersection of all \hyperref[def:normal_subgroup]{normal subgroups} of \( G \) containing \( A \).

  This is a \hyperref[def:moore_closure_operator]{Moore closure operator}.
\end{definition}
\begin{defproof}
  The fact that the normal closure is a closure operator follows from \fullref{thm:intersection_of_normal_subgroups} via \fullref{thm:closure_operator_from_set_semilattice}.
\end{defproof}

\begin{proposition}\label{thm:group_zero_morphisms}
  Let \( \varphi: G \to H \) be a \hyperref[def:group/homomorphism]{group homomorphism}.

  \begin{thmenum}
    \thmitem{thm:group_zero_morphisms/kernel} The \hyperref[def:zero_morphisms/kernel]{categorical kernel} \( \ker \varphi \) of \( \varphi \) is the preimage of \( e_H \).

    \thmitem{thm:group_zero_morphisms/cokernel} The \hyperref[def:zero_morphisms/kernel]{categorical cokernel} \( \co\ker \varphi \) of \( \varphi \) is the \hyperref[def:group/quotient]{quotient} of \( H \) by the \hyperref[def:normal_closure]{normal closure} of the \hyperref[def:set_valued_map/image]{set-theoretic image} \( \varphi[G] \).

    \thmitem{thm:group_zero_morphisms/image} The \hyperref[def:zero_morphisms/image]{categorical image} \( \img \varphi \) of \( \varphi \) is the set-theoretic image \( \varphi[G] \).

    \thmitem{thm:group_zero_morphisms/coimage} The \hyperref[def:zero_morphisms/coimage]{categorical coimage} of \( \varphi \) is the \hyperref[def:group/quotient]{quotient} of \( G \) by the \hyperref[def:group/kernel]{kernel} \( \ker \varphi \).

    \thmitem{thm:group_zero_morphisms/isomorphism} The image and coimage of \( \varphi \) are isomorphic via the following map:
    \begin{equation}\label{eq:thm:group_zero_morphisms/isomorphism}
      \begin{aligned}
        &\psi: G / \ker \varphi \to \img \varphi, \\
        &\psi(\pi(x)) \coloneqq \varphi(x).
      \end{aligned}
    \end{equation}
  \end{thmenum}
\end{proposition}
\begin{comments}
  \item Similar results hold for (nonunital) \hyperref[def:ring]{rings} --- see \fullref{thm:ring_zero_morphisms} --- and for \hyperref[def:module]{modules} --- see \fullref{thm:module_zero_morphisms}.
\end{comments}
\begin{proof}
  \SubProofOf{thm:group_zero_morphisms/kernel} Follows from \fullref{thm:zero_morphisms_pointed/kernel}.
  \SubProofOf{thm:group_zero_morphisms/cokernel} \Fullref{thm:zero_morphisms_pointed/cokernel} implies that the categorical cokernel of \( \varphi \) is the quotient of \( H \) by the \hyperref[def:first_order_congruence]{congruence} \hyperref[def:first_order_generated_congruence]{generated} by the relation \( {\sim} \) defined as
  \begin{equation*}
    h \sim e_H \T{if and only if} h \in \varphi[G].
  \end{equation*}

  Fix any congruence \( {\congdot} \) containing \( {\sim} \). \Fullref{thm:normal_subgroups_and_congruences/cong_to_subgroup} implies that the equivalence class \( [e_H] \) is a normal subgroup of \( H \). This class necessarily contains \( \varphi[G] \).

  Since the smallest normal subgroup containing the image \( \varphi[G] \) is its normal closure, we conclude that this is the cokernel of \( \varphi \).

  \SubProofOf{thm:group_zero_morphisms/image} Follows from \fullref{thm:zero_morphisms_pointed/image}.
  \SubProofOf{thm:group_zero_morphisms/coimage} The cokernel of the kernel of \( \varphi \) is the quotient of \( G \) by the normal closure of \( \iota[\ker \varphi] \). But \( \iota[\ker \varphi] = \ker \varphi \) and \fullref{thm:kernel_is_normal_subgroup} implies that \( \ker \varphi \) is normal, hence the coimage of \( \varphi \) is the quotient \( G / \ker \varphi \).

  \SubProofOf{thm:group_zero_morphisms/isomorphism} To see that \( \psi \) is well-defined, note that \( x \cong y \) implies \( x^{-1}y \in \ker \varphi \), that is, \( \varphi(x^{-1}y) = \varphi(x)^{-1} \varphi(y) = e_H \). The latter is equivalent to \( \varphi(x) = \varphi(y) \).

  \SubProofOf[def:function_invertibility/injective/equality]{injectivity} Suppose that \( \psi(\pi(x)) = \psi(\pi(y)) \). Then
  \begin{equation*}
    \psi(\pi(x)) = \varphi(x) = \varphi(y) = \psi(\pi(y)),
  \end{equation*}
  hence \( x \cong y \) and \( \pi(x) = \pi(y) \).

  \SubProofOf[def:function_invertibility/surjective/existence]{surjectivity} Fix some \( h \) from \( \img f \). \Fullref{thm:group_zero_morphisms/image} implies that there exists some \( g \) in \( G \) such that \( h = \varphi(g) \). Thus,
  \begin{equation*}
    \psi(\pi(g)) = \varphi(g) = h.
  \end{equation*}
\end{proof}

\begin{corollary}\label{thm:injective_group_homomorphisms_are_kernels}
  An injective group homomorphism \( \varphi: G \to H \) is the \hyperref[def:zero_morphisms/kernel]{kernel} of the canonical projection \( \pi: G \to G / \ker \varphi \).
\end{corollary}
\begin{proof}
  \Fullref{thm:group_homomorphism_trivial_kernel} implies that, since \( \varphi \) is injective, \( \ker \varphi \) is trivial and \( G \) is isomorphic to \( G / \ker \varphi \).

  \Fullref{thm:group_zero_morphisms/coimage} implies that \( G / \ker \varphi \) is the coimage of \( \varphi \).

  By definition, as the coimage pair of \( \varphi \), \( (G, \varphi) \) is the kernel pair of the cokernel pair.
\end{proof}

\begin{corollary}\label{thm:surjective_group_homomorphisms_are_cokernels}
  A surjective group homomorphism \( \varphi: G \to H \) is the \hyperref[def:zero_morphisms/cokernel]{cokernel} of the canonical inclusion \( \iota: \ker \varphi \to G \).
\end{corollary}
\begin{proof}
  The group \( H \) is the set-theoretical image of \( \varphi \), and \fullref{thm:group_zero_morphisms/image} implies that it is also the categorical image of \( \varphi \).

  By definition, as the image pair of \( \varphi \), \( (H, \varphi) \) is the cokernel pair of the kernel pair.
\end{proof}

\begin{proposition}\label{thm:group_homomorphism_trivial_kernel}
  A group homomorphism is injective if and only if its \hyperref[def:group/kernel]{kernel} is \hyperref[def:group/trivial]{trivial}.
\end{proposition}
\begin{comments}
  \item This also holds for ring and module homomorphisms since their kernel coincides with the kernel of their additive group.

  \item \Fullref{thm:injective_group_homomorphisms_are_monomorphisms} implies that the injective group homomorphisms are precisely the monomorphisms.
\end{comments}
\begin{proof}
  Fix a homomorphism \( \varphi: G \to H \).

  \SufficiencySubProof Suppose that \( \varphi \) is injective. Then \( \varphi(x) = \varphi(e_G) = e_H \) implies that \( x = e_G \), hence \( \ker \varphi = \set{ e_G } \).

  \NecessitySubProof Suppose that \( \ker \varphi = \set{ e_G } \). If \( \varphi(x) = \varphi(y) \), then
  \begin{equation*}
    e_H = \varphi(x) \cdot \varphi(y)^{-1} = \varphi(xy^{-1}),
  \end{equation*}
  hence \( x y^{-1} \) is in the kernel. But the only element of the kernel is \( e_G \), thus \( x y^{-1} = e_G \) and \( x = y \).

  Therefore, \( \varphi \) is injective.
\end{proof}

\begin{proposition}\label{thm:group_homomorphism_zero_cokernel}
  A group homomorphism is surjective if and only if its \hyperref[def:group/kernel]{cokernel} is \hyperref[def:group/trivial]{trivial}.
\end{proposition}
\begin{comments}
  \item This also holds for ring and module homomorphisms since their kernel coincides with the kernel of their additive group.

  \item \Fullref{thm:surjective_group_homomorphisms_are_cokernels} implies that the surjective group homomorphisms are precisely the epimorphisms.
\end{comments}
\begin{proof}
  Fix a homomorphism \( \varphi: G \to H \). \Fullref{thm:group_zero_morphisms/cokernel} implies that the cokernel of \( \varphi \) is the quotient of \( H \) by the normal closure of \( \img \varphi \). This quotient is trivial if and only if \( H = \img \varphi \), that is, if and only if \( \varphi \) is surjective.
\end{proof}

\begin{theorem}[Lattice theorem for subgroups]\label{thm:lattice_theorem_for_subgroups}\mcite[prop. II.8.9]{Aluffi2009Algebra}
  Given a \hyperref[def:normal_subgroup]{normal subgroup} \( N \) of \( G \), the function \( H \mapsto H / N \) is an \hyperref[def:lattice/homomorphism]{isomorphism of complete lattices} between the \hyperref[def:lattice_ideal/principal]{principal filter} of subgroups of \( G \) containing \( N \) and the \hyperref[thm:substructures_form_complete_lattice]{lattice of subgroups} of the \hyperref[def:group/quotient]{quotient} \( G / N \).

  Furthermore, normal subgroups correspond to normal subgroups.
\end{theorem}
\begin{comments}
  \item See \fullref{thm:lattice_theorem_for_substructures} for a very verbose formulation of this theorem in a general setting.
  \item Similar results hold for \hyperref[def:ring]{ring} \hyperref[def:semiring_ideal]{ideals} --- see \fullref{thm:lattice_theorem_for_ideals} --- and for \hyperref[def:module/submodel]{submodules} --- see \fullref{thm:lattice_theorem_for_submodules}.
\end{comments}
\begin{proof}
  This theorem mostly follows from \fullref{thm:lattice_theorem_for_substructures}, but we need to first show compatibility.

  Let \( N \) be a normal subgroup of \( G \). \Fullref{thm:normal_subgroups_and_congruences/subgroup_to_cong} induces a congruence \( x \cong y \) that holds if \( x^{-1} y \) is in \( N \).

  \SubProof{Proof that \( S \) is compatible with \( {\cong} \) if and only if it contains \( N \)}

  \SufficiencySubProof* Let \( S \) be a subgroup of \( G \) that is compatible with \( {\cong} \) in the sense of \eqref{eq:thm:lattice_theorem_for_substructures/compatibility}. Then \( x \in S \) and \( x^{-1} y \in N \) together imply that \( y \in S \).

  Let \( n \in N \). We know that \( e \in S \) and \( n = e^{-1} n \in N \), hence \( n \in S \).

  \NecessitySubProof* Let \( S \) be a subgroup of \( G \) containing \( N \).

  If \( x \in S \) and \( x^{-1} y \in N \) both hold, then \( x^{-1} y \in S \) and their product \( y \) is also in \( S \).

  \SubProof{Proof that the join of compatible subgroups is the subgroup generated by their union} This follows directly by noting that the lattice of compatible subgroups of \( G \) is a sublattice of the lattice of all subgroups of \( G \).

  \SubProof{Proof that normal subgroups correspond to normal subgroups}

  \SufficiencySubProof* Let \( S \) be a normal subgroup of \( G \) compatible with \( {\cong} \), that is, containing \( N \). We must show that the quotient \( S / {\cong} \) is normal.

  Fix any member \( g \) of \( G \) and \( s \) of \( S \). Compatibility of \( {\cong} \) with respect to the group operations implies
  \begin{equation*}
    [g] [s] [g]^{-1} = [g s g^{-1}].
  \end{equation*}

  We know that the left conjugate \( g s g^{-1} \) belongs to \( S \), hence the conjugate \( [g] [s] [g]^{-1} \) belongs to \( S / {\cong} \).

  \NecessitySubProof* Let \( Q \) be a normal subgroup of \( G / {\cong} \). Fix again members \( g \) of \( G \) and \( s \) of \( S \). Then \( [g] [s] [g]^{-1} = [g s g^{-1}] \) is a member of \( Q \), hence \( g s g^{-1} \) is a member of \( \bigcup Q \), the subgroup of \( G \) corresponding to \( Q \).

  Therefore, if \( Q \) is normal, \( \bigcup Q \) is also normal.
\end{proof}

\paragraph{Lagrange's subgroup theorem}

\begin{definition}\label{def:subgroup_index}\mcite[II.8.12]{Aluffi2009Algebra}
  The \term{index} \( [G : H] \) of a subgroup \( H \) in \( G \) is the (\hyperref[def:cardinal]{cardinal}) number of \hyperref[rem:subgroup_cosets]{cosets}.
\end{definition}

\medskip

\begin{definition}\label{def:group_order}\mcite[30]{Jacobson1985AlgebraPart1}
  We will use the \term[ru=порядок (\cite[81]{Тыртышников2017Алгебра})]{order} \( \ord(G) \) of a group \( G \) as a synonym for its \hyperref[thm:cardinality_existence]{cardinality}.
\end{definition}

\begin{theorem}[Lagrange's subgroup theorem]\label{thm:lagranges_subgroup_theorem}
  Let \( H \) be a subgroup of \( G \). We have the following equality:
  \begin{equation}\label{eq:thm:lagranges_subgroup_theorem/general}
    \ord(G) = \ord(H) \cdot [G : H].
  \end{equation}

  For a normal group \( N \), the index \( [G : H] \) is the order of the quotient \( G / N \), and we have
  \begin{equation}\label{eq:thm:lagranges_subgroup_theorem/normal}
    \ord(G) = \ord(N) \cdot \ord(G / N).
  \end{equation}
\end{theorem}
\begin{comments}
  \item This demonstrates that there exists a bijective function from the \hyperref[def:first_order_direct_product]{direct product} \( H \times G / H \) and \( H \), however this may not be a group homomorphism --- see \fullref{ex:lagranges_theorem_for_groups/direct_product_zn}.
\end{comments}
\begin{proof}
  \Fullref{thm:subgroup_cosets/equinumerous} implies that every coset of \( G \) with respect to \( H \) is equinumerous with \( H \), and by definition there is a total of \( [G : H] \) cosets. Furthermore, as cosets, all of them are disjoint. Therefore, \eqref{eq:thm:lagranges_subgroup_theorem/general} holds.
\end{proof}

\begin{corollary}\label{thm:prime_groups_are_simple}
  Groups of \hyperref[def:prime_number]{prime} \hyperref[def:group_order]{order} are \hyperref[def:simple_object]{simple}.
\end{corollary}
\begin{proof}
  Let \( N \) be a proper normal subgroup of \( G \), where \( \ord(G) \) is a prime number.

  From \fullref{thm:lagranges_subgroup_theorem} it follows that \( \ord(N) \) divides \( p \). But \( p \) is prime, hence \( N \) is either the trivial group or the full group.

  Therefore, \( G \) is a simple group.
\end{proof}

\begin{example}\label{ex:subgroups_of_integers}
  Consider the group \( \BbbZ \) of integers with respect to addition.

  Let \( 2\BbbZ \) be the subgroup of all even integers. Then both \( \BbbZ \) and \( 2\BbbZ \) are countably infinite, but their quotient group \( \BbbZ / 2\BbbZ \) has two elements --- the set \( 2\BbbZ \) of all even integers and the set \( 2\BbbZ + 1 \) of all odd integers. Generalizations of this quotient group are discussed in \fullref{def:group_of_integers_modulo}. \Fullref{thm:lagranges_subgroup_theorem} holds, but it gives no insight due to the absorbing properties of transfinite cardinal arithmetic described in \fullref{thm:simplified_cardinal_arithmetic}.

  Now consider the groups \( 4\BbbZ \subseteq 2\BbbZ \subseteq \BbbZ \). As a consequence of \fullref{thm:lagranges_subgroup_theorem}, \( 3\BbbZ \) is not a subgroup of \( 2\BbbZ \), and so we consider powers of \( 2 \).

  Since \( 2\BbbZ \) is a subgroup of \( \BbbZ \), the quotient \( 2\BbbZ / 4\BbbZ \) must a subgroup of \( \BbbZ / 4\BbbZ \) as a consequence of \fullref{thm:lattice_theorem_for_subgroups}. We may not know the structure of the quotient groups (although we do, see \fullref{def:group_of_integers_modulo}), but we know how \( 4\BbbZ \), \( 2\BbbZ \) and \( \BbbZ \) relate to each other, and we are able to determine how the quotient groups relate to each other.
\end{example}

\paragraph{Order of group elements}

\begin{definition}\label{def:group_element_order}
  We define the \term[ru=степень (\cite[86]{Тыртышников2017Алгебра}), en=order (\cite[45]{Knapp2016BasicAlgebra})]{order} \( \ord(x) \) of a member \( x \) of the group \( G \) via any of the following equivalent definitions:
  \begin{thmenum}
    \thmitem{def:group_element_order/power}\mcite[45]{Knapp2016BasicAlgebra} The smallest positive integer \( n \) such that \( x^n = e \), or \( \infty \) if no such integer exists.

    \thmitem{def:group_element_order/subgroup} The order of the subgroup \( \braket{ x } \) \hyperref[def:group/submodel]{generated} by \( x \).
  \end{thmenum}
\end{definition}
\begin{comments}
  \item If the order is infinite, it can only be countably infinite. Following \fullref{rem:lemniscate_symbol}, we will use the symbol \( \infty \) rather than \( \omega \) for infinite order.
\end{comments}
\begin{defproof}
  \ImplicationSubProof{def:group_element_order/power}{def:group_element_order/subgroup}

  \SubProof*{Proof of finite case} Suppose first that \( x^n = e \), and that \( n \) is the smallest positive integer with that property.

  If \( x^i = x^j \) for some integers \( j < i \), then, by \fullref{thm:def:group/equality_of_powers}, we have \( x^{i - j} = e \). By assumption, \( i - j \) cannot be smaller than \( n \).

  It follows that \( e, x, x^2, x^3, \ldots, x^{n-1} \) are elements of the subgroup \( \braket{ x } \).

  By \fullref{alg:integer_division}, every positive integer can be represented uniquely as \( nq + r \), where \( 0 \leq r < q \). If \( nq + r \) is in \( \braket{ x } \), then
  \begin{equation*}
    x^{nq+r}
    \reloset {\eqref{eq:thm:semigroup_exponentiation_properties/repeated}} =
    (x^n)^q \cdot x^r
    =
    e^q \cdot x^r = x^r.
  \end{equation*}

  So there are no other elements in \( \braket{ x } \). It follows that the subgroup's cardinality is \( n \).

  \SubProof*{Proof of infinite case} If \( x^n \neq e \) for every \( n \), then there are infinitely many elements in \( \braket{ x } \).

  \ImplicationSubProof{def:group_element_order/subgroup}{def:group_element_order/power}

  \SubProof*{Proof of finite case} Suppose that \( \braket{ x } \) has \( n \) elements.

  By what we have already shown, \( \braket{ x } \) has \( \ord(x) \) elements. It follows that \( \ord(x) = n \).

  \SubProof*{Proof of infinite case} Suppose that \( \braket{ x } \) has infinitely many elements.

  If for some \( i > j \) we have \( x^i = x^j \), then \fullref{thm:def:group/equality_of_powers} implies that \( x^{i-j} = e \) and, by what we have already shown, \( \braket{ x } \) must have \( i - j \) elements.

  The obtained contradiction shows that \( x^i \neq x^j \) whenever \( i \neq j \).
\end{defproof}

\begin{proposition}\label{thm:def:group_element_order}
  The \hyperref[def:group_element_order]{order} of an element in a finite group \( G \) has the following basic properties:

  \begin{thmenum}
    \thmitem{thm:def:group_element_order/group_order} The order of any element of \( G \) divides the \hyperref[def:group_order]{order} (cardinality) of \( G \).

    \thmitem{thm:def:group_element_order/unique_power} If \( x \) has order \( n \), for every nonnegative integer \( m \), there exists a unique nonnegative integer \( r < n \) such that \( x^r = x^m \). Furthermore, \( n \) divides \( m - r \).

    \thmitem{thm:def:group_element_order/neutral} If \( x \) has order \( n \), then \( x^m = e \) if and only if \( n \) divides \( m \).

    \thmitem{thm:def:group_element_order/power} If \( x \) has order \( n \), for any nonnegative integer \( m \), the order of \( x^m \) is \( n / \gcd(n, m) \).
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:group_element_order/group_order} Fix an element \( x \) of order \( m \). Then the generated subgroup \( \braket{ x } \) has \( m \) elements.

  \Fullref{thm:lagranges_subgroup_theorem} implies that, since \( \braket{ x } \) is a subgroup of \( G \), \( m \) divides \( n \).

  \SubProofOf{thm:def:group_element_order/unique_power} \fullref{alg:integer_division} gives us unique nonnegative integers \( q \) and \( r \) such that \( r < n \) and \( m = qn + r \). Then
  \begin{equation*}
    x^m
    =
    x^{qn + r}
    \reloset {\eqref{eq:thm:semigroup_exponentiation_properties/distributive}} =
    x^{qn} \cdot x^r
    \reloset {\eqref{eq:thm:semigroup_exponentiation_properties/repeated}} =
    (x^n)^q \cdot x^r.
    =
    e^q \cdot x^r
    =
    x^r.
  \end{equation*}

  \SubProofOf{thm:def:group_element_order/neutral} If \( x^m = e \), \fullref{thm:def:group_element_order/unique_power} implies that \( n \) divides \( m \). Conversely, if \( n \) divides \( m \), then
  \begin{equation*}
    x^m = (x^n)^{n/m} = e^{n/m} = e.
  \end{equation*}

  \SubProofOf{thm:def:group_element_order/power} Suppose that \( x \) has order \( n \) and fix a nonnegative integer \( m \). Denote \( \gcd(n, m) \) by \( g \) and the order of \( x^m \) --- by \( k \).

  Then
  \begin{equation*}
    (x^m)^{n / g}
    \reloset {\eqref{eq:thm:semigroup_exponentiation_properties/repeated}} =
    x^{{mn} / g}
    \reloset {\eqref{eq:thm:semigroup_exponentiation_properties/repeated}} =
    (x^n)^{m / g}
    =
    e^{m / g}
    =
    e.
  \end{equation*}

  Hence, the order \( k \) of \( x^m \) is at most \( n / g \).

  Since \( (x^m)^k = e \), \fullref{thm:def:group_element_order/neutral} implies that \( n \) divides \( mk \). Obviously \( m \) also divides \( mk \), thus \( mk \) is a common multiple of \( n \) and \( m \). \Fullref{thm:gcd_and_lcm} however implies that \( mn / g \) is a least common multiple, thus \( n / g \leq k \).

  Therefore, \( k = n / g \).
\end{proof}
