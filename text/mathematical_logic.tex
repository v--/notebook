\chapter{Mathematical logic}\label{ch:mathematical_logic}

Mathematical logic uses mathematics to study logic and vice versa. We try to give very general formal definitions in \fullref{sec:logical_frameworks}. Nevertheless, in order to build a theory to study theories, if we are to use \hyperref[def:well_founded_relation]{well-founded} concepts, we must accept some notions as fundamental without being able to properly define them. We will call such an informal definition a \enquote{concept}.

\begin{concept}\label{con:judgment}
  Our first fundamental notion is that of a \term{judgment}. \incite*[9]{MartinLöf1996LogicalLaws} writes
  \begin{displayquote}
    Now, the question, What is a judgement? is no small question, because the notion of judgement is just about the first of all the notions of logic, the one that has to be explained before all the others, before even the notions of proposition and truth, for instance. There is therefore an intimate relation between the answer to the question what a judgement is and the very question what logic itself is. I shall start by giving a very simple answer, which is essentially right: after some elaboration, at least, I hope that we shall have a sufficiently clear understanding of it. And the definition would simply be that, when understood as an act of judging, a judgement is nothing but an act of knowing, and, when understood as that which is judged, it is a piece or, more solemnly, an object of knowledge.
  \end{displayquote}
\end{concept}
\begin{comments}
  \item In more practical terms, within this monograph, what we call judgments are statements regarding objects of study --- every theorem, lemma, proposition or minor assertion listed here is a judgment. Mathematical logic allows us to systemize judgments and study them and the connections between them.

  \item In order to study judgments formally, we must encode them into some language that is convenient for us to study. We will call such an encoded judgment a \enquote{sentence}. \Fullref{def:consequence_operator} allows us to introduce important definitions independent of the encoding scheme.

  \item Martin-L\"of's work in type theory requires a lucid concept of judgment as a building block for typing rules; see \fullref{rem:typing_judgment} for a broader discussion.
\end{comments}

\begin{concept}\label{con:metalogic}
  We introduced in \fullref{con:metalanguage} the notions of object language and metalanguage. Similarly, when studying a \hyperref[def:logical_framework]{logical framework}, we call this framework the \term[en=object logic (\cite[3]{Kleene2002Logic})]{object logic}, in which case the object language the becomes the collection of sentences for a fixed signature in the object logic. Correspondingly, when studying a concrete \hyperref[def:logical_theory]{logical theory}, we call it the \term{object theory}.

  The metalanguage is then the collection of all \hyperref[con:judgment]{judgments}. We reason about the metalanguage via some logical framework, the \term{metalogic}. The metalogic allows us to encode the concepts we work with, including the object logic, as a logical theory, which we call our \term[en=metatheory (\cite[199]{Kleene2002Logic})]{metatheory}.

  \Cref{con:metalogic} schematically represents the relationships between these concepts.

  \begin{figure}[!ht]
    \begin{equation*}
      \includegraphics[page=1]{output/rem__metalogic}
    \end{equation*}
    \caption{The relationship between the concepts in \fullref{con:metalogic}}\label{fig:con:metalogic}
  \end{figure}

  A human begins his journey of understanding mathematical logic by using the metalogical syntactic or semantic consequence operator to prove statements about the object logic. Whenever he improves his understanding of a given logical framework, this also improves his understanding of how to reason within the confines of this framework, that is, how to use it as a metalogic. This process can be roughly visualized as \enquote{moving} one level down in \cref{fig:con:metalogic}, so that our previous object theory becomes the new metatheory.
\end{concept}
\begin{comments}
  \item Set theory features an important connection between the object theory and the metatheory --- see \fullref{rem:set_definition_recursion}.
\end{comments}

\begin{concept}\label{con:hypothetical_judgment}
  \incite[30]{MartinLöf1984IntuitionisticTypeTheory} calls a \hyperref[con:judgment]{judgment} \term{hypothetical} if it is, in his own words, \enquote{made under assumptions}.
\end{concept}
\begin{comments}
  \item In the \hyperref[con:metalogic]{metalogic}, hypothetical judgments are \hyperref[def:consequence_relation]{logical consequences} of their assumptions.
\end{comments}

\begin{concept}\label{con:expression}
  The ability to express \hyperref[con:judgment]{judgments} in relies on languages; In order to study them mathematically, we use \hyperref[def:formal_language]{formal languages}. Not all strings within such a language represent judgments --- some represent objects of judgment. We will refer to the general strings as \term[en=formal expressions (\cite[217]{Kleene2002Logic})]{expressions}, and further divide them into \term[en=well-formed (formula) (\cite[217]{Kleene2002Logic})]{well-formed} and \term[en=ill-formed (statement) (\cite[266]{Tao2022AnalysisI})]{ill-formed} depending on whether they have a meaningful interpretation.

  We will mostly be concerned with expressions in the \hyperref[con:metalogic]{metalanguage}; for a concrete object language, we will use more precise terminology like \enquote{term} and \enquote{formula}.
\end{concept}
\begin{comments}
  \item We use \hyperref[def:formal_grammar]{formal grammars} to designate which expressions in the object language are well-formed; for this reason, we will mostly avoid using the terms \enquote{well-formed} and \enquote{ill-formed}.

  \item Within \hyperref[def:simply_typed_hol]{(simply typed) higher-order logic}, the expressions correspond to \( \synlambda \)-terms. \hyperref[con:judgment]{Judgments} --- specific types of expressions --- correspond to formulas --- specific typed \( \synlambda \)-terms.

  In \hyperref[def:first_order_syntax]{first-order logic} first-order terms are instead distinct constructs compared to first-order terms. Even so, in a first-order metalanguage in which we restrict the well-formed expressions to first-order terms, little is lost by judgments and expressions being distinct constructs.

  \item We list several sources in the literature that validate the above terminology:
  \begin{itemize}
    \item \incite[217]{Kleene2002Logic} remarks
    \begin{displayquote}
      It is important to remember that the formulas of a formal system are not just any formulas of informal mathematics, or any finite sequences of (occurrences of) the formal symbols of the system, but they are just those finite sequences of the formal symbols which are formed in accordance with the rules defining \enquote{formula} (here the nine rules just listed).

      To emphasize this, many authors call them \enquote{well-formed formulas} or \enquote{wffs}. (To be consistent, if we did so here, we ought to say also \enquote{well-formed terms} or \enquote{wfts}, and \enquote{well-formed proofs} or \enquote{wfps}.) We find \enquote{well-formed formulas} and \enquote{wffs} a little aneuphonious (unwell-sounding). So we prefer, after the well-taken point has been
      well-emphasized, to say simply \enquote{formulas} (following Hilbert and Bernays 1934, 1939). For the infrequently needed arbitrary finite sequences of formal symbols, we have the longer name \enquote{formal expressions}.
    \end{displayquote}

    \item \incite[27]{CurryFeysCraig1958CombinatoryLogicVol1} claim that the terms \enquote{well-formed} is introduced in \incite[352]{Church1932LambdaCalculus} and is \enquote{finding wide acceptance}.

    \item \incite[29]{Andrews2002Logic} refers describes \enquote{well-formed formulas} as \enquote{meaningful expressions}.

    \item On a more informal level, \incite[266]{Tao2022AnalysisI} remarks
    \begin{displayquote}
      Not every combination of mathematical symbols is a statement. For instance,
      \begin{equation*}
        = 2 ++ 4 = - = 2
      \end{equation*}
      is not a statement; we sometimes call it ill-formed or ill-defined. The statements in the previous example are well-formed or well-defined. Thus well-formed statements can be either true or false; ill-formed statements are considered to be neither true
      nor false (in fact, they are usually not considered statements at all). A more subtle example of an ill-formed statement is
      \begin{equation*}
        0 / 0 = 1;
      \end{equation*}
      division by zero is undefined, and so the above statement is ill-formed.
    \end{displayquote}

    \item In programming languages, \enquote{expression} is often a precise term; for example, \cite[\S 6.5]{ISO:9899:2018} provides a \hyperref[def:formal_grammar]{formal grammar} for expressions in the programming language C, while \cite{PythonDocs:3.13:expressions} provides an analogous grammar for Python.

    \item On a similar note, when introducing Scheme, \incite[7]{AbelsonSussman2012eSICP} write
    \begin{displayquote}
      You type an \textit{expression}, and the interpreter responds by displaying the result of its \textit{evaluating} that expression.
    \end{displayquote}

    \item \incite[\S 8.1.1]{Mimram2020ProgramEqualsProof} uses \enquote{expression} for a generalization encompassing both \hyperref[def:lambda_term]{\( \synlambda \)-terms} and \hyperref[def:simple_type]{simple types}, which are kept separate before that point. These \enquote{expressions} are used to introduce \hyperref[rem:dependent_types]{dependent types}.
  \end{itemize}
\end{comments}

\begin{remark}\label{rem:mathematical_logic_conventions}
  Several conventions related to logic are followed through the monograph.

  We only work within \hyperref[con:classical_logic]{classical} \hyperref[con:metalogic]{metalogic}. Outside this section, we will only adhere to formal logic in dedicated places like \fullref{def:lattice/theory}, which describes the \hyperref[def:logical_theory]{logical theory} of \hyperref[def:lattice]{lattices}. Other theories like that of \hyperref[def:complete_lattice]{complete lattices} cannot be elegantly presented via first-order sentences and are instead formulated entirely within the metalanguage under the assumption that we are working within a model of set theory --- \hyperref[def:axiom_of_universes]{\logic{ZFC+U}}, to be more precise. Using logical theories like \fullref{def:lattice/theory} allows us to implicitly reuse a plethora of definitions and theorems regarding first-order models from \fullref{sec:first_order_models}. To keep a clear distinction between logical formulas and non-logical conditions and, more generally, to distinguishing between the object logic and the metalogic, we use the following conventions:

  \begin{thmenum}
    \thmitem{rem:mathematical_logic_conventions/greek_alphabet} We will generally use the Greek alphabet for metalingual variables, and we will allocate it as follows:
    \begin{equation*}
      \underbrace{\alpha, \beta, \gamma, \delta, \varepsilon}_{\T{ordinals}},
      \zeta, \eta,
      \overset{ \mathclap{ \substack{ \T{formulas} \\ \downarrow } } }{\theta},
      \iota,
      \underbrace{\kappa, \lambda, \mu, \nu}_{\T{cardinals}},
      \xi,
      \underbrace{\omicron, \pi, \rho, \sigma, \tau}_{\substack{\T{first-order terms} \\ \T{types}}},
      \upsilon,
      \underbrace{\varphi, \chi, \psi, \omega}_{\T{formulas}}
    \end{equation*}

    Of course, whenever we need additional symbols, we may break the above convention.

    \thmitem{rem:mathematical_logic_conventions/metavariable_syntax} We prefer prose to symbolic quantifiers and connectives for statements in the metalanguage. For the object logic, we place dots over the base connectives from \fullref{def:propositional_alphabet}, as well as variables, predicate symbols and other purely syntactic objects --- see \fullref{rem:object_language_dots}.

    \thmitem{rem:mathematical_logic_conventions/propositional_constants} We define the propositional constants for truth and falsity via \( \syntop \) and \( \synbot \) in the object language and by \( T \) and \( F \) in the metalanguage. We use \( \top \) and \( \bot \) in general \hyperref[def:lattice]{lattices}.

    \thmitem{rem:mathematical_logic_conventions/structure_pairs} We often conflate structures in the metalogic (i.e. sets with functions and/or relations defined on them) with their domain --- see \fullref{rem:first_order_model_notation} for a further discussion.

    \thmitem{rem:mathematical_logic_conventions/shorthands} We additionally use syntactic shorthands like \fullref{rem:propositional_formula_parentheses} and \fullref{rem:first_order_formula_conventions} when writing formulas.

    \thmitem{rem:mathematical_logic_conventions/quantification} We avoid writing excessive universal quantification. If we need the formulas to be closed, such as in the case of \hyperref[def:first_order_theory]{first-order theories}, we rely on implicit quantification as described in \fullref{thm:implicit_universal_quantification}.

    \thmitem{rem:mathematical_logic_conventions/concepts} Some definitions are not completely formal --- beginning with fundamental concepts like the judgments discussed in \fullref{con:judgment} and all the way to the Backus normal form discussed in \fullref{con:backus_normal_form}. We name such definitions \enquote{concepts} to distinguish them from completely formal ones.
  \end{thmenum}
\end{remark}
