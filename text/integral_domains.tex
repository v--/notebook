\subsection{Integral domains}\label{subsec:integral_domains}

\paragraph{Integral domains}

\begin{definition}\label{def:integral_domain}\mcite[144]{Knapp2016BasicAlgebra}
  An \term[bg=област на цялостност (\cite[def. V.4]{ГеновМиховскиМоллов1991}), ru=область целостности (\cite[def. 3.5.1]{Винберг2014})]{integral domain} is an \hyperref[def:entire_semiring]{entire} \hyperref[def:ring/commutative]{commutative (unital) ring}.
\end{definition}

\begin{proposition}\label{thm:def:integral_domain}
  \hyperref[def:integral_domain]{Integral domains} have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:integral_domain/subring} Any \hyperref[def:ring/submodel]{subring} of an integral domain is also an integral domain.

    \thmitem{thm:def:integral_domain/polynomial_ring} A commutative ring \( R \) is an integral domain if and only if its \hyperref[def:polynomial_algebra]{polynomial ring} \( R[X] \) is.

    \thmitem{thm:def:integral_domain/root_limit} In an integral domain, the \hyperref[def:polynomial_root]{multiset of roots} of a univariate nonzero polynomial of \hyperref[def:polynomial_degree]{degree} \( n \) has \hyperref[def:labeled_set/multiset]{multiset cardinality} at most \( n \).

    In other words, a polynomial of degree cannot have more that \( n \) roots, counting multiple roots.

    \thmitem{thm:def:integral_domain/polynomial_divides} The polynomial \( p(X) \) divides \( X^n \) if and only if \( p(X) = aX^m \), where \( a \) is invertible and \( m \leq n \).
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:integral_domain/subring} Trivial.

  \SubProofOf{thm:def:integral_domain/polynomial_ring}

  \NecessitySubProof* If \( R[X] \) is an integral domain, by \fullref{thm:def:integral_domain/subring}, so is \( R \).

  \SufficiencySubProof* It is sufficient to prove the statement for one indeterminate. If \( p(X) \) and \( q(X) \) are nonzero polynomials, then so is \( p(X) q(X) \) by \fullref{thm:def:polynomial_degree/product}.

  \SubProofOf{thm:def:integral_domain/root_limit} We will use induction on the degree. Zero-degree polynomials clearly have zero roots. Suppose that the statement holds for polynomials of degree \( n - 1 \), and let \( p(X) \) have degree \( n \).

  If \( p(X) \) has a root \( u \), by the equivalence in \fullref{def:polynomial_root}, \( (X - u) \) divides \( p(X) \). Then \( p(X) / (X - u) \) has degree \( n - 1 \) by \fullref{thm:def:polynomial_degree/product}. Let \( M \) be the multiset of roots of \( p(X) / (X - u) \). After adding \( u \) to \( M \), we have incremented its total cardinality by \( 1 \), thus making it at most \( n \).

  \SubProofOf{thm:def:integral_domain/polynomial_divides} Suppose that \( X^n = p(X) \cdot q(X) \).

  We have
  \begin{equation*}
    X^n
    =
    p(X) \cdot q(X)
    =
    \sum_{k=0}^\infty (\sum_{m+l=k} a_m b_l) X^k.
  \end{equation*}

  Then
  \begin{equation*}
    a_m b_l = \begin{cases}
      1, &m + l = n, \\
      0, &\T{otherwise}
    \end{cases}
  \end{equation*}

  Since we are working over a domain and there are no zero divisors, there exists only one pair of nonnegative integers \( m \) and \( l \) such that \( a_m b_l = 1 \). It follows that \( p(X) = a_m X^m \) and \( q(X) = a_l X^l \).
\end{proof}

\begin{proposition}\label{thm:quotient_by_prime_ideal}
  The ideal \( P \) of the \hyperref[def:ring/commutative]{commutative ring} \( R \) is \hyperref[def:semiring_ideal/prime]{prime} if and only if the \hyperref[def:ring/quotient]{quotient ring} \( R / P \) is an \hyperref[def:integral_domain]{integral domain}.
\end{proposition}
\begin{comments}
  \item See \fullref{thm:quotient_by_maximal_ideal} for the corresponding statement for \hyperref[def:semiring_ideal/maximal]{maximal ideals} in possibly noncommutative rings.
\end{comments}
\begin{proof}
  \SufficiencySubProof Suppose that \( P \) is a prime ideal. Clearly \( R / P \) is a commutative ring. Since \( P \) is a proper ideal, \( R / P \) must be nontrivial. We will show that it is an \hyperref[def:entire_semiring]{entire ring}.

  Let \( [x] [y] = [0] = P \) (where \( [x] = x + P \) is the coset of \( x \) in \( R / P \)). By definition,
  \begin{equation*}
    [x] [y] = (x + P) (y + P) = (xy + P),
  \end{equation*}
  which implies \( xy + P = P \) and hence \( xy \in P \). Since \( P \) is prime, by \fullref{thm:def:semiring_ideal/prime_pointwise}, we have \( x \in P \) or \( y \in P \).

  Therefore, \( [x] = [0] \) or \( [y] = [0] \). Generalizing on \( x \) and \( y \), we can conclude that \( R / P \) is entire, and thus an integral domain.

  \NecessitySubProof Suppose that \( R / P \) is an integral domain. Since \( R / P \) is nontrivial, \( P \) must be a proper ideal. We will show that it satisfies \fullref{thm:def:semiring_ideal/prime_pointwise}.

  Let \( xy \in P \). We have
  \begin{equation*}
    P = [0] = [xy] = [x] [y],
  \end{equation*}
  hence \( [x] \) and \( [y] \) are zero divisors in \( R / P \). But \( R / P \) is entire, hence either \( [x] \) or \( [y] \) must be zero. That is, either \( x \in P \) or \( y \in P \).

  Generalizing on \( x \) and \( y \), we can conclude that \( P \) is a prime ideal.
\end{proof}

\paragraph{Divisibility in domains}

\begin{proposition}\label{thm:ring_entire_iff_unique_quotient}
  A \hyperref[def:ring/commutative]{commutative ring} is \hyperref[def:entire_semiring]{entire} if and only if, whenever \( y \) \hyperref[def:divisibility]{divides} \( x \), there exists a \hi{unique} element \( z \) such that \( x = yz \).
\end{proposition}
\begin{proof}
  \SufficiencySubProof Suppose that \( R \) is entire. Let \( x = yz = yz' \). \Fullref{thm:def:ring/cancellable_iff_not_zero_divisor} implies that we can cancel \( y \) to obtain \( z = z' \). This demonstrates uniqueness.

  \NecessitySubProof Suppose instead that uniqueness holds and let \( 0 = yz \). By absorption, we have \( 0 = y0 \), and thus \( z = 0 \), showing that \( y \) has no nontrivial zero divisors.

  Since \( y \) was arbitrary, we conclude that the ring is entire.
\end{proof}

\begin{example}\label{ex:nonunique_divisor}
  The requirement in \fullref{thm:ring_entire_iff_unique_quotient} for the ring to be entire is essential --- \fullref{thm:idempotent_division} implies that (nontrivial) multiplicatively idempotent elements are nontrivial zero divisor.

  For example, if \( R \) is nontrivial, consider the \hyperref[thm:matrix_algebra]{matrix algebra} \( R^{2 \times 2} \) and the idempotent matrix
  \begin{equation*}
    \begin{pmatrix}
      1 & 0 \\
      0 & 0
    \end{pmatrix}
  \end{equation*}

  Because it is idempotent, it divides itself:
  \begin{equation*}
    \begin{pmatrix}
      1 & 0 \\
      0 & 0
    \end{pmatrix}^2
    =
    \begin{pmatrix}
      1 & 0 \\
      0 & 0
    \end{pmatrix}.
  \end{equation*}

  But another possible quotient is the identity:
  \begin{equation*}
    \begin{pmatrix}
      1 & 0 \\
      0 & 0
    \end{pmatrix}
    \begin{pmatrix}
      1 & 0 \\
      0 & 1
    \end{pmatrix}
    =
    \begin{pmatrix}
      1 & 0 \\
      0 & 1
    \end{pmatrix}
    \begin{pmatrix}
      1 & 0 \\
      0 & 0
    \end{pmatrix}
    =
    \begin{pmatrix}
      1 & 0 \\
      0 & 0
    \end{pmatrix}.
  \end{equation*}
\end{example}

\begin{definition}\label{def:domain_quotient}\mimprovised
  By \fullref{thm:ring_entire_iff_unique_quotient}, in an \hyperref[def:integral_domain]{integral domain}, if \( y \) divides \( x \), then there exists a unique element \( z \) such that \( x = yz \). \Fullref{thm:def:ring_localization/divisibility} motivates the notation \( x / y \).

  We call \( x / y \) the \term[ru=частное/отношение (\cite[16]{Винберг2014})]{quotient} of \( x \) by \( y \).
\end{definition}

\begin{proposition}\label{thm:domain_quotient_inverse}
  If the \hyperref[def:domain_quotient]{quotient} \( x / y \) is invertible, then \( y \) divides \( x \).
\end{proposition}
\begin{comments}
  \item Using the terminology from \fullref{def:domain_divisibility/associates/direct}, \( x \) and \( y \) are thus associates.
\end{comments}
\begin{proof}
  If \( x = yz \) and \( z \) is a unit, then \( x z^{-1} = y \) and thus \( y \) is invertible.
\end{proof}

\begin{definition}\label{def:domain_divisibility}
  We will introduce several notions related to \hyperref[def:divisibility]{divisibility} in \hyperref[def:integral_domain]{integral domains}.

  \begin{thmenum}
    \thmitem{def:domain_divisibility/associates} We say that \( x \) and \( y \) are \term[bg=асоциирани (\cite[142]{ГеновМиховскиМоллов1991}), ru=ассоциированные (\cite[118]{Винберг2014})]{associated} if any of the following conditions hold:
    \begin{thmenum}
      \thmitem{def:domain_divisibility/associates/direct}\mcite[246]{Aluffi2009} Both \( x \mid y \) and \( y \mid x \).

      \thmitem{def:domain_divisibility/associates/unit}\mcite[393]{Knapp2016BasicAlgebra} There exists a \hyperref[def:divisibility/unit]{unit} \( u \) such that \( x = uy \).

      \thmitem{def:domain_divisibility/associates/ideals}\mcite[246]{Aluffi2009} The \hyperref[def:semiring_ideal/principal]{principal ideals} \( \braket{ x } \) and \( \braket{ y } \) are equal.
    \end{thmenum}

    \thmitem{def:domain_divisibility/irreducible} We say that the nonzero nonunit element \( x \) is \term[bg=неразложим (\ref{rem:prime_and_irreducible_terminology}), ru=неприводимый (\ref{rem:prime_and_irreducible_terminology})]{irreducible} if any of the following conditions hold:
    \begin{thmenum}
      \thmitem{def:domain_divisibility/irreducible/direct}\mcite[388]{Knapp2016BasicAlgebra} Every divisor of \( x \) is a unit, commonly expressed as follows: if \( x = yz \), then \( y \) or \( z \) is a unit (or both are).
      \thmitem{def:domain_divisibility/irreducible/ideals} \( \braket{ x } \) is maximal among all proper principal ideals. Maximality means that, if \( \braket{ x } \subseteq \braket{ y } \) for some nonzero nonunit \( y \), then \( \braket{ x } = \braket{ y } \).
    \end{thmenum}

    \thmitem{def:domain_divisibility/prime} We say that the nonzero element \( x \) is \term[bg=прост (\cref{rem:prime_and_irreducible_terminology}), ru=простой (\cref{rem:prime_and_irreducible_terminology})]{prime} if any of the following equivalent conditions hold:
    \begin{thmenum}
      \thmitem{def:domain_divisibility/prime/direct}\mcite[388]{Knapp2016BasicAlgebra} If \( x \mid yz \), then \( x \mid y \) or \( x \mid z \) (or both).
      \thmitem{def:domain_divisibility/prime/ideals}\incite[113]{Lang2002} The ideal \( \braket{ x } \) is \hyperref[def:semiring_ideal/prime]{prime}.
    \end{thmenum}

    This definition is motivated by \fullref{thm:euclids_lemma}. It also applies more generally for \hyperref[def:entire_semiring]{entire semirings}.
  \end{thmenum}
\end{definition}
\begin{defproof}
  \SubProofOf{def:domain_divisibility/associates}
  \ImplicationSubProof*{def:domain_divisibility/associates/direct}{def:domain_divisibility/associates/unit} If \( x \mid y \) and \( y \mid x \), then there exist \( a \) and \( b \) such that \( x = ay \) and \( y = bx \). Hence, \( x = abx \). Since we are working in an integral domain, we can cancel \( x \) to obtain \( ab = 1 \). Therefore, both \( a \) and \( b \) are \hyperref[def:divisibility/unit]{units}.

  \ImplicationSubProof*{def:domain_divisibility/associates/unit}{def:domain_divisibility/associates/ideals} Suppose that \( x = uy \) for some unit \( u \). If \( z \) is in \( \braket{ x } \), then \( x = uy \) divides \( z \) and hence \( y \) also divides \( z \), implying that \( \braket{ x } \subseteq \braket{ y } \). We obtain the converse inclusion by noting that \( y = u^{-1} x \).

  \ImplicationSubProof*{def:domain_divisibility/associates/ideals}{def:domain_divisibility/associates/direct} If \( \braket{ x } = \braket{ y } \), then, by \fullref{thm:def:semiring_ideal/division}, \( x \mid y \) and \( y \mid x \).

  \SubProofOf{def:domain_divisibility/irreducible}
  \ImplicationSubProof*{def:domain_divisibility/irreducible/direct}{def:domain_divisibility/irreducible/ideals} Suppose that \( x \) is not a unit and that \( x = yz \) implies that \( y \) or \( z \) is a unit. Since we are working in an integral domain, \( x \) is necessarily nonzero.

  Let \( \braket{ x } \subseteq \braket{ w } \) for some nonunit \( w \). By \fullref{thm:def:semiring_ideal/division}, \( w \mid x \). Then there exists some element \( a \) such that \( x = aw \). Since \( w \) is not a unit by assumption, \( a \) must be a unit. By the equivalent definitions of associates in a domain, \( \braket{ x } = \braket{ w } \).

  \ImplicationSubProof*{def:domain_divisibility/irreducible/ideals}{def:domain_divisibility/irreducible/direct} Suppose that \( \braket{ x } \) is maximal among nonzero proper principal ideals.

  Let \( x = yz \). If, without loss of generality, \( \braket{ x } \subseteq \braket{ y } \), then \( \braket{ x } = \braket{ y } \) and, again by the equivalent conditions for associates, there exists some unit \( u \) such that \( x = uy \). Cancelling \( y \) in \( yu = yz \), we obtain \( u = z \). Hence, \( z \) is a unit.

  \SubProofOf{def:domain_divisibility/prime} Trivial.
\end{defproof}

\begin{remark}\label{rem:prime_and_irreducible_terminology}
  There is a certain discrepancy in the literature regarding prime and irreducible elements. It does not matter much because, in \hyperref[def:unique_factorization_domain]{unique factorization domains}, an element is prime if and only if it is irreducible.

  \begin{itemize}
    \item \incite[111]{Lang2002} uses the term \enquote{irreducible} for what we call \enquote{prime}, and later notes that, in unique factorization domains, the principal ideal of an irreducible element is prime, and thus it makes sense to call irreducible elements prime in this context. In the Russian translation of the book, in \cite[89]{Костиркин1968Ленг}, irreducible elements are called \enquote{неприводимые элементы}, and prime elements are called \enquote{простые елементы}.

    Later Russian authors, for example \incite[def. 3.5]{Винберг2014} and \incite[30]{Шафаревич1999}, call irreducible elements \enquote{простые} (which is used as a translation for \enquote{prime} elsewhere in the book, e.g. for prime ideals). This also transfers to Bulgarian books --- for example, \enquote{прост елемент} is used by \incite[def. VI.5]{ГеновМиховскиМоллов1991}.

    In the context of polynomials over fields, however, \incite[121]{Винберг2014} and \incite[19]{Шафаревич1999} use \enquote{неприводимый многочлен} and \incite[def. VI.3]{ГеновМиховскиМоллов1991} use \enquote{неразложим полином} for what we call an irreducible polynomial, and avoid mentioning prime polynomials.

    \item On the other hand, a distinction between \enquote{prime} and \enquote{irreducible} elements in general integral domains is made in modern anglophone literature --- for example by \incite[388,389]{Knapp2016BasicAlgebra}, \incite[343]{Gallian2021} and \incite[def. V.1.6]{Aluffi2009}.
  \end{itemize}
\end{remark}

\begin{proposition}\label{thm:def:domain_divisibility}
  The divisibility notions from \fullref{def:domain_divisibility} have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:domain_divisibility/prime_is_irreducible} Every \hyperref[def:domain_divisibility/prime]{prime element} is \hyperref[def:domain_divisibility/irreducible]{irreducible}.

    The converse is true in \hyperref[def:unique_factorization_domain]{unique factorization domains}.

    \thmitem{thm:def:domain_divisibility/irreducible_in_polynomial_ring} An element of the domain \( D \) is \hyperref[def:domain_divisibility/irreducible]{irreducible} in \( D \) if and only if it is irreducible in \( D[X] \).

    \thmitem{thm:def:domain_divisibility/irreducible_polynomial_coefficients} If a polynomial is irreducible in \( D[X] \), its coefficients are irreducible in \( D \).

    For \hyperref[def:gcd_domain]{GCD domains}, this states that the \hyperref[def:polynomial_content]{content} of an irreducible polynomial is itself irreducible.

    \thmitem{thm:def:domain_divisibility/associates_and_isomorphisms} If \( \varphi: D \to E \) is an isomorphism, then \( x \) and \( y \) are \hyperref[def:domain_divisibility/associates]{associates} in \( D \) if and only if \( \varphi(x) \) and \( \varphi(y) \) are associates in \( E \).

    \thmitem{thm:def:domain_divisibility/primes_and_isomorphisms} If \( \varphi: D \to E \) is an isomorphism, then \( x \) is \hyperref[def:domain_divisibility/prime]{prime} (resp. \hyperref[def:domain_divisibility/irreducible]{irreducible}) in \( D \) if and only if \( \varphi(x) \) is prime (resp. irreducible) in \( E \).
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:domain_divisibility/prime_is_irreducible} Let \( x \) be a prime element and suppose that \( x = yz \). Then \( x \) divides \( y \) or \( z \). If, without loss of generality, \( x \) divides \( y \), then \( x \) and \( y \) are \hyperref[def:domain_divisibility/associates]{associates}, and, by the equivalence of conditions in \fullref{def:domain_divisibility/associates}, \( z \) must be a unit.

  \SubProofOf{thm:def:domain_divisibility/irreducible_in_polynomial_ring}

  \SufficiencySubProof* Suppose that \( x \) is irreducible in \( D \) and let \( x = y(X) z(X) \). By \fullref{thm:def:polynomial_degree/product}, both \( y(X) \) and \( z(X) \) must be constant polynomials. Therefore, they are scalars, and since \( x \) is irreducible, \( y \) or \( z \) is a unit. By \fullref{thm:def:polynomial_algebra/units}, if \( y \) is a unit in \( D \), it is a unit in \( D[X] \).

  Generalizing on \( x \), it follows that every irreducible element in \( D \) is also irreducible in \( D[X] \).

  \NecessitySubProof* Suppose that \( x \) is irreducible in \( D[X] \) and let \( x = yz \). Then \( y \) or \( z \) is a unit of \( D[X] \), and thus again by \fullref{thm:def:polynomial_algebra/units}, it is a unit of \( D \).

  Generalizing on \( x \), it follows that every element of \( D \) that is irreducible in \( D[X] \) is also irreducible in \( D \).

  \SubProofOf{thm:def:domain_divisibility/irreducible_polynomial_coefficients} Suppose that the polynomial
  \begin{equation*}
    p(X) = \sum_{k=0}^n a_k x^k
  \end{equation*}
  is irreducible in \( D[X] \).

  Suppose that the nonunit \( b \) divides \( a_0, a_1, \ldots, a_n \). Then \( b \) also divides \( p(X) \), and \fullref{thm:def:domain_divisibility/irreducible_in_polynomial_ring} implies that \( b \) is a nonunit in \( D[X] \). But this contradicts that \( p(X) \) is irreducible.

  \SubProofOf{thm:def:domain_divisibility/associates_and_isomorphisms} Follows from \fullref{thm:divisibility_and_isomorphisms}.

  \SubProofOf{thm:def:domain_divisibility/primes_and_isomorphisms} Follows from \fullref{thm:divisibility_and_isomorphisms}.
\end{proof}

\begin{example}\label{ex:def:domain_divisibility}
  We list some examples of the divisibility notions from \fullref{def:domain_divisibility}:
  \begin{thmenum}
    \thmitem{ex:def:domain_divisibility/integers} \hyperref[def:prime_number]{Prime numbers} are irreducible integers by definition. By \fullref{thm:euclids_lemma}, they are also prime elements.

    The inverse \( -p \) of the prime number \( p \) is also irreducible and thus a prime element in \( \BbbZ \), but convention requires \enquote{prime numbers} to be positive.

    So, we make a distinction between \enquote{prime numbers} and \enquote{prime elements of \( \BbbZ \)}

    \thmitem{ex:def:domain_divisibility/irreducible_not_prime}\mcite[388]{Knapp2016BasicAlgebra} Consider the ring \( \BbbZ[\sqrt{-5}] \) obtained by \hyperref[thm:adjoining_elements_to_semiring]{adjoining} the complex number \( \sqrt{-5} \) to \( \BbbZ \). We will examine irreducible elements in this ring and show that irreducible elements need not be prime.

    Based on our discussion in \fullref{ex:def:divisibility/i_sqrt5}, we can conclude that \( 1 \) and \( -1 \) are the units of \( \BbbZ \).

    Let \( n \) be a positive integer strictly less than \( 5 \). Suppose that
    \begin{equation}\label{eq:ex:def:domain_divisibility/irreducible_not_prime/decomposition}
      n = \parens[\Big]{ a + b \sqrt{-5} }\parens[\Big]{ c + d \sqrt{-5}}.
    \end{equation}

    Then
    \begin{equation}\label{eq:ex:def:domain_divisibility/irreducible_not_prime/abs}
      \abs{n}^2
      =
      \abs[\Big]{a + b \sqrt{-5}}^2 \cdot \abs[\Big]{c + d \sqrt{-5}}^2
      =
      (a^2 + 5b^2) (c^2 + 5d^2)
      =
      a^2 c^2 + 5a^2 d^2 + 5b^2 c^2 + 25 b^2 d^2.
    \end{equation}

    Since \( n < 5 \), the product \( bd \) must be zero, and since \( \BbbZ \) is entire, it follows that either \( b \) or \( d \) or both must be zero. Furthermore, \( ad \) and \( bc \) must also be zero, hence \( b = d = 0 \). Then \( n = \abs{ac} \). Without loss of generality, suppose that both \( a \) and \( c \) are positive so that \( n = ac \).

    If \( n \) is \( 2 \) or \( 3 \), it is a prime number and is thus irreducible in \( \BbbZ \), hence also in \( \BbbZ[\sqrt{-5}] \).

    Now consider \( 1 \pm \sqrt{-5} \), whose (complex) absolute value is \( \sqrt 6 \). Suppose that it factors as \fullref{eq:ex:def:domain_divisibility/irreducible_not_prime/decomposition}. \Fullref{eq:ex:def:domain_divisibility/irreducible_not_prime/abs} implies that either \( b = 0 \) or \( d = 0 \), but both cannot be zero because the condition \( a^2 c^2 = 6 \) cannot be satisfied.
    \begin{itemize}
      \item If \( b = 0 \), then
      \begin{equation*}
        6 = a^2 (c^2 + 5 d^2).
      \end{equation*}

      We have \( c^2 + 5 d^2 \geq 6 \), so \( a^2 \) must be \( 1 \).

      \item If \( d = 0 \), then similarly
      \begin{equation*}
        6 = c^2 (a^2 + 5b^2),
      \end{equation*}
      from which we conclude that \( c^2 \) must be \( 1 \).
    \end{itemize}

    It follows that \( 1 + \sqrt{5} \) and \( 1 - \sqrt{5} \) are also irreducible.

    Therefore, we have the following ways of representing \( 6 \) as a product of irreducible factors:
    \begin{equation*}
      6 = 2 \cdot 3 = \parens[\Big]{ 1 + \sqrt{-5} } \cdot \parens[\Big]{ 1 - \sqrt{-5}}.
    \end{equation*}

    Furthermore, \( 2 \) and \( 3 \) are irreducible, \( 1 + \sqrt{5} \) doesn't divide neither \( 2 \) nor \( 3 \) but divides their product. Hence, both \( 2 \) and \( 3 \) are irreducible element that are not prime. The same holds for \( 1 + \sqrt{5} \) and \( 1 - \sqrt{5} \).

    \thmitem{ex:def:domain_divisibility/x2_plus_y2} The polynomial \( p(X, Y) \coloneqq a X^2 + b Y^2 \), where \( a \) and \( b \) are positive real numbers, is irreducible in \( \BbbR[X, Y] \).

    Indeed, fix some decomposition \( p(X, Y) = q(X, Y) \cdot r(X, Y) \). From \eqref{eq:thm:def:polynomial_degree/product} it follows that \( \deg q + \deg r = 2 \). If \( \deg q = 2 \), then \( \deg r = 0 \), and hence \( p(X, Y) \) and \( q(X, Y) \) differ by a scalar factor, i.e. a unit. Similarly, if \( \deg r = 2 \), then \( q \) is a unit.

    In order for \( p(X, Y) \) to be reducible, both \( q(X, Y) \) and \( r(X, Y) \) must be linear polynomials. Suppose that
    \begin{align*}
      q(X, Y) &= c X + d Y + e, \\
      r(X, Y) &= f X + g Y + h.
    \end{align*}

    Then
    \begin{equation*}
      q(X, Y) \cdot r(X, Y) = c f X^2 + c g X Y + c h X + d f X Y + d g Y^2 + e h Y + e f X + e g Y + e h.
    \end{equation*}

    In order for there to be no mixed monomials, we must have \( c g = - d f \). Furthermore, \( c \), \( d \), \( f \) and \( g \) are nonzero because otherwise either \( a = c f \) or \( b = d g \) would be zero. Thus,
    \begin{equation*}
      a = c f = - \frac {df} g \cdot f = -f^2 \frac d g.
    \end{equation*}

    Since \( a \) and \( f^2 \) are both positive, \( d / g \) must be negative, i.e. \( d \) and \( g \) must have different signs. But then \( b = d g \) would be negative, and this contradicts out initial assumption that \( b \) is positive.

    The obtained contradiction demonstrates that \( p(X, Y) = a X^2 + b Y^2 \) is irreducible over \( \BbbR \).

    \thmitem{ex:def:domain_divisibility/x2_plus_y2_plus_z2} The polynomial \( p(X, Y, Z) \coloneqq a X^2 + b Y^2 + c Z^2 \), where \( a \), \( b \) and \( c \) are nonzero scalars from an arbitrary \hyperref[def:field]{field} \( \BbbK \), is irreducible in \( \BbbK[X, Y, Z] \).

    As in \fullref{ex:def:domain_divisibility/x2_plus_y2}, suppose that \( p(X, Y, Z) \) is a product of the linear polynomials
    \begin{align*}
      q(X, Y, Z) &= d X + e Y + f Z + g, \\
      r(X, Y, Z) &= h X + i Y + j Z + k.
    \end{align*}

    Then \( q(X, Y, Z) \cdot r(X, Y, Z) \) is
    \begin{align*}
      &\phantom{{}+{}}
      d h X^2 + d i X Y + d j X Z + d k X
      + \\ &+
      e h X Y + e i Y^2 + e j Y Z + e k Y
      + \\ &+
      f h X Z + f i Y Z + f j Z^2 + f k Z
      + \\ &+
      g h X + g i Y + g j Z + g k.
    \end{align*}

    Since \( a = dh \), \( b = ei \) and \( c = fj \) are nonzero, it follows that the corresponding scalars are nonzero. Furthermore, we must have
    \begin{align*}
      (d i + e h) X Y &= 0, \\
      (d j + f h) X Z &= 0, \\
      (e j + f i) Y Z &= 0,
    \end{align*}
    that is,
    \begin{align*}
      d i &= - e h, \\
      d j &= - f h, \\
      e j &= - f i.
    \end{align*}

    We can divide the first two equalities to obtain \( i / j = e / f \), i.e. \( ej = fi \). But the third equality states that \( ej = -fi \). Hence, \( ej \) and \( fi \) can both only be zero. But we know that \( e \), \( f \), \( i \) and \( j \) are all nonzero, hence \( ej \) and \( fi \) must also be nonzero.

    The obtained contradiction shows that the polynomial \( p(X, Y, Z) = a X^2 + b Y^2 + c Z^2 \) is irreducible over any field.
  \end{thmenum}
\end{example}

\begin{remark}\label{rem:choice_of_associates}
  If \( x \) and \( y \) are \hyperref[def:domain_divisibility/associates]{associates}, we generally have no reason to prefer \( x \) to \( y \). This leads to a non-uniqueness in certain contexts, e.g. choosing a \hyperref[def:gcd]{greatest common divisor} or, more generally, a generator for a principal ideal. In such cases, we often prefer working with ideals.

  Fortunately, in the majority of cases, we have good candidates for uniqueness:
  \begin{itemize}
    \item In the domain \( \BbbZ \) of integers, there are two units, \( 1 \) and \( -1 \). It is convenient to choose the positive greatest common divisor.

    \item In a polynomial ring over the integers \( \BbbZ \), by \fullref{thm:def:polynomial_algebra/units}, the units are again \( 1 \) and \( -1 \), and we can choose the leading coefficient to be positive.

    \item If \( \BbbK \) is any \hyperref[def:field]{field}, any polynomial is associated with a unique \hyperref[def:monic_polynomial]{monic polynomial}.
  \end{itemize}
\end{remark}

\paragraph{Common divisors and multiples}

\begin{example}\label{ex:common_polynomial_divisors}\mcite{MathSE:polynomials_without_gcd}
  Consider two polynomials \( p(X) \) and \( q(X) \) over some domain that we wish to find the common roots of.

  The element \( u \) is a common root if and only if the polynomial \( (X - u) \) divides both \( p(X) \) and \( q(X) \). Thus, if \( r(X) \) is a common divisor of \( p(X) \) and \( q(X) \), every root of \( r(X) \) is a common root for \( p(X) \) and \( q(X) \).

  Let \( C \) be the set of all common divisors of \( p(X) \) and \( q(X) \). Every unit of the domain is itself a common divisor, so \( R \) is necessarily nonempty. Consider the \hyperref[thm:semiring_divisibility_order]{divisibility (pre)order} in \( C \). A \hyperref[def:extremal_points/maximum_and_minimum]{maximum} with respect to divisibility must contain all common roots of \( p(X) \) and \( q(X) \), and thus it makes sense to search for greatest common divisors.

  \begin{thmenum}
    \thmitem{ex:common_polynomial_divisors/field} If \( p(X) \) and \( q(X) \) are polynomials over a \hyperref[def:field]{field} like \( \BbbR \), \fullref{alg:euclidean_algorithm} explicitly constructs a greatest common divisor.

    \thmitem{ex:common_polynomial_divisors/ufd} More generally, polynomials over \hyperref[def:unique_factorization_domain]{unique factorization domains} always have a greatest common divisor, but the aforementioned algorithm may fail.

    \thmitem{ex:common_polynomial_divisors/distinct} As a simple concrete example, consider the polynomials \( X^5 \) and \( X^6 \) over any ring. Clearly \( X^5 \) is a common divisor and, furthermore, any polynomial dividing both \( X^5 \) and \( X^6 \) vacuously divides \( X^5 \).

    Thus, \( X^5 \) is a greatest common divisor of \( X^5 \) and \( X^6 \), but it is not unique - for any invertible ring element \( a \), the polynomial \( a X^5 \) is also a greatest common divisor.

    This general problem comes from the lack of antisymmetry in preorders --- see \fullref{ex:preorder_nonuniqueness}.

    \thmitem{ex:common_polynomial_divisors/incomparable} Consider the polynomial algebra \( \BbbZ[X^2, X^3] \) ordered by divisibility. Generally there may be distinct maximal elements on a preordered set. Based on our discussion in \fullref{ex:adjoining_polynomial}, we conclude that these polynomials have the form
    \begin{equation*}
      \sum_{k \neq 1} a_k X^k.
    \end{equation*}

    Because the ring features no monomial \( X \), the monomial \( X^2 \) does not divide \( X^3 \). This has some interesting consequences.

    Consider the polynomials \( X^5 \) and \( X^6 \) in this domain.

    \Fullref{thm:def:integral_domain/polynomial_divides} implies that \( p(X) \) divides \( X^6 \) if and only if \( p(X) = aX^s \) for some invertible \( a \) and \( s \leq 6 \). The quotient of \( X^6 \) by \( p(X) \) is \( a^{-1} X^{6-s} \). Furthermore, neither \( s \) nor \( 6 - s \) must be \( 1 \), thus \( s \) must be among \( 0 \), \( 2 \), \( 3 \), \( 4 \) and \( 6 \).

    Similarly, we can conclude that \( p(X) = aX^s \) divides \( X^5 \) if and only if \( s \) is among \( 0 \), \( 2 \), \( 3 \) and \( 5 \).

    Hence, \( p(X) \) is a common divisor of \( X^5 \) and \( X^6 \) if and only if \( s \) is among \( 0 \), \( 2 \) and \( 3 \).

    \begin{figure}[!ht]
      \centering
      \includegraphics[page=1]{output/ex__common_polynomial_divisors__incomparable}
      \caption{A fragment of the \hyperref[def:hasse_diagram]{Hasse diagram} of the divisibility relation in \( \BbbZ[X^2, X^3] \).}
      \label{fig:ex:common_polynomial_divisors/incomparable}
    \end{figure}

    Thus, up to a choice of unit \( a \), the common divisors of \( X^5 \) and \( X^6 \) are \( a \) itself, \( aX^2 \) and \( aX^3 \). But \( aX^2 \) and \( aX^3 \) are not comparable because neither divides the other in \( \BbbZ[X^2, X^3] \).

    Therefore, the monomials \( X^5 \) and \( X^6 \) have two monic maximal divisors but no greatest common divisor in \( \BbbZ[X^2, X^3] \).
  \end{thmenum}
\end{example}

\begin{definition}\label{def:gcd}
  We say that, in a \hyperref[def:integral_domain]{integral domain}, \( g \) is a \term[bg=най-голям общ делител (\cite[def. II.2]{ГеновМиховскиМоллов1991}), ru=наибольший общий делитель (\cite[def. 3.5.3]{Винберг2014})]{greatest common divisor} of \( x \) and \( y \) if it satisfies the following equivalent conditions:

  \begin{thmenum}
    \thmitem{def:gcd/direct}\mcite[2]{Knapp2016BasicAlgebra} \( g \) divides both \( x \) and \( y \) and, whenever \( d \) is also a common divisor, \( d \) divides \( g \).

    \thmitem{def:gcd/infimum} \( g \) is an \hyperref[def:extremal_points/supremum_and_infimum]{infimum} of \( x \) and \( y \) with respect to the \hyperref[thm:semiring_divisibility_order]{divisibility order}.

    \thmitem{def:gcd/ideals}\mcite[def. V.2.2]{Aluffi2009} The ideal \( \braket{ g } \) is the smallest principal ideal that contains the join \( \braket{ x } + \braket{ y } = \braket{ x, y } \) of \( \braket{ x } \) and \( \braket{ y } \).

    If \( \braket{ x, y } \) is itself a principal ideal (e.g. in a \hyperref[def:unique_factorization_domain]{unique factorization domain}), then it must coincide with \( \braket{ g } \).
  \end{thmenum}
\end{definition}
\begin{comments}
  \item There may be distinct greatest common divisors that divide each other --- see \fullref{ex:common_polynomial_divisors/distinct} for a simple example or \fullref{ex:preorder_nonuniqueness} for a discussion of this problem for general preordered sets. If the GCD is unique, as is the case for natural numbers, we can denote it via \( \gcd(a, b) \).

  \item Some authors like \incite[111]{Lang2002}, \incite[3]{Gallian2021} and \incite[2]{Knapp2016BasicAlgebra} leave greatest common divisors of \( 0 \) and \( 0 \) undefined, while others like \incite[def. V.2.2]{Aluffi2009} and \incite[119]{Винберг2014} and \incite[143]{ГеновМиховскиМоллов1991} do not handle them as a special case.
\end{comments}
\begin{defproof}
  \ImplicationSubProof{def:gcd/direct}{def:gcd/infimum} Suppose that \( g \) is a common divisor of \( x \) and \( y \) and any other common divisor divides \( g \).

  Then \( g \) is a lower bound of \( x \) and \( y \) with respect to divisibility. Furthermore, if \( d \) is a common divisor, then \( d \) divides \( g \), and thus is smaller than \( g \) with respect to divisibility.

  Therefore, \( g \) is a greatest lower bound of \( x \) and \( y \).

  \ImplicationSubProof{def:gcd/infimum}{def:gcd/ideals} Suppose that \( g \) is an infimum of \( x \) and \( y \) with respect to divisibility.

  Since \( g \) divides both \( x \) and \( y \), any linear combination \( \alpha x + \beta y \) from \( \braket{ x, y } \) is a multiple of \( g \):
  \begin{equation*}
    \alpha x + \beta y
    =
    g \parens*{ \alpha \frac x g + \beta \frac y g }.
  \end{equation*}

  Hence, \( \braket{ x, y } \subseteq \braket{ g } \).

  Now let \( d \) be such that
  \begin{equation*}
    \braket{ x, y } \subseteq \braket{ d } \subseteq \braket{ g }.
  \end{equation*}

  Since \( g \) a greatest lower bound of \( x \) and \( y \) and since \( d \) divides \( g \), it follows that \( g \) divides \( d \) and thus \( \braket{ d } = \braket{ g } \).

  Therefore, \( \braket{ g } \) is the smallest principal ideal containing \( \braket{ x, y } \).

  \ImplicationSubProof{def:gcd/ideals}{def:gcd/direct} Suppose that \( \braket{ g } \) is the smallest principal ideal containing \( \braket{ x, y } \).

  Then \( \braket{ x } \subseteq \braket{ g } \) and thus \( g \mid x \), and similarly \( g \mid y \). It is thus a common divisor for \( x \) and \( y \).

  Furthermore, if \( d \) is also a common divisor, then, by the proof of the previous implication, \( \braket{ x, y } \subseteq \braket{ d } \). The minimality of \( \braket{ g } \) then ensures that \( \braket{ g } \subseteq \braket{ d } \) and, by \fullref{thm:def:semiring_ideal/division}, \( d \mid g \).
\end{defproof}

\begin{proposition}\label{thm:gcd_associates}
  Suppose that \( g \) is a \hyperref[def:gcd]{greatest common divisors} of \( x \) and \( y \).

  An element \( g' \) is also a greatest common divisor if and only if \( g \) and \( g' \) are \hyperref[def:domain_divisibility/associates]{associates}.
\end{proposition}
\begin{proof}
  The element \( g' \) satisfies \fullref{def:gcd/ideals} if and only if it has the same principal ideal as \( g \).
\end{proof}

\begin{proposition}\label{thm:bezouts_identity_converse}
  If \( d \) is a common divisor for \( x \) and \( y \), and if there exist elements \( a \) and \( b \) such that \( ax + by = d \), then \( d \) is a \hyperref[def:gcd]{greatest common divisor} of \( x \) and \( y \).
\end{proposition}
\begin{comments}
  \item The premise always holds in \hyperref[def:bezout_domain]{Bezout domains}.
\end{comments}
\begin{proof}
  Let \( e \) be a common divisor of \( x \) and \( y \). Then \( e \) divides both \( ax \) and \( by \), hence also \( ax + by = d \). Therefore, \( e \) divides \( d \), implying that \( d \) is the greatest common divisor of \( x \) and \( y \).
\end{proof}

\begin{definition}\label{def:lcm}
  \hyperref[def:semilattice/duality]{Dually} to \fullref{def:gcd}, we say that, in a \hyperref[def:integral_domain]{integral domain}, \( l \) is a \term[bg=най-малко общо кратно (\cite[381]{ГеновМиховскиМоллов1991}), ru=наименьшее общее кратное (\cite[exer. 3.6.3]{Винберг2014})]{least common multiple} (LCM) of \( x \) and \( y \) if it satisfies the following equivalent conditions:

  \begin{thmenum}
    \thmitem{def:lcm/direct}\mcite[32]{Knapp2016BasicAlgebra} Both \( x \) and \( y \) divide \( l \) and, whenever \( m \) is also a common multiple, \( l \) divides \( m \).

    \thmitem{def:lcm/supremum} \( l \) is an \hyperref[def:extremal_points/supremum_and_infimum]{supremum} of \( x \) and \( y \) with respect to the \hyperref[thm:semiring_divisibility_order]{divisibility order}.

    \thmitem{def:lcm/ideals} The ideal \( \braket{ l } \) is the largest principal ideal contained in the meet \( \braket{ x } \cap \braket{ y } \) of \( \braket{ x } \) and \( \braket{ y } \).

    If \( \braket{ x } \cap \braket{ y } \) is itself a principal ideal (e.g. in a \hyperref[def:principal_ideal_domain]{principal ideal domain}), then it must coincide with \( \braket{ l } \).
  \end{thmenum}
\end{definition}
\begin{comments}
  \item A result similar to \fullref{thm:gcd_associates} holds -- every pair of least common multiples are associates.
\end{comments}

\begin{proposition}\label{thm:gcd_and_lcm}
  If \( g \) is a \hyperref[def:gcd]{greatest common divisor} of \( x \) and \( y \) and \( l \) is a \hyperref[def:lcm]{least common multiple}, then \( xy \) and \( gl \) are \hyperref[def:domain_divisibility/associates]{associates}.
\end{proposition}

\begin{remark}\label{rem:gcd_but_no_lcm}
  From \fullref{thm:gcd_and_lcm} it may seem that we are always able to recover a GCD from a LCM, and it is indeed so, but the existence of a LCM does not necessarily follow from the existence of a GCD. The precise existence conditions are described in \fullref{thm:gcd_and_lcm_existence}.

  \incite[thm. 4]{Khurana2003} provides counterexamples --- in \( \BbbZ[\sqrt{-3}] \), the elements \( x = 2 \) and \( y = 1 + \sqrt{-3} \) have a GCD, but not a LCM.

  Fortunately, if \hi{every} pair of elements has a GCD, then every pair also has a LCM.
\end{remark}

\begin{lemma}\label{thm:gcd_of_multiple}\mcite[lemma 1]{Khurana2003}
  Let \( x \), \( y \) and \( r \) be nonzero elements of some integral domain. If \( g \) is a \hyperref[def:gcd]{greatest common divisor} for \( rx \) and \( ry \), then \( r \) divides \( g \) and their \hyperref[def:domain_quotient]{quotient} is a greatest common divisor of \( x \) and \( y \).
\end{lemma}
\begin{proof}
  Since \( r \) is a common divisor of \( rx \) and \( ry \), it follows that \( r \) divides \( g \). Thus, \( g = r \cdot g / r \) divides both \( rx \) and \( ry \). We can cancel \( r \) to obtain that \( g / r \) divides both \( x \) and \( y \).

  Furthermore, if \( d \) is also a common divisor for \( x \) and \( y \), then \( rd \) divides both \( rx \) and \( ry \) and hence also \( g \). Again, cancelling \( r \), we obtain that \( d \) divides \( g / r \).
\end{proof}

\begin{proposition}\label{thm:gcd_and_lcm_existence}\mcite[thm. 2]{Khurana2003}
  For an arbitrary \hyperref[def:integral_domain]{integral domain}, two elements \( x \) and \( y \) have a \hyperref[def:lcm]{least common multiple} if and only if, for every nonzero \( r \), the elements \( rx \) and \( ry \) have a \hyperref[def:gcd]{greatest common divisor}.
\end{proposition}
\begin{proof}
  \SufficiencySubProof

  \SubProof*{Proof that \( x \) and \( y \) have a GCD} Suppose that \( l \) is a LCM of \( x \) and \( y \). Since \( xy \) is also a common multiple, \( l \) divides \( xy \). Let \( g \) be the \hyperref[def:domain_quotient]{quotient} of \( xy \) by \( l \).

  Then
  \begin{equation*}
    xy = gl = g \parens*{ \frac l y \cdot y}
  \end{equation*}
  and we can cancel \( y \) to obtain
  \begin{equation*}
    x = g \frac l y.
  \end{equation*}

  Thus, \( g \) is a divisor of \( x \), and we can similarly conclude that it is a divisor of \( y \). We will show that it is a greatest common divisor.

  For any common divisor \( d \), we have
  \begin{equation*}
    d \cdot \frac x d \cdot y
    =
    xy
    =
    d \cdot \frac {xy} d.
  \end{equation*}

  We can cancel \( d \) to obtain
  \begin{equation*}
    \frac x d \cdot y = \frac {xy} d.
  \end{equation*}

  Thus, \( y \) divides \( xy / d \), and we can similarly conclude that \( x \) divides \( xy / d \). Then it is a common multiple, hence \( l \) must divide it. Thus,
  \begin{equation*}
    gl = xy = \frac {xy} d \cdot d = \frac {xy / d} l \cdot l \cdot d.
  \end{equation*}

  We can cancel \( l \) to obtain
  \begin{equation*}
    g = \frac {xy / d} l \cdot d.
  \end{equation*}

  We have obtained that \( d \) divides \( g \), which makes \( g \) a greatest common divisor of \( x \) and \( y \).

  \SubProof*{Proof that \( rx \) and \( ry \) have a GCD} Since \( l \) is a LCM of \( x \) and \( y \), it is natural to suppose that \( rl \) will be an LCM of \( rx \) and \( ry \).

  It is clearly a common multiple. Furthermore, if \( m \) is also a common multiple, \( m / r \) is a common multiple for \( x \) and \( y \) and thus \( l \) divides \( m / r \). Hence, \( rl \) divides \( m / r \), making \( rl \) a least common multiple of \( rx \) and \( ry \).

  Therefore, by what we have already shown, the following is a GCD for \( rx \) and \( ry \):
  \begin{equation*}
    \frac {r^2 xy} {rl} = \frac {rxy} l.
  \end{equation*}

  \NecessitySubProof Suppose that \( rx \) and \( ry \) have a GCD for every nonzero \( r \) and let \( g \) be a GCD for \( x \) and \( y \) themselves.

  Define
  \begin{equation*}
    l \coloneqq g \cdot \frac x g \cdot \frac y g = x \cdot \frac y g = \frac x g \cdot y.
  \end{equation*}

  Thus, \( l \) is a common multiple for \( x \) and for \( y \). Let \( m \) also be a common multiple of \( x \) and \( y \). We will show that \( l \) divides \( m \).

  Let \( g' \) a greatest common divisor for \( mx \) and \( my \). The product \( xy \) is also a common divisor for \( mx \) and \( my \), hence \( xy \) divides \( g' \).

  \Fullref{thm:gcd_of_multiple} implies that \( g' / m \) is a greatest common divisor for \( x \) and \( y \). \Fullref{thm:gcd_associates} implies that \( g \) and \( g' / m \) are associates. Then \( gm \) and \( g' \) are also associates, from which it follows that \( gm \) divides \( xy = gl \). Therefore, \( m \) divides \( l \).

  Generalizing on \( m \), we conclude that \( l \) is a least common multiple.
\end{proof}

\paragraph{Greatest common divisor domains}

\begin{definition}\label{def:gcd_domain}\mcite[32]{Kaplansky1974Rings}
  We say that an \hyperref[def:integral_domain]{integral domain} is a \term{greatest common divisor domain} if any two elements have a \hyperref[def:gcd]{greatest common divisor}.

  \Fullref{thm:gcd_and_lcm_existence} shows that it is equivalent for the \hyperref[def:lcm]{least common multiple} to exist.
\end{definition}

\begin{proposition}\label{thm:def:gcd_domain}
  \hyperref[def:gcd_domain]{Greatest common divisor domains} have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:gcd_domain/polynomial_ring} If the \hyperref[def:polynomial_algebra]{polynomial ring} \( R[X] \) over a commutative ring \( R \) is a GCD domain, then \( R \) also is.

    The converse to this is true, but it is more difficult to prove. See \fullref{thm:polynomial_ring_over_gcd_domain}.

    \thmitem{thm:def:gcd_domain/irreducible_is_prime} Every \hyperref[def:domain_divisibility/irreducible]{irreducible element} in a GCD domain is \hyperref[def:domain_divisibility/prime]{prime}.
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:gcd_domain/polynomial_ring} By \fullref{thm:def:integral_domain/subring}, \( R \) is an integral domain.

  Let \( a(X) \) and \( b(X) \) be embeddings in \( R[X] \) of the elements \( a \) and \( b \) from \( R \) and let \( g(X) \) be their greatest common divisor.

  \begin{itemize}
    \item If \( a(X) \) and \( b(X) \) are zero, so is \( g(X) \).
    \item If both are nonzero, \fullref{thm:def:polynomial_degree/product} implies that \( g(X) \) has degree one.
  \end{itemize}

  In both cases, \( g(X) \) corresponds to a constant in \( R \).

  Generalizing, we conclude that \( R \) is a GCD domain.

  \SubProofOf{thm:def:gcd_domain/irreducible_is_prime} Suppose that \( x \) is an irreducible element and that \( x \) divides \( yz \).

  Let \( g \) be a GCD of \( xz \) and \( yz \). Both \( x \) and \( z \) are also common divisors, hence they divide \( g \). Thus,
  \begin{equation*}
    g = z \cdot \frac g z.
  \end{equation*}

  Then
  \begin{equation*}
    xz = g \cdot \frac {xz} g = z \cdot \frac g z \cdot \frac {xz} g.
  \end{equation*}

  We can cancel \( z \) to obtain
  \begin{equation*}
    x = \frac g z \cdot \frac {xz} g.
  \end{equation*}

  Because \( x \) is irreducible, (at least) one of the multiplicands must be a unit.
  \begin{itemize}
    \item If \( g / z \) is a unit, by \fullref{thm:domain_quotient_inverse}, \( g \) and \( z \) are associated. Since \( x \) divides \( g \), it follows that \( x \) divides \( z \).

    \item If \( xz / g \) is a unit, again by \fullref{thm:domain_quotient_inverse}, \( xz \) divides \( g \), which in turn divides \( yz \). Then
    \begin{equation*}
      yz = xz \cdot \frac {yz} {xz}.
    \end{equation*}

    After cancelling \( z \), we obtain that \( x \) divides \( y \).
  \end{itemize}
\end{proof}

\paragraph{Bezout domains}

\begin{definition}\label{def:bezout_domain}
  We say that an \hyperref[def:integral_domain]{integral domain} is a \term{Bezout domain} if any of the following equivalent conditions hold:
  \begin{thmenum}
    \thmitem{def:bezout_domain/identity} For any two elements \( x \) and \( y \), there exists a \hyperref[def:gcd]{greatest common divisor} \( g \) and elements \( a \) and \( b \) such that
    \begin{equation}\label{eq:def:bezout_domain/identity}
      g = ax + by.
    \end{equation}

    We call \eqref{eq:def:bezout_domain/identity} \term[en=Bezout's identity (\cite[3]{Knapp2016BasicAlgebra})]{Bezout's identity}.

    \thmitem{def:bezout_domain/ideals}\mcite[38]{Kaplansky1974Rings} Every finitely-generated ideal is \hyperref[def:semiring_ideal/principal]{principal}.
  \end{thmenum}
\end{definition}
\begin{comments}
  \item Every though the condition is not explicitly requires for \fullref{def:bezout_domain/ideals} to hold, Bezout domains are, by \fullref{def:bezout_domain/identity}, \hyperref[def:gcd_domain]{GCD domains}.
  \item \Fullref{alg:extended_euclidean_algorithm} gives us an explicit construction for \( a \) and \( b \) in the case of \hyperref[def:euclidean_domain]{Euclidean domains}.
\end{comments}
\begin{defproof}
  \ImplicationSubProof{def:bezout_domain/identity}{def:bezout_domain/ideals} Suppose that \eqref{eq:def:bezout_domain/identity} holds.

  Let \( I = \braket{ x_1, \ldots, x_n } \) be a (finitely-generated) ideal. We will use induction on \( n \) to show that \( I \) is principal.

  The base case \( n = 1 \) is trivial. Suppose that \( \braket{ x_1, \ldots, x_{n-1} } \) is principal with generator \( d \). Then \eqref{eq:def:bezout_domain/identity} gives us a GCD \( g \) of \( d \) and \( x_n \), along with coefficients \( a \) and \( b \) such that
  \begin{equation*}
    g = ad + bx_n.
  \end{equation*}

  Clearly \( g \) is a member of \( I \) because
  \begin{equation*}
    I = \braket{ x_1, \ldots, x_{n-1} } + \braket{ x_n }.
  \end{equation*}

  To see that \( I = \braket{ g } \), consider some member \( y \) of \( I \). It is, by definition, a linear combination
  \begin{equation*}
    y = \alpha d + \beta x_n.
  \end{equation*}

  Then it is a common divisor of \( d \) and \( x_n \), hence it also divides \( g \). Hence, every member of \( I \) belongs to \( \braket{ g } \).

  We conclude that \( I = \braket{ g } \).

  \ImplicationSubProof{def:bezout_domain/ideals}{def:bezout_domain/identity} Suppose that all finitely-generated ideals are principal. Then the join \( \braket{ x, y } =\braket{ x } + \braket{ y } \) of the principal ideals of any two elements \( x \) and \( y \) is principal. Let \( g \) be a generator of \( \braket{ x, y } \). Then, by definition of ideal, there exist some coefficients from the domain such that
  \begin{equation*}
    g = ax + by.
  \end{equation*}

  Furthermore, \( g \) is a greatest common divisor of \( x \) and \( y \) because \( \braket{ g } \) is vacuously the smallest principal ideal containing \( \braket{ x, y } \).

  Then \eqref{eq:def:bezout_domain/identity} holds.
\end{defproof}

\paragraph{Coprime elements}

\begin{definition}\label{def:coprime_elements}\mimprovised
  We say that two nonzero elements of a \hyperref[def:bezout_domain]{Bezout domain} are \term[ru=взаимно простые (\cite[120]{Винберг2014}), en=relatively prime (\cite[113]{Lang2002})]{coprime} if any the following equivalent conditions hold:
  \begin{thmenum}
    \thmitem{def:coprime_elements/divisors} Every common divisor is invertible.
    \thmitem{def:coprime_elements/ideals} Their principal ideals are \hyperref[def:semiring_ideal/coprime]{coprime}.
  \end{thmenum}
\end{definition}
\begin{defproof}
  \ImplicationSubProof{def:coprime_elements/divisors}{def:coprime_elements/ideals} Suppose that every common divisor of \( x \) and \( y \) is invertible (every invertible element is already a common divisor).

  We have \( \braket{ x } + \braket{ y } = \braket{ x, y } = \braket{ g } \), where \( g \) is a GCD. Since \( g \) is invertible, \( \braket{ g } \) is the entire domain. Hence, the ideals \( \braket{ x } \) and \( \braket{ y } \) are coprime.

  \ImplicationSubProof{def:coprime_elements/ideals}{def:coprime_elements/divisors} Suppose that \( \braket{ x } \) and \( \braket{ y } \) are coprime ideals. Let \( d \) be a common divisor of \( x \) and \( y \). Then
  \begin{equation*}
    \braket{ x, y } \subseteq \braket{ d }.
  \end{equation*}

  But \( \braket{ x, y } \) is the entire domain, hence \( \braket{ d } \) also is. It is thus a unit as a consequence of \fullref{thm:def:semiring_ideal/ideal_containing_unit}.
\end{defproof}

\begin{proposition}\label{thm:def:coprime_elements}
  \hyperref[def:coprime_elements]{Coprime elements} have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:coprime_elements/divisors} If \( x \) and \( y \) are coprime, then \( x \) is coprime to any divisor of \( y \).

    \thmitem{thm:def:coprime_elements/gcd_quotients} If \( g \) is a GCD of \( x \) and \( y \), then \( x / g \) is coprime to \( y / g \).

    \thmitem{thm:def:coprime_elements/lowest_terms} Let \( \BbbK \) be the \hyperref[thm:field_of_fractions]{field of fractions} of the Bezout domain \( D \). For any element \( a / b \) of \( \BbbK \), there exists a pair \( (c, d) \) of \hyperref[def:coprime_elements]{coprime} elements of \( D \) such that \( a / b = c / d \).

    We say that \( c / d \) is given \enquote{in lowest terms}
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:coprime_elements/divisors} Suppose that \( x \) and \( y \) are coprime and let \( z \) be a divisor of \( y \).

  If \( d \) is a common divisor of \( x \) and \( z \), then \( d \) is also a common divisor of \( x \) and \( y \), and so it follows that \( d \) is invertible. So, all common divisors of \( x \) and \( z \) are invertible, and hence, they are coprime.

  Generalizing on \( z \), we conclude that \( x \) is coprime to any divisor of \( y \).

  \SubProofOf{thm:def:coprime_elements/gcd_quotients} Let \( g \) be a GCD of \( x \) and \( y \).

  Let \( d \) be a common divisor of \( x / g \) and \( y / g \). Then
  \begin{equation*}
    x = g \cdot \frac x g = g \cdot d \cdot \frac {x / g} d
  \end{equation*}
  and
  \begin{equation*}
    y = g \cdot \frac y g = g \cdot d \cdot \frac {y / g} d.
  \end{equation*}

  Hence, \( gd \) is a common divisor of \( x \) and \( y \), and thus \( gd \) must divide \( g \). We have
  \begin{equation*}
    g = gd \cdot \frac g {gd}.
  \end{equation*}

  By cancelling \( g \), we obtain
  \begin{equation*}
    1 = d \cdot \frac g {gd}.
  \end{equation*}

  Therefore, \( d \) is invertible.

  Generalizing on \( d \), we conclude that \( x / g \) and \( y / g \) are coprime because all their common divisors are invertible.

  \SubProofOf{thm:def:coprime_elements/lowest_terms} Let \( a \) and \( b \) be elements of \( D \). We want to find coprime elements \( c \) and \( d \) such that \( a / b = c / d \). By definition of localization, this holds if, for some \( u \), we have \( adu = bcu \). Since we are working in an integral domain and multiplication is cancellative, the condition reduces to \( ad = bc \).

  Let \( g \) be a GCD of \( a \) and \( b \). \Fullref{thm:def:coprime_elements/gcd_quotients} implies that \( a / g \) and \( b / g \) are coprime. Furthermore,
  \begin{equation*}
    a \cdot \frac b g = b \cdot \frac a g,
  \end{equation*}
  hence \( c = a / g \) and \( d = b / g \) are the desired coprime elements.
\end{proof}

\paragraph{Irreducible factorizations}

\begin{definition}\label{def:irreducible_factorization}\mimprovised
  An \term{irreducible factorization} or simply \term{factorization} of a nonzero element \( x \) in an arbitrary \hyperref[def:integral_domain]{integral domain} is a finite sequence \( p_1, \ldots, p_n \) of \hyperref[def:domain_divisibility/irreducible]{irreducible elements} such that, for some \hyperref[def:divisibility/unit]{unit} \( u \),
  \begin{equation*}
    x = u p_1 \cdots p_n.
  \end{equation*}

  The unit \( u \) is uniquely determined by the irreducible factors. If \( x \) is itself a unit, then it is its own factorization.

  \begin{thmenum}
    \thmitem{def:irreducible_factorization/equivalent} We say that two factorizations
    \begin{equation*}
      x = u p_1 \cdots p_n = v q_1 \cdots q_m
    \end{equation*}
    are equivalent if \( n = m \) and if there exists a \hyperref[def:symmetric_group]{permutation} \( \pi \in S_n \) such that \( p_k \) and \( q_{\pi(k)} \) are \hyperref[def:domain_divisibility/associates]{associated} for every \( k = 1, \ldots, n \).

    \thmitem{def:irreducible_factorization/unique} Finally, if any two factorizations of \( x \) are unique, we say that \( x \) \term{factors uniquely} into a product of irreducible factors.
  \end{thmenum}
\end{definition}

\begin{example}\label{ex:def:irreducible_factorization}
  We list some examples of \hyperref[def:irreducible_factorization]{irreducible factorization}:
  \begin{thmenum}
    \thmitem{ex:def:irreducible_factorization/integers} By \fullref{thm:fundamental_theorem_of_arithmetic}, every integer has a unique factorization.

    \thmitem{ex:def:irreducible_factorization/nonunique} Consider the ring \( \BbbZ[\sqrt{-5}] \) from \fullref{ex:def:domain_divisibility/irreducible_not_prime}. We have obtained there two distinct irreducible factorizations:
    \begin{equation*}
      6 = 2 \cdot 3 = \parens[\Big]{ 1 + \sqrt{-5} } \cdot \parens[\Big]{ 1 - \sqrt{-5}}
    \end{equation*}
  \end{thmenum}
\end{example}

\begin{proposition}\label{thm:def:irreducible_factorization}
  \hyperref[def:irreducible_factorization]{Irreducible factorizations} in integral domains have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:irreducible_factorization/existence} If every ascending chain of \hi{principal} ideals \hyperref[def:stabilizing_chain]{stabilizes}, then every element has at least one irreducible \hi{factorization}.

    \thmitem{thm:def:irreducible_factorization/uniqueness} If every \hyperref[def:domain_divisibility/irreducible]{irreducible element} is \hyperref[def:domain_divisibility/prime]{prime}, then all factorizations of an element are \hyperref[def:irreducible_factorization/equivalent]{equivalent}\footnote{But there may be elements with no factorization.}.

    \thmitem{thm:def:irreducible_factorization/polynomial_ring} For any domain \( D \), \( x = u p_1 \cdots p_n \) is an irreducible factorization in \( D \) if and only if it is an irreducible factorization of \( x \) in \( D[X] \).
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:irreducible_factorization/existence} Suppose that every ascending chain of principal ideals stabilizes. We will show that every element has an irreducible factorization, but first we will need an auxiliary result.

  \SubProof*{Every non-unit element has at least one irreducible \hi{factor}} Fix some element \( x \). Let \( x_1 \coloneqq x \). Via recursion on \( k = 1, 2, \ldots \), define a sequence as follows:
  \begin{itemize}
    \item If all divisors of \( x_k \) are invertible, then \( x_k \) is irreducible. Let \( x_{k+1} \coloneqq x_k \).
    \item Otherwise, let \( d \) be a non-invertible divisor of \( x_k \), define \( x_{k+1} \) to be the \hyperref[def:domain_quotient]{quotient} \( x_k / d \).
  \end{itemize}

  The corresponding chain of principal ideals
  \begin{equation*}
    \braket{ x_1 } \subseteq \braket{ x_2 } \subseteq \braket{ x_3 } \subseteq \cdots
  \end{equation*}
  must stabilize at some index \( n \). Then, by construction, \( x_n \) must be irreducible.

  \SubProof*{Every element has at least one irreducible \hi{factorization}} Fix again some element \( x \) and define \( x_1 \coloneqq x \). Via recursion on \( k = 1, 2, \ldots \), define the following sequence:
  \begin{itemize}
    \item If \( x_k \) is either a unit or is irreducible, let \( x_{k+1} \coloneqq x_k \).
    \item Otherwise, let \( p \) be an irreducible divisor of \( x_k \) and define \( x_{k+1} \) to be \( x_k / p \).
  \end{itemize}

  Similarly, the corresponding chain of principal ideals must stabilize at some index \( n \).

  Define \( p_k \coloneqq x_{k+1} / x_k \) for every \( k \). If \( n > 1 \), then the elements \( p_1, \ldots, p_{n-1} \) must be irreducible. By construction, \( x_n \) is either a unit or is itself irreducible.
  \begin{itemize}
    \item If \( x_n \) is a unit, let \( u \coloneqq x_n \). Then \( x = u p_1 \cdots p_{n-1} \) is an irreducible factorization of \( x \).
    \item If \( x_n = p_n \) is irreducible, then \( x = p_1 \cdots p_n \) is an irreducible factorization of \( x \).
  \end{itemize}

  \SubProofOf{thm:def:irreducible_factorization/uniqueness} Suppose that every irreducible element is prime.

  Fix an element \( x \). If it has no irreducible factorization, then all its irreducible factorizations are vacuously equivalent. Otherwise, suppose that \( x \) has a factorization of length \( n \). We will prove by induction on \( n \) that any other factorization is equivalent.

  If \( n = 0 \), then \( x = u \) is a unit, and hence it has no irreducible divisors, that is, all factorizations have length \( 0 \).

  Otherwise, suppose that factorizations of length \( n - 1 \) are unique and that we are given the factorizations
  \begin{equation}\label{eq:def:irreducible_factorization/uniqueness/proof/assumption}
    x = u p_1 \cdots p_n = v q_1 \cdots q_m.
  \end{equation}

  Since \( p_n \) is prime, there exists an index \( k_0 \) among \( 1, \ldots, m \) such that \( p_n \) divides \( q_{k_0} \). Both are irreducible, thus, \( p_n = w q_k \) for some unit \( w \). We can cancel \( p_1 \) to obtain
  \begin{equation*}
    u p_1 \cdots p_{n-1} = (vw) q_1 \cdots q_{k_0-1} q_{k_0+1} \cdots q_m.
  \end{equation*}

  By the inductive hypothesis, this factorization is unique. Hence, \( n = m \), and there exists a permutation \( \pi \in S_{n-1} \) such that \( p_k = q_{\pi(k)} \) for \( k = 1, \ldots, n - 1 \). Then
  \begin{equation*}
    \widehat{\pi}(k) \coloneqq \begin{cases}
      k_0,    & k = 1 \\
      \pi(i), & k > 1
    \end{cases}
  \end{equation*}
  is a permutation witnessing the equivalence of the factorizations in \eqref{eq:def:irreducible_factorization/uniqueness/proof/assumption}.

  \SubProofOf{thm:def:irreducible_factorization/polynomial_ring}

  \SufficiencySubProof* Suppose that
  \begin{equation}\label{eq:thm:def:irreducible_factorization/polynomial_ring/sufficiency_assumption}
    x = u(X) p_1(X) \cdots p_n(X)
  \end{equation}
  be an irreducible factorization of \( x \in D \) in \( D[X] \). By \fullref{thm:def:polynomial_degree/product}, all polynomials in this factorization are constants. By \fullref{thm:def:domain_divisibility/irreducible_in_polynomial_ring}, since they are irreducible in \( D[X] \), they are also irreducible in \( D \).

  Therefore, \eqref{eq:thm:def:irreducible_factorization/polynomial_ring/sufficiency_assumption} is an irreducible factorization of \( x \) in \( D \).

  \NecessitySubProof* Due to \fullref{thm:def:polynomial_algebra/units} and \fullref{thm:def:domain_divisibility/irreducible_in_polynomial_ring}, irreducible elements and units in \( D \) are also irreducibles and units in \( D[X] \). Hence, every irreducible factorization in \( D \) is also an irreducible factorization in \( D[X] \).
\end{proof}

\paragraph{Unique factorization domains}

\begin{definition}\label{def:unique_factorization_domain}
  We say that an \hyperref[def:integral_domain]{integral domain} is a \term[ru=факториальное кольцо (\cite[def. 9.7.1]{Винберг2014})]{unique factorization domain} if any of the following equivalent conditions hold:
  \begin{thmenum}
    \thmitem{def:unique_factorization_domain/factorization} Every element \hyperref[def:irreducible_factorization]{factors uniquely} into a product of irreducible elements.

    \thmitem{def:unique_factorization_domain/primes_and_ideals} Every ascending chain of principal ideals stabilizes and every irreducible element is prime.
  \end{thmenum}
\end{definition}
\begin{defproof}
  \ImplicationSubProof{def:unique_factorization_domain/factorization}{def:unique_factorization_domain/primes_and_ideals}

  \SubProof*{Proof that irreducibles are prime} holds, hence we only need to prove that an irreducible element is prime.

  Let \( x \) be an irreducible element. Suppose that \( x \mid yz \), so that there exists some element \( a \) satisfying \( ax = yz \).
  Let \( y = u p_1 \cdots p_n \) and \( z = v q_1 \cdots q_m \) be irreducible factorizations. Then
  \begin{equation*}
    ax = (uv) p_1 \cdots p_n q_1 \cdots q_m.
  \end{equation*}

  The factorizations are equivalent, hence \( x \) must divide one of the other irreducible elements. If \( x \mid p_k \) for some \( k = 1, \ldots, n \), then \( x \mid y \). If \( x \mid q_k \) for some \( k = 1, \ldots, m \), then \( x \mid z \).

  \SubProof*{Proof of ascending chain condition} Suppose that every element has a unique factorization.

  Fix an ascending sequence of principal ideals
  \begin{equation*}
    \braket{ x_1 } \subseteq \braket{ x_2 } \subseteq \braket{ x_3 } \cdots.
  \end{equation*}

  By \fullref{thm:def:semiring_ideal/division}, this implies that \( x_{k+1} \) divides \( x_k \) for \( k = 1, 2, \ldots \).

  Let \( x_1 = y x_2 \) and fix \hyperref[def:irreducible_factorization]{irreducible factorizations}
  \begin{align*}
    x_1 &= u p_1 \cdots p_n \\
    x_2 &= v q_1 \cdots q_m \\
    y   &= w r_1 \cdots r_k.
  \end{align*}

  Since the factorizations are unique, we have \( n = m + k \). If \( k = 0 \), then \( x_1 \) and \( x_2 \) are associated and \( \braket{ x_1 } = \braket{ x_2 } \). If \( k > 0 \), then \( \braket{ x_1 } \subsetneq \braket{ x_2 } \), and \( x_2 \) has a strictly shorter irreducible factorization.

  Proceeding by induction on the length of the factorization, we conclude that there are at most \( n \) strict inclusions in the sequence of ideals.

  \ImplicationSubProof{def:unique_factorization_domain/primes_and_ideals}{def:unique_factorization_domain/factorization} Follows from \fullref{thm:def:irreducible_factorization/existence} and \fullref{thm:def:irreducible_factorization/uniqueness}.
\end{defproof}

\begin{proposition}\label{thm:def:unique_factorization_domain}
  \hyperref[def:unique_factorization_domain]{Unique factorization domains} have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:unique_factorization_domain/polynomial_ring} If the \hyperref[def:polynomial_algebra]{polynomial ring} \( R[X] \) over a commutative ring \( R \) is a unique factorization domain, then \( R \) also is.

    The converse to this is true, but it is more difficult to prove. See \fullref{thm:polynomial_ring_over_ufd}.

    \thmitem{thm:def:unique_factorization_domain/gcd} Every unique factorization domain is a \hyperref[def:gcd_domain]{GCD domain}.
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:unique_factorization_domain/polynomial_ring} Suppose that \( D[X] \) is a unique factorization. By \fullref{thm:def:irreducible_factorization/polynomial_ring}, every irreducible factorization of \( x \in D \) in \( D[X] \) is also an irreducible factorization in \( D[X] \). This implies both existence and uniqueness.

  \SubProofOf{thm:def:unique_factorization_domain/gcd} Fix arbitrary elements \( x \) and \( y \). We will show that they have a greatest common divisor.

  Suppose that we have the decompositions
  \begin{align*}
    x &= u p_1 \cdots p_n \\
    y &= v q_1 \cdots q_m.
  \end{align*}

  Otherwise, let \( r_1, \ldots, r_k \) be a well-ordering on the set \( \set{ p_1, \ldots, p_n, q_1, \ldots, q_m } \). For every \( i = 1, \ldots, k \), let \( s_i \) be the minimum of the number of elements from \( p_1, \ldots, p_n \) associated with \( r_i \) and the number of elements of \( q_1, \ldots, q_m \) associated with \( r_i \). Finally, define
  \begin{equation*}
    r \coloneqq r_1^{s_1} \cdots r_k^{s_k}.
  \end{equation*}

  We can use nested induction on \( k \) and \( s_k \) to show that \( r \) is, up to a unit, the greatest common divisor of \( x \) and \( y \). Indeed, \( k = 0 \) implies that \( x \) and \( y \) have no common divisors. For the inductive step, note that dividing both \( x \) and \( y \) by \( r_k^{s_k} \) allows us to use the inductive hypothesis with \( r_1^{s_1} \cdots r_{k-1}^{s_{k-1}} \), and that multiplying back by \( r_k^{s_k} \) makes \( r \) the GCD of \( x \) and \( y \).
\end{proof}

\begin{definition}\label{def:principal_ideal_domain}
  We say that an \hyperref[def:integral_domain]{integral domain} is a \term{principal ideal domain} if every \hyperref[def:semiring_ideal]{ideal} is \hyperref[def:semiring_ideal/principal]{principal}.
\end{definition}

\begin{proposition}\label{thm:def:principal_ideal_domain}
  \hyperref[def:principal_ideal_domain]{Principal ideal domains} have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:principal_ideal_domain/noetherian} Every principal ideal domain is \hyperref[def:noetherian_semiring]{noetherian}.

    \thmitem{thm:def:principal_ideal_domain/ufd} Every principal ideal domain is a \hyperref[def:unique_factorization_domain]{unique factorization domain}.

    \Fullref{ex:ufd_but_not_pid} demonstrates that the converse is not true.

    \thmitem{thm:def:principal_ideal_domain/prime_ideal_is_maximal} \hyperref[def:semiring_ideal/prime]{Prime ideals} in a principal ideal domains are \hyperref[def:semiring_ideal/maximal]{maximal}.

    \thmitem{thm:def:principal_ideal_domain/gcd} For the \hyperref[def:gcd]{greatest common divisor}, we have
    \begin{equation*}
      \braket{ \gcd(x, y) } = \braket{ x } + \braket{ y } = \braket{ x, y }
    \end{equation*}
    and for the \hyperref[def:lcm]{least common multiple},
    \begin{equation*}
      \braket{ \lcm(x, y) } = \braket{ x } \cap \braket{ y }.
    \end{equation*}
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:principal_ideal_domain/noetherian} In a principal ideal domain every ideal is generated by a single element, hence the domain satisfies \fullref{def:noetherian_semiring/generated}. Thus, it is noetherian.

  \SubProofOf{thm:def:principal_ideal_domain/ufd} Suppose that \( x \) is an irreducible element of a principal ideal domain. Then \( x \) satisfies \fullref{def:domain_divisibility/irreducible/ideals}, and hence \( \braket{ x } \) is a maximal ideal. By \fullref{thm:def:semiring_ideal/maximal_is_prime}, maximal ideals are prime, and hence \( x \) is a prime element.

  Therefore, every irreducible element is prime. Combined with \fullref{thm:def:principal_ideal_domain/noetherian}, this implies that the domain satisfies \fullref{def:unique_factorization_domain/primes_and_ideals}, and is hence a unique factorization domain.

  \SubProofOf{thm:def:principal_ideal_domain/prime_ideal_is_maximal} Let \( P \) be a prime ideal in a principal ideal domain. Then \( P = \braket{ p } \) for some prime element \( p \). By \fullref{thm:def:domain_divisibility/prime_is_irreducible}, \( p \) is irreducible, and hence \( \braket{ p } \) is a maximal ideal.

  \SubProofOf{thm:def:principal_ideal_domain/gcd} Follows from \fullref{thm:semiring_of_ideals/lattice} by nothing that every ideal is principal.
\end{proof}

\begin{corollary}\label{thm:multiplicative_group_of_integers_modulo}
  The \hyperref[def:semiring]{multiplicative group} \( \BbbZ_n^\times \) of the ring \hyperref[def:ring_of_integers_modulo]{\( \BbbZ_n \)} of integers modulo \( n > 1 \) is the set of all positive integers \hyperref[def:coprime_elements]{coprime} to \( n \).

  In particular, \( \BbbZ_p \) is a \hyperref[def:field]{field} if and only if \( p \) is a \hyperref[def:prime_number]{prime number}.
\end{corollary}
\begin{proof}
  Note that \( x < n \) is invertible modulo \( n \) if and only if there exists an integer \( a \) such that \( ax = 1 \pmod n \). That is, if there exist integers \( a \) and \( b \) such that \( ax + bn = 1 \).

  The rest of the theorem follows from \eqref{eq:def:bezout_domain/identity} in one direction and \fullref{thm:bezouts_identity_converse} in the other direction.
\end{proof}

\begin{example}\label{ex:ufd_but_not_pid}\mcite[393]{Knapp2016BasicAlgebra}
  The \hyperref[def:unique_factorization_domain]{unique factorization domain} \( \BbbZ[X] \) is not a \hyperref[def:principal_ideal_domain]{principal ideal domain}.

  Note that \( \BbbZ[X] \) is a unique factorization domain by \fullref{thm:def:unique_factorization_domain/polynomial_ring}.

  Consider the ideal \( I \) of polynomials with an even constant term. Assume that \( I \) is generated by the polynomial \( p(X) \in \BbbZ[X] \). Since \( 2 \in I \), then \( p(X) \) divides \( 2 \), so \( p(X) \in \set{ -2, -1, 1, 2 } \). But then \( p(X) \) is a unit, and hence, \( I = \braket{p(X)} = \BbbZ[X] \), which contradicts the definition of \( I \).

  The obtained contradiction proves that \( \BbbZ[X] \) is not a principal ideal domain.

  This example generalizes to \fullref{thm:def:euclidean_domain/field_polynomials}.
\end{example}

\begin{definition}\label{def:euclidean_domain}\mcite[392]{Knapp2016BasicAlgebra}
  An \term{Euclidean domain} is an \hyperref[def:integral_domain]{integral domain} \( D \) endowed with a function \( \delta: D \to \BbbZ_{\geq 0} \), which we call the \term{Euclidean degree}, such that for every pair \( x \) and \( y \) of elements of \( D \) with \( y \neq 0_D \), there exists a pair \( q \) and \( r \) such that
  \begin{equation}\label{eq:def:euclidean_domain/division}
    x = yq + r
  \end{equation}
  holds and either \( r = 0_D \) or \( \delta(r) < \delta(q) \).

  We say that \( y \) \term{divides} \( x \) with \term{quotient} \( q \) and \term{remainder} \( r \).

  If the quotient and remainder are unique, as they usually are, we use the special notation
  \begin{align*}
    \quot(x, y) \coloneqq q, \\
    \rem(x, y) \coloneqq r = x - y \quot(x, y).
  \end{align*}
\end{definition}

\begin{proposition}\label{thm:def:euclidean_domain}
  \hyperref[def:euclidean_domain]{Euclidean domains} have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:euclidean_domain/pid} Every Euclidean domain is a \hyperref[def:principal_ideal_domain]{principal ideal domain}.

    Counterexamples to the converse are discussed in \cite{Anderson1988}.

    \thmitem{thm:def:euclidean_domain/field} Every field is a \hyperref[def:euclidean_domain]{Euclidean domain}.

    \thmitem{thm:def:euclidean_domain/field_polynomials} A commutative ring \( R \) is a field if and only if its \hyperref[def:polynomial_algebra]{polynomial ring} \( R[X] \) is a \hyperref[def:principal_ideal_domain]{principal ideal domain}.

    Furthermore, if \( R \) is a field, the \hyperref[def:polynomial_degree]{polynomial degree} function \( \deg: R[X] \setminus \set{ 0 } \to \BbbZ_{\geq 0} \) makes \( R \) an \hyperref[def:euclidean_domain]{Euclidean domain}.

    We are free to define \( \deg \) to take any value for the zero polynomial.
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:euclidean_domain/pid} Fix an ideal \( I \) of the Euclidean domain \( D \). By \fullref{thm:natural_numbers_are_well_ordered}, the set \( \delta(I) \) has a minimum. Choose an element \( m \in I \) such that \( \delta(m) = \min \delta(I) \). Obviously \( \braket{m} \subseteq I \). We will prove that \( I \subseteq m \).

  Let \( x \in I \). We divide it by \( m \) to obtain
  \begin{equation*}
    x = mq + r,
  \end{equation*}
  such that either \( r \) is zero or \( \delta(r) < \delta(m) \). Since both \( x \) and \( m \) are in \( I \), we have \( r = mq - x \in I \). But \( m \) minimizes \( \delta \) over \( I \), thus \( \delta(m) \leq \delta(r) \), which contradicts \( \delta(r) < \delta(m) \).

  Therefore, \( r \) is zero and
  \begin{equation*}
    x = mq,
  \end{equation*}
  which implies that \( x \in \braket m \). This proves \( I \subseteq \braket m \).

  We have now obtained \( \braket m = I \). Since \( I \) was an arbitrary ideal, we conclude that every ideal in the domain is principal.

  \SubProofOf{thm:def:euclidean_domain/field} By \fullref{thm:division_ring_is_entire}, a field is necessarily an integral domain. Since every element of \( \BbbK \) is divisible (without remainder), the Euclidean function can be arbitrary; for definiteness, we take it to be canonically zero.

  \SubProofOf{thm:def:euclidean_domain/field_polynomials}
  \SufficiencySubProof* Suppose that \( R[X] \) is a principal ideal domain.

  By \fullref{thm:def:integral_domain/subring}, \( R \) is an integral domain. By \fullref{thm:quotient_structure_universal_property}, \( R[X] / \braket{ X } \cong R \). By \fullref{thm:quotient_by_prime_ideal}, \( \braket{ X } \) is a prime ideal in \( R[X] \). By \fullref{thm:def:principal_ideal_domain/prime_ideal_is_maximal}, \( \braket{ X } \) is a maximal ideal. By \fullref{thm:quotient_by_maximal_ideal}, \( R[X] / \braket{ X } \cong R \) is a field.

  \NecessitySubProof* Suppose that \( R \) is a field. By \fullref{thm:def:integral_domain/polynomial_ring}, \( R[X] \) is a domain. By \fullref{alg:euclidean_division_of_polynomials}, we can divide two polynomials \( f(X) \) and \( g(X) \), where \( g(X) \) is monic, in a way that satisfies the definition of an Euclidean domain.

  Thus, for any \( f(X) \) and a nonzero \( g(X) \) with leading coefficients \( b_m \), \fullref{alg:euclidean_division_of_polynomials} gives us
  \begin{equation*}
    f(X) = \frac {g(X)} {b_m} q(X) + r(X).
  \end{equation*}
\end{proof}

\begin{algorithm}[Euclidean algorithm]\label{alg:euclidean_algorithm}
  In an \hyperref[def:euclidean_domain]{Euclidean domain}, we can explicitly construct the \hyperref[def:gcd]{greatest common divisor} of arbitrary elements \( x \) and \( y \) as follows:
  \begin{thmenum}
    \thmitem{alg:euclidean_algorithm/guard} If \( y \) is zero, halt the algorithm with \( \gcd(x, y) \coloneqq x \).
    \thmitem{alg:euclidean_algorithm/initialization} Define \( r_{-1} \coloneqq x \) and \( r_0 \coloneqq y \).
    \thmitem{alg:euclidean_algorithm/step} Starting with \( k = 1 \), obtain a quotient \( q_k \) and remainder \( r_k \) so that
    \begin{equation*}
      r_{k-2} = r_{k-1} q_k + r_k.
    \end{equation*}

    If \( r_k \) is not zero, repeat \fullref{alg:euclidean_algorithm/step} with \( k + 1 \).

    Otherwise, halt the algorithm with \( \gcd(x, y) \coloneqq r_{k-1} \).
  \end{thmenum}
\end{algorithm}
\begin{defproof}
  If \( y \) is zero, then \( \braket{ x, y } = \braket{ x } \), and hence the result is consistent with \fullref{def:gcd}.

  Otherwise, Euclidean division ensures that \( \delta(r_k) < \delta(r_{k-1}) \) on the \( k \)-th step. Thus, the algorithm halts. Denote by \( n \) the last step where \( r_n \) is not zero.

  We show by induction on \( k < n \) that \( r_n \) divides \( r_{n-k} \). The base case \( k = 0 \) is obvious since \( r_n \) divides itself.

  Assume that \( r_n \) divides \( r_{n-i} \) for \( 0 \leq i < k \). Now, since
  \begin{equation*}
    r_{n-k} = r_{n-(k-1)} q_{n-(k-2)} + r_{n-(k-2)}
  \end{equation*}
  and both of the terms on the right-hand side are multiples of \( r_n \), the left-hand side \( r_{n-k} \) is also a multiple.

  So, we conclude that \( r_n \) divides both \( r_{n-(n-1)} = r_1 = y \) and \( r_{n-n} = r_0 = x \).

  Finally, we must show that \( r_n \) is the greatest among all common divisors of \( x \) and \( y \). Let \( d \) be a common divisor. Then \( d \mid r_0 \) and \( d \mid r_1 \). Suppose that \( d \mid r_{k-1} \) and \( d \mid r_{k-2} \), for some \( k < n \). Then
  \begin{equation*}
    r_{k-2} = r_{k-1} q_k + r_k,
  \end{equation*}
  implying that \( d \) also divides \( r_k \). Hence, we obtain \( d \mid r_n \). Since our choice of common divisor \( d \) was arbitrary, we conclude that \( r_n \) is the greatest common divisor.
\end{defproof}

\begin{algorithm}[Extended Euclidean algorithm]\label{alg:extended_euclidean_algorithm}
  In an \hyperref[def:euclidean_domain]{Euclidean domain}, for \( x \) and \( y \) we can explicitly construct elements \( a \) and \( b \) so that \eqref{eq:def:bezout_domain/identity} holds, i.e.
  \begin{equation*}
    ax + by = \gcd(x, y).
  \end{equation*}

  \begin{thmenum}
    \thmitem{alg:extended_euclidean_algorithm/guard} If \( y \) is zero, then halt the algorithm with \( a = 1 \), \( b = 0 \).

    \thmitem{alg:extended_euclidean_algorithm/algorithm} Let \( r_{-1}, r_0, r_1, \ldots, r_n \) and \( q_1, q_2, \ldots, q_n \) be the sequences of quotients and remainders from \fullref{alg:euclidean_algorithm}. The \term{extended Euclidean algorithm} proceeds as follows:

    Define
    \begin{equation*}
      a_k \coloneqq \begin{cases}
        1,                     &k = 1, \\
        a_{k-2} - a_{k-1} q_k, &k > 1,
      \end{cases}
    \end{equation*}
    and
    \begin{equation*}
      b_k \coloneqq \begin{cases}
        -q_1,                  &k = 1, \\
        b_{k-2} - b_{k-1} q_k, &k > 1.
      \end{cases}
    \end{equation*}

    Halt the algorithm with \( a \coloneqq a_n \) and \( b \coloneqq b_n \).
  \end{thmenum}
\end{algorithm}
\begin{defproof}
  Suppose that \( y \) is not zero. We will prove with induction on \( k < n \) that
  \begin{equation*}
    r_k = a x_k + b y_k.
  \end{equation*}

  For the base case \( k = 1 \), we have
  \begin{align*}
    r_{-1}    &= r_0 q_1 + r_1, \\
    x         &= y q_1 + r_1,   \\
    x - y q_1 &= r_1,
  \end{align*}
  hence \( r_1 = x + (-q_1) y = a_1 x + b_1 y \).

  For \( k > 1 \), we have
  \begin{align*}
    r_{k-2}                                               &= r_{k-1} q_k + r_k,                 \\
    x a_{k-2} + y b_{k-2}                                 &= (x a_{k-1} + y b_{k-1}) q_k + r_k, \\
    x (a_{k-2} - a_{k-1} q_k) + y (b_{k-2} - b_{k-1} q_k) &= r_k.
  \end{align*}

  This completes the induction.

  Finally, since \( r_n = \gcd(x, y) \), we conclude that
  \begin{equation*}
    \gcd(x, y) = a_n x + b_n y.
  \end{equation*}
\end{defproof}

\begin{proposition}\label{thm:polynomial_ring_over_gcd_domain}
  If the \hyperref[def:integral_domain]{integral domain} \( D \) is a \hyperref[def:gcd_domain]{greatest common divisor domain}, so is \( D[X] \).
\end{proposition}
\begin{proof}
  Let \( D \) be a GCD domain and let \( \BbbK \) be its \hyperref[thm:field_of_fractions]{field of fractions}.

  Let \( p(X) \) and \( q(X) \) be arbitrary polynomials in \( D[X] \). We will show that they have a greatest common divisor.

  By \fullref{thm:def:euclidean_domain/field_polynomials}, \( \BbbK[X] \) is an Euclidean domain, and thus \( p(X) \) and \( q(X) \) have a GCD in \( \BbbK[X] \), which is unique up to multiplication by a unit in \( \BbbK[X] \). Thus, taking an arbitrary GCD
  \begin{equation*}
    r(X) = \sum_{k=0}^n \frac {a_k} {b_k} X^k,
  \end{equation*}
  the polynomial \( b_0 \cdots b_n r(X) \) is also a GCD. Furthermore, the latter is actually a polynomial in \( D[X] \).

  Therefore, \( p(X) \) and \( q(X) \) have a GCD in \( D[X] \).
\end{proof}

\begin{definition}\label{def:polynomial_content}\mcite[def. V.4.6]{Aluffi2009}
  The \term{content} of a univariate polynomial over a \hyperref[def:gcd_domain]{GCD domain} is the \hyperref[def:gcd]{GCD} of its coefficients.

  Dividing \( p(X) \) by its content, we obtain another polynomial, which we call the \term{primitive part} of \( p(X) \). Polynomials whose content is a unit are called \term{primitive} in the context of \fullref{thm:gauss_lemma}, although this clashes with the unrelated concept of primitive polynomials in \hyperref[thm:finite_fields]{finite fields}.
\end{definition}

\begin{lemma}[Gauss' lemma]\label{thm:gauss_lemma}
  If \( p(X) \) and \( q(X) \) are \hyperref[def:polynomial_content]{primitive polynomials}, then \( p(X) q(X) \) is also primitive.
\end{lemma}
\begin{proof}
  Fix two primitive polynomials
  \begin{align*}
    p(X) = \sum_{k=0}^n a_k X^k,
    &&
    q(X) = \sum_{k=0}^m b_k X^k.
  \end{align*}

  Let \( d \) be the content of \( p(X) q(X) \). It divides every coefficient
  \begin{equation*}
    \sum_{i+j=k} a_i b_j
  \end{equation*}
  of \( p(X) q(X) \), and hence also \( a_i b_j \) for every particular pair of indices \( i < n \) and \( j < m \).

  For any fixed \( i < n \), \( d \) divides \( a_i b_j \) for every \( j < m \). Since \( q(X) \) is primitive, \( d \) cannot divide \( b_j \) for every \( j < m \) unless \( d \) is a unit. Hence, \( d \) necessarily divides \( a_i \). Our choice of \( i \) was arbitrary, hence \( d \) divides \( a_i \) for every \( i < n \). But \( p(X) \) is also primitive. Therefore, \( d \) can only be a unit.
\end{proof}

\begin{lemma}\label{thm:irreducible_primitive_polynomial_in_field_of_fractions}
  Let \( D \) be a \hyperref[def:gcd_domain]{GCD domain} and let \( \BbbK \) be its \hyperref[thm:field_of_fractions]{field of fractions}. If a \hyperref[def:polynomial_content]{primitive polynomial} \( p(X) \) is \hyperref[def:domain_divisibility/irreducible]{irreducible} in the polynomial ring \( \BbbK[X] \), then it is irreducible in \( D[X] \).
\end{lemma}
\begin{proof}
  Suppose that \( p(X) \) is primitive and irreducible in \( \BbbK[X] \). Let
  \begin{equation*}
    p(X) = q(X) r(X),
  \end{equation*}
  where \( q(X) \) and \( r(X) \) are polynomials from \( D[X] \). Then \( q(X) \) or \( r(X) \) is a unit in \( \BbbK[X] \), hence it is a nonzero constant polynomial. Suppose that \( q(X) = q_0 \).

  Then \( q_0 \) is an element of \( D \) that divides all coefficients of \( p(X) \). By assumption, the coefficients of \( p(X) \) are coprime. It follows that \( q_0 \) is a unit in \( D \).
\end{proof}

\begin{proposition}\label{thm:polynomial_ring_over_ufd}
  If the \hyperref[def:integral_domain]{integral domain} \( D \) is a \hyperref[def:unique_factorization_domain]{unique factorization domain}, so is \( D[X] \).
\end{proposition}
\begin{proof}
  Let \( D \) be a unique factorization domain and let \( \BbbK \) be its \hyperref[thm:field_of_fractions]{field of fractions}.

  By \fullref{thm:polynomial_ring_over_gcd_domain}, \( D[X] \) is a GCD domain. Then \fullref{thm:def:gcd_domain/irreducible_is_prime} is satisfied, with by \fullref{thm:def:irreducible_factorization/uniqueness} implies that if an element has at least one \hyperref[def:irreducible_factorization]{irreducible factorization}, all others are equivalent to it.

  We will now show existence of irreducible factorizations.

  Let \( p(X) \) be a polynomial in \( D[X] \). By \fullref{thm:def:euclidean_domain/field_polynomials}, \( p(X) \) has an irreducible factorization
  \begin{equation*}
    p(X) = u q_1(X) \cdots q_n(X),
  \end{equation*}
  where \( q_1(X), \ldots, q_n(X) \) belong to \( \BbbK[X] \).

  For a fixed index \( i = 1, \ldots, n \), if the polynomial \( q_i(X) \) has the form
  \begin{equation*}
    q_i(X) = \sum_{k=0}^n \frac {a_k} {b_k} X^k,
  \end{equation*}
  then \( b_1 \cdots b_n q_i(X) \) is a polynomial in \( D[X] \). Denote by \( r_i(X) \) the \hyperref[def:polynomial_content]{primitive part} this polynomial in \( D[X] \). Since every scalar from \( D \) is simply a unit in \( \BbbK[X] \), it follows that \( r_i(X) \) is also irreducible in \( \BbbK[X] \).

  Hence, for the appropriate scalar \( v \in \BbbK \),
  \begin{equation*}
    p(X) = v r_1(X) \cdots r_n(X)
  \end{equation*}
  is an irreducible factorization in \( \BbbK[X] \).

  By \fullref{thm:irreducible_primitive_polynomial_in_field_of_fractions}, \( r_1(X), \ldots, r_n(X) \) are irreducible elements of \( D[X] \). Thus, if \( v = \tfrac c d \) with \( c \) and \( d \) coprime, then
  \begin{equation*}
    d p(X) = c r_1(X) \cdots r_n(X)
  \end{equation*}
  is an irreducible factorization in \( D[X] \).

  By \fullref{thm:gauss_lemma}, the product \( r_1(X) \cdots r_n(X) \) is a primitive polynomial in \( D[X] \). Hence, \( d \) cannot divide neither \( c \) nor \( r_1(X) \cdots r_n(X) \), implying that \( d \) is a unit. Therefore,
  \begin{equation*}
    p(X) = c r_1(X) \cdots r_n(X)
  \end{equation*}
  is an irreducible factorization of \( p(X) \) in \( D[X] \).
\end{proof}

\paragraph{Fields of fractions}

\begin{proposition}\label{thm:field_of_fractions}
  Let \( D \) be an \hyperref[def:integral_domain]{integral domain}. The \hyperref[def:ring_localization]{localization} of \( D \) at the zero ideal \( \set{ 0_R } \) is a \hyperref[def:field]{field}, which we call the \term{field of fractions} of \( D \).
\end{proposition}
\begin{proof}
  By \fullref{thm:def:ring_localization/prime_ideals}, the localization by the prime ideal \( \set{ 0_R } \) has only one maximal ideal --- \( S^{-1} \set{ 0_R } \). Since \( 0_R \) is absorbing, \( S^{-1} \set{ 0_R } \) is again the zero ideal. Therefore, it is the only proper ideal of the localization \( S^{-1} D \), and hence the localization is a \hyperref[def:simple_object]{simple ring}.

  Since \( D \) is an integral domain, by \fullref{thm:def:ring_localization/injective_inclusion}, \( S^{-1} D \) is a superring of \( D \). It is therefore a nontrivial commutative simple ring, and thus it satisfies \fullref{def:field/simple}.
\end{proof}

\begin{theorem}[Field of fractions universal property]\label{thm:field_of_fractions_universal_property}
  The \hyperref[thm:field_of_fractions]{field of fractions} \( \BbbK \) of the integral domain \( D \) satisfies the following \hyperref[rem:universal_mapping_property]{universal mapping property}:
  \begin{displayquote}
    For every field \( \BbbL \) and every ring homomorphism \( \varphi: D \to \BbbL \), \( \varphi \) \hyperref[def:factors_through]{uniquely factors through} \( \BbbK \). More precisely, there exists a unique field homomorphism \( \widetilde{\varphi}: \BbbK \to \BbbL \) such that the following diagram commutes:
    \begin{equation}\label{eq:thm:field_of_fractions_universal_property/diagram}
      \begin{aligned}
        \includegraphics[page=1]{output/thm__field_of_fractions_universal_property}
      \end{aligned}
    \end{equation}
  \end{displayquote}
\end{theorem}
\begin{proof}
  This is simply a special case of \fullref{thm:ring_localization_universal_property}.
\end{proof}

\begin{definition}\label{def:rational_function_field}
  The field of \term{rational algebraic functions} \( D(\mscrX) \) for the set of indeterminates \( \mscrX \) over the \hyperref[def:integral_domain]{integral domain} \( D \) is the \hyperref[thm:field_of_fractions]{field of fractions} of the \hyperref[def:polynomial_algebra]{polynomial ring} \( D[\mscrX] \).

  Despite the name, elements of the field of fractions are not actually functions, but merely formal expressions. In particular, an analog of \fullref{thm:polynomial_algebra_universal_property} does not really make sense.
\end{definition}

\begin{proposition}\label{thm:adjoining_elements_to_field}
  Let \( \Bbbk \subseteq \BbbK \) be \hyperref[def:field]{fields} and let \( A \) be an arbitrary subset of \( \BbbK \).

  Let \( \Bbbk[A] \) be the ring obtained by adjoining the elements of \( A \) to \( \Bbbk \) as described in \fullref{thm:adjoining_elements_to_semiring}. The \hyperref[thm:field_of_fractions]{field of fractions} of \( \Bbbk[A] \) is the smallest field extension of \( \Bbbk \) containing \( A \).

  We denote this extension by \( \Bbbk(A) \). It should not be confused with the image of the evaluation homomorphism on the \hyperref[def:rational_function_field]{field of rational functions}; the rational functions do not actually have an evaluation homomorphism.
\end{proposition}
\begin{proof}
  It follows from \fullref{thm:adjoining_elements_to_semiring} that \( \Bbbk[A] \) is the smallest superring of \( \Bbbk \) containing \( A \). By \fullref{thm:field_of_fractions_universal_property}, \( \Bbbk(A) \) is the smallest field containing \( \Bbbk[A] \).
\end{proof}
