\subsection{Semiring ideals}\label{subsec:semiring_ideals}

\paragraph{Ideals}

When regarding \hyperref[def:semiring]{(semi)rings} as \hyperref[def:semimodule]{(semi)modules} over themselves, as per \fullref{thm:commutative_monoid_is_semimodule}, we obtain the important notion of ideals.

\begin{definition}\label{def:semiring_ideal}
  We say that the subset \( I \) of a semiring \( R \) is a \term[bg=(ляв) идеал (\cite[def. V.6]{ГеновМиховскиМоллов1991}), ru=(левый) идеал (\cite[def. 1.1.3]{ВечтомовПетров2022})]{left ideal} (resp. \term{right ideal}) if any of the following equivalent conditions hold:
  \begin{thmenum}[series=def:semiring_ideal]
    \thmitem{def:semiring_ideal/submodule} It is a \hyperref[def:semimodule/submodel]{sub-semimodule} of \( R \) when regarded as a left (resp. right) semimodule over itself.

    \thmitem{def:semiring_ideal/direct}\mcite[70]{Golan2010} The set \( I \) is closed under addition with elements of itself, as well as left multiplication with elements of \( R \). Explicitly,
    \begin{align}
      &i \in I \T{and} j \in I \T{imply that} i + j \in I, \label{eq:def:semiring_ideal/direct/additive} \\
      &i \in I \T{and} r \in R \T{imply that} r \cdot i \in I \quad (\T{resp.} i \cdot r \in I). \label{eq:def:semiring_ideal/direct/multiplicative}
    \end{align}
  \end{thmenum}

  If \( I \) is both a left and right ideal of \( R \), we say that it is a \term{two-sided ideal}. They are useful for \hyperref[def:ring/quotient]{quotient rings}. If multiplication is commutative, every left ideal is a right ideal and there is no distinction between the two. Generally, right ideals are left ideals in the \hyperref[def:semiring/opposite]{opposite semiring}.

  \begin{thmenum}[resume=def:semiring_ideal]
    \thmitem{def:semiring_ideal/generated} For an arbitrary subset \( A \) of \( R \), we call the (left) \hyperref[def:semimodule/submodel]{linear span} of \( A \) the left ideal \term{generated} by \( A \). Explicitly, this is the set
    \begin{equation*}
      \sum_{a \in A} A a = \set*{ \sum_{k=1}^n t_k a_k \given* n > 0 \T{and, for} k < n, t_k \in R \T{and} a_k \in A }.
    \end{equation*}

    If \( A = \set{ a_1, \ldots, a_n } \), we say that the ideal is \term{finitely generated} and write
    \begin{equation*}
      A a_1 + \cdots + A a_n.
    \end{equation*}

    For right ideals, this becomes
    \begin{equation*}
      a_1 A + \cdots + a_n A.
    \end{equation*}

    In commutative rings, we use the notation \( \braket{ A } \). In general rings, we are more explicit for the sake of avoiding possible confusion.

    \thmitem{def:semiring_ideal/principal} If an ideal is generated by a single element, we call it a \term[bg=главен идеал (\cite[def. V.8]{ГеновМиховскиМоллов1991}), ru=главный идеал (\cite[392]{Винберг2014})]{principal ideal}. In a general ring, there can be left, right and two-sided principal ideals.

    \thmitem{def:semiring_ideal/product} We define the \term{product ideal} \( IJ \) of \( I \) and \( J \) as
    \begin{equation*}
      \set*{ \sum_{k=1}^n i_k j_k \given* n > 0 \T{and, for} k < n, i_k \in I \T{and} j_k \in J }.
    \end{equation*}

    This notation is unfortunately inconsistent with the pointwise product
    \begin{equation*}
      \set{ ij \mid i \in I, j \in J }
    \end{equation*}
    from \fullref{def:power_semigroup}; it is actually the ideal generated by the pointwise product.

    \begin{figure}[!ht]
      \caption{Some important kinds of ideals}\label{fig:def:semiring_ideal/hierarchy}
      \smallskip
      \hfill
      \begin{forest}
        for tree=
          {
            s sep=2.25cm
          }
        [
          {\hyperref[def:semiring_ideal]{ideal}}, name=ideal
            [{\hyperref[def:semiring_ideal/principal]{principal}}, name=principal]
            [
              {\hyperref[def:semiring_ideal/prime]{prime}}, name=prime
                [{\hyperref[def:semiring_ideal/maximal]{maximal}}, name=maximal]
            ]
            [{\hyperref[def:radical_ideal]{radical}}, name=radical]
        ]
        \draw[->, dashed] (prime) to node[below] {\hyperref[def:semiring/commutative]{commutative}} (radical);
        \draw[->, dashed] (prime) to[out=west, in=west] node[left] {\hyperref[def:principal_ideal_domain]{PID}} (maximal);
        \draw[->, dashed] (ideal) to[out=west, in=north] node[above] {\hyperref[def:principal_ideal_domain]{PID}} (principal);
      \end{forest}
      \hfill\hfill
    \end{figure}

    \thmitem{def:semiring_ideal/prime}\mcite[85]{Golan2010} If \( P \) is a proper ideal and if from \( IJ \subseteq P \) it follows that \( I \subseteq P \) or \( J \subseteq P \) (or both), we say that \( P \) is a \term[bg=прост (\cite[7]{КоцевСидеров2016}), ru=простой (\cite[14]{ВечтомовПетров2022})]{prime ideal}.

    When working with commutative semirings, \fullref{thm:def:semiring_ideal/prime_pointwise} is instead sometimes taken as the definition of a prime ideal.

    \thmitem{def:semiring_ideal/coprime}\mcite[18]{КоцевСидеров2016} If \( I + J = R \) for proper ideals \( I \) and \( J \), we say that \( I \) and \( J \) are \term[bg=взаимно прости (\cite[18]{КоцевСидеров2016}), en=relatively prime (\cite[116]{Lang2002}) / coprime (\cite[205]{Birkhoff1948})]{coprime}. Equivalently, \( I \) and \( J \) are coprime if their sum contains an invertible element.

    This is directly related to \hyperref[def:coprime_elements]{coprime elements}.

    \thmitem{def:semiring_ideal/maximal} A (left) \term[bg=максимален (\cite[7]{КоцевСидеров2016}), ru=максимальный (\cite[13]{ВечтомовПетров2022})]{maximal ideal} is a proper (left) ideal that is maximal with respect to set inclusion. The maximal ideals are the predecessors of \( R \) in the lattice of (left) ideals described in \fullref{thm:semiring_of_ideals}.
  \end{thmenum}
\end{definition}

\begin{proposition}\label{thm:def:semiring_ideal}
  The \hyperref[def:semiring_ideal]{left ideals} of a semiring \( R \) have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:semiring_ideal/ideal_containing_unit} An ideal \( I \) contains an \hyperref[def:divisibility/invertible]{invertible element} if and only \( I \) is the entire ring.

    In particular, \( R = \braket{ 1 } \).

    \thmitem{thm:def:semiring_ideal/units} A semiring element is \hyperref[def:divisibility/invertible]{invertible} if and only if it does not belong to any proper ideal.

    \thmitem{thm:def:semiring_ideal/division} For two-sided ideals and \hyperref[def:divisibility]{two-sided divisors}, we have \( \braket{ x } \subseteq \braket{ y } \) if and only if \( y \mid x \) .

    More generally, we have \( Rx \subseteq Ry \) if and only if \( y \) is a right divisor of \( x \). Note how \( Rx \) and \( Ry \) are \hi{left} principal ideals but \( y \) is a \hi{right} divisor.

    \thmitem{thm:def:semiring_ideal/union} The union of an \hyperref[def:stabilizing_chain]{ascending chain} \( I_1 \subseteq I_2 \subseteq \cdots \) of ideals is again an ideal.

    \thmitem{thm:def:semiring_ideal/maximal_is_prime} Every (left or right) \hyperref[def:semiring_ideal/maximal]{maximal ideal} is \hyperref[def:semiring_ideal/prime]{prime}.

    \Fullref{thm:def:principal_ideal_domain/prime_ideal_is_maximal} is a converse that holds for \hyperref[def:principal_ideal_domain]{principal ideal domains}.

    \thmitem{thm:def:semiring_ideal/coprime_product} We have \( IJ \subseteq I \cap J \). The converse inclusion holds if \( R \) is \hyperref[def:semiring/commutative]{commutative} and if \( I \) and \( J \) are \hyperref[def:semiring_ideal/coprime]{coprime}.

    A simple counterexample to this converse can be found in \fullref{thm:def:semiring_ideal/coprime_product}.

    \thmitem{thm:def:semiring_ideal/product_of_principal_ideals} In a \hyperref[def:semiring/commutative]{commutative} semiring, the product of the principal ideals \( \braket{x} \) and \( \braket{y} \) is \( \braket{xy} \).

    \thmitem{thm:def:semiring_ideal/prime_pointwise} In a commutative semiring, an equivalent condition to \( P \) being \hyperref[def:semiring_ideal/prime]{prime} is that \( xy \in P \) implies \( x \in P \) or \( y \in P \) (or both).
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:semiring_ideal/ideal_containing_unit} We will prove that there exists an invertible element \( u \in I \) if and only if \( I = R \).

  \SufficiencySubProof* Let \( u \in I \) be invertible. Then \( 1 = u^{-1} u \in I \). It follows that \( 1 \cdot x = x \) for any \( x \in R \), thus \( IR = R \). But \( I \) is an ideal, hence we have that \( IR = I \). Therefore, \( I = IR = R \).

  \NecessitySubProof* If \( I = R \), then obviously \( 1 \in I \).

  An analogous proof follows for the case when \( I \) is a right ideal.

  \SubProofOf{thm:def:semiring_ideal/units}

  \SufficiencySubProof* Suppose that \( x \) is invertible and that \( x \) belongs to some proper ideal \( I \). Then \( Rx = R \), implying that \( I = R \), which is a contradiction.

  \NecessitySubProof* Suppose that \( x \) does not belong to any proper ideal. Then \( Rx \) is not a proper ideal, implying that \( R = Rx \). There exists some \( y \) such that \( yx = 1 \). Hence, \( x \) is invertible.

  \SubProofOf{thm:def:semiring_ideal/division} We will show the general statement.

  \SufficiencySubProof* Suppose that \( Rx \subseteq Ry \). Then \( x \in Ry \), and hence there exists an element \( l \) of \( R \) such that \( x = ly \). So \( y \) is a right divisor of \( x \).

  \NecessitySubProof* Suppose that \( y \) is a right divisor of \( x \). Then there exists an element \( l \) of \( R \) such that \( x = ly \). Thus, \( x \in Ry \), and hence \( Rx \subseteq Ry \).

  \SubProofOf{thm:def:semiring_ideal/union} Follows from \fullref{thm:def:semimodule/union}.

  \SubProofOf{thm:def:semiring_ideal/maximal_is_prime} Let \( M \) be a maximal (left) ideal and let \( IJ \subseteq M \). Aiming at a contradiction, suppose that both \( M \setminus I \) and \( M \setminus J \) are nonempty.

  Then there exist elements \( i \in I \), \( j \in J \), \( m_i \in M \) and \( m_j \in M \) such that
  \begin{equation*}
    i + m_i = j + m_j = 1.
  \end{equation*}

  Then
  \begin{equation*}
    1 = (i + m_i) (j + m_j) = \underbrace{ij}_{IJ} + \overbrace{m_i j}^M + \underbrace{m_j i}_M + \overbrace{m_i m_j}^M.
  \end{equation*}

  Hence,
  \begin{equation*}
    1 = (i + m_i) (j + m_j) \in M,
  \end{equation*}
  which contradicts our assumption that \( M \) is maximal.

  Therefore, \( M \setminus I \) and \( M \setminus J \) cannot both be nonempty.

  \SubProofOf{thm:def:semiring_ideal/coprime_product}
  \SufficiencySubProof* We will first show that \( IJ \subseteq I \cap J \). Let
  \begin{equation*}
    \sum_{k=1}^n x_k y_k \in IJ.
  \end{equation*}

  For each \( k \), \( x_k y_k \) belongs to both \( I \) and to \( J \). Hence, the sum over \( k \) also belongs to the intersection. Therefore,
  \begin{equation*}
    IJ \subseteq I \cap J.
  \end{equation*}

  \NecessitySubProof* Conversely, in a commutative semiring, if \( I \) and \( J \) are coprime, let \( x \in I \cap J \). There exist some \( i \in I \) and \( j \in J \) such that \( 1 = i + j \). Thus,
  \begin{equation*}
    x = x \cdot 1 = x \cdot (i + j) = \underbrace{x \cdot i}_{i \cdot x \in IJ} + \underbrace{x \cdot j}_{IJ}.
  \end{equation*}

  Generalizing on \( x \), we conclude that \( IJ \subseteq I \cap J \).

  \SubProofOf{thm:def:semiring_ideal/product_of_principal_ideals} Suppose that \( R \) is commutative.
  \SufficiencySubProof* Let \( z \in \braket{x} \braket{y} \). Then there exist elements \( x_z \) of \( \braket{x} \) and \( y_z \) of \( \braket{y} \) such that \( z = x_z y_z \), and elements \( r_x \) and \( r_y \) of \( R \) such that \( x r_x = x_z \) and \( y r_y = y_z \).

  Therefore,
  \begin{equation*}
    z = \underbrace{(x r_x) (y r_y)}_{(xy) (r_x r_y)} \in \braket{xy}.
  \end{equation*}

  \NecessitySubProof* Let \( z \in \braket{xy} \). Then there exists an element \( r \) of \( R \) such that \( z = rxy = (rx)(y) \), hence \( z \in \braket{x} \braket{y} \).

  \SubProofOf{thm:def:semiring_ideal/prime_pointwise} Suppose that \( R \) is commutative.

  \SufficiencySubProof* Let \( P \) be prime and let \( xy \in P \). Then \( \braket{xy} \subseteq P \). By \fullref{thm:def:semiring_ideal/product_of_principal_ideals}, \( \braket{x} \braket{y} \subseteq P \), and hence \( \braket{x} \subseteq P \) or \( \braket{y} \subseteq P \). Therefore, \( x \in P \) or \( y \in P \).

  \NecessitySubProof* Let \( P \) be an ideal such that \( xy \in P \) implies \( x \in P \) or \( y \in P \). Let \( IJ \subseteq P \) and suppose that there exist \( i \in I \setminus P \) and \( j \in J \setminus P \).

  Obviously \( ij \in I \). But since \( P \) is prime, it follows that \( i \in P \) or \( j \in P \).

  The obtained contradiction shows that \( I \) or \( J \) must be a subset of \( P \). Therefore, \( P \) is prime.
\end{proof}

\begin{remark}\label{rem:semiring_ideal_as_sub_semiring}
  A proper semiring ideal is a canonical example of a nonunital sub-semiring. As a consequence of \fullref{thm:def:semiring_ideal/ideal_containing_unit}, a proper ideal cannot contain the multiplicative identity \( 1 \), and is thus not a sub-semiring unless we allow sub-semirings to not contain \( 1 \).
\end{remark}

\begin{example}\label{ex:def:semiring_ideal}
  We list several examples of \hyperref[def:semiring_ideal]{semiring ideals}.
  \begin{thmenum}
    \thmitem{ex:def:semiring_ideal/not_principal} The simplest example of an ideal that is not principal is the ideal \( \braket{ 2, 3 } \) in \( \BbbN \).

    To see that it is not principal, suppose that \( \braket{ n } = \braket{ 2, 3 } \) for some natural number \( n \). This implies that there exist nonzero numbers \( a \) and \( b \) such that \( n = 2a + 3b \). Hence, \( n > 2a > a \) and \( n > 3b > b \). But then neither \( 2 \) nor \( 3 \) belongs to \( \braket{ n } \), contradicting our assumption.

    \thmitem{ex:def:semiring_ideal/prime_not_maximal} The zero ideal \( \braket{ 0 } \) in \( \BbbN \) is \hyperref[def:semiring_ideal/prime]{prime} but not \hyperref[def:semiring_ideal/maximal]{maximal}.

    Indeed, since \( \BbbN \) is \hyperref[def:entire_semiring]{entire}, \( \braket{ 0 } = \set{ 0 } \) and thus \( \braket{ 0 } \) is prime. But it is not maximal since it is contained in every other ideal.

    \thmitem{ex:def:semiring_ideal/natural_numbers_principal_ideals} For natural numbers, \( \braket{ n } = \braket{ m } \) implies \( n = m \).

    Indeed, by \fullref{thm:def:semiring_ideal/division}, \( n \mid m \) and \( m \mid n \). Thus, there exist numbers \( a \) and \( b \) such that \( n = am \) and \( m = bn \), hence \( n = abn \). Since the semiring \( \BbbN \) is \hyperref[def:entire_semiring]{entire}, we can cancel \( n \) to obtain \( ab = 1 \). Then \( a = b = 1 \), and hence \( n = m \).

    \thmitem{ex:def:semiring_ideal/prime_numbers} A natural number \( n \) is \hyperref[def:prime_number]{prime} if and only if \( \braket{n} \) is a \hyperref[def:semiring_ideal/prime]{prime ideal} in \( \BbbN \).

    Suppose that \( n \) is prime and let \( n \mid mk \). From \fullref{thm:euclids_lemma} it follows that either \( n \mid k \) or \( n \mid m \), hence \fullref{thm:def:semiring_ideal/prime_pointwise} is satisfied and \( \braket{ n } \) is a prime ideal.

    In the other direction, suppose that \( \braket{ n } \) is a prime ideal and let \( n = ab \). By \fullref{thm:def:semiring_ideal/product_of_principal_ideals}, \( \braket{ n } = \braket{ a } \braket{ b } \). Since \( \braket{ n } \) is a prime ideal, \( \braket{ a } \subseteq \braket{ n } \) or \( \braket{ b } \subseteq \braket{ n } \).

    Therefore, \( \braket{ n } = \braket{ a } \) or \( \braket{ n } = \braket{ b } \). By \fullref{ex:def:semiring_ideal/natural_numbers_principal_ideals}, \( n = a \) or \( n = b \), which in turn implies that the other is invertible.

    Therefore, \( n \) is a prime number.

    \thmitem{ex:def:semiring_ideal/non_coprime} As a counterexample to the converse of \fullref{thm:def:semiring_ideal/coprime_product}, consider the intersection of the ideals \( \braket{ 4 } \) and \( \braket{ 6 } \), which is \( \braket{ 24 } \), unlike their product, which is their \hyperref[def:lcm]{least common multiple} \( \braket{ 12 } \).

    \thmitem{ex:def:semiring_ideal/matrices} Consider the matrix algebra \( \BbbZ^{2 \times 2} \). The set
    \begin{equation*}
      \set[\Bigg]
      {
        \begin{pmatrix}
          0 & a \\
          0 & b
        \end{pmatrix}
        \given*
        a, b \in \BbbZ
      }.
    \end{equation*}
    is a left ideal. It is not a right ideal, however, because
    \begin{equation*}
      \begin{pmatrix}
        1 & 0 \\
        1 & 0
      \end{pmatrix}
      \begin{pmatrix}
        0 & 1 \\
        0 & 1
      \end{pmatrix}
      =
      \begin{pmatrix}
        0 & 1 \\
        0 & 1
      \end{pmatrix}.
    \end{equation*}

    Two-sided ideals are more well-behaved --- see \fullref{thm:matrix_algebra_ideals}.

    \thmitem{ex:def:semiring_ideal/polynomial_ideals} Consider the bivariate \hyperref[def:polynomial_algebra]{polynomial semiring} \( \BbbN[X, Y] \) over natural numbers. Since \( (X + Y)^2 = X^2 + 2XY + Y^2 \), we have
    \begin{equation*}
      \braket{ X^2 + 2XY + Y^2 } \subseteq \braket{ X + Y }.
    \end{equation*}

    \thmitem{ex:def:semiring_ideal/ideal_polynomials} Ideals in polynomial semirings are often studied, but we can also study polynomials in ideal semirings, i.e. polynomials over the semiring \( \mscrI \) of ideals of a semiring \( R \). For example,
    \begin{equation*}
      I^2 J + K
    \end{equation*}
    is a trivariate polynomial function over \( \mscrI \).

    \thmitem{ex:def:semiring_ideal/maximal_induced_coprime} If \( M \) is a maximal ideal and \( x \in R \setminus M \), then \( M \) and \( \braket{ x } \) are \hyperref[def:semiring_ideal/coprime]{coprime}.
  \end{thmenum}
\end{example}

\paragraph{Lattices of ideals}

\begin{proposition}\label{thm:semiring_of_ideals}
  \hfill
  \begin{thmenum}
    \thmitem{thm:semiring_of_ideals/semiring} The set \( \mscrI \) of all ideals of a semiring \( R \) is itself a semiring with the addition and multiplication defined pointwise as for \hyperref[def:power_semigroup]{power semigroups}.

    \thmitem{thm:semiring_of_ideals/order} Furthermore, \( \mscrI \) is an \hyperref[def:ordered_semiring]{ordered semiring} with respect to set inclusion.

    \thmitem{thm:semiring_of_ideals/lattice} The \hyperref[def:extremal_points/supremum_and_infimum]{supremum} of \( I \) and \( J \) is their sum \( I + J \) and their \hyperref[def:extremal_points/supremum_and_infimum]{infimum} is their intersection \( I \cap J \). With this, \( \mscrI \) becomes a lattice.
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:semiring_of_ideals/semiring} Associativity and commutativity in \( \mscrI \) are inherited from \( R \), as well as both left and right distributivity. Distributivity ensures that \( I + J \) is an ideal, while associativity of multiplication ensures that \( IJ \) is an ideal.

  \SubProofOf{thm:semiring_of_ideals/order} We must now prove that the partial order \( \subseteq \) is compatible with addition and multiplication. Suppose that \( I \subseteq J \) and let \( H \) be any ideal in \( \mscrI \). Then
  \begin{equation*}
    I + H \subseteq J + H
  \end{equation*}
  and
  \begin{equation*}
    IH \subseteq JH.
  \end{equation*}

  Therefore, \( \mscrI \) is an ordered semiring.

  \SubProofOf{thm:semiring_of_ideals/lattice} Since \( 0 \in J \), obviously \( I \subseteq I + J \), and thus \( I + J \) is an upper bound of \( I \) and \( J \). If \( H \) is any other upper bound, it must contain the sums of all elements of \( I \) and all elements of \( J \), hence \( I + J \subseteq H \). Therefore, \( \sup\set{I, J} = I + J \).

  For \( I \cap J \), it is an infimum of \( I \) and \( J \) as a consequence of \fullref{thm:boolean_algebra_of_subsets/meet}.
\end{proof}

\begin{theorem}[Maximal ideal theorem]\label{thm:maximal_ideal_theorem}\mcite[prop. 6.59]{Golan2010}
  Every proper \hyperref[def:semiring_ideal]{semiring ideal} is contained in a \hyperref[def:semiring_ideal/maximal]{maximal ideal}.
\end{theorem}
\begin{comments}
  \item Within \hyperref[def:zfc]{\logic{ZF}}, this theorem is equivalent to the \hyperref[def:zfc/choice]{axiom of choice} --- see \fullref{thm:axiom_of_choice_equivalences/maximal_ideal}.

  \item \Fullref{thm:def:semiring_ideal/maximal_is_prime} implies that every maximal ideal is \hyperref[def:semiring_ideal/prime]{prime}, hence every proper ideal is contained in some prime ideal. For this reason, this result is referred to as the \enquote{prime ideal theorem} by \incite{Johnstone1983}.
\end{comments}
\begin{proof}
  We will discuss equivalence with \fullref{thm:zorns_lemma}.

  \ImplicationSubProof[thm:zorns_lemma]{Zorn's lemma}[thm:maximal_ideal_theorem]{maximal ideal theorem} Let \( I \) be a proper ideal in the semiring \( R \). Denote by \( \mscrH \) the set of all proper ideals in \( R \) that contain \( I \). The union of every chain in \( \mscrH \) is again an ideal, and by Zorn's lemma, \( \mscrH \) has a maximal element. More precisely, there exists a maximal ideal in \( \mscrH \) that contains \( I \).

  \ImplicationSubProof[thm:maximal_ideal_theorem]{maximal ideal theorem}[thm:zorns_lemma]{Zorn's lemma} In \cite{Hodges1979}, Hodges proves that the statement \enquote{every \hyperref[def:factorial_domain]{factorial domain} has a maximal ideal} implies Zorn's lemma. We have an even stronger antecedent.
\end{proof}

\paragraph{Ideals in matrix algebras}

\begin{proposition}\label{thm:elements_of_matrix_algebra_ideal}
  Consider the \hyperref[thm:matrix_algebra]{matrix algebra} \( R^{n \times n} \) over the \hyperref[def:semiring]{semiring} \( R \). Fix an ideal \( J \) in \( R^{n \times n} \) and a family \( \seq{ r_{i,j} }_{i, j = 1, \ldots, n} \) of \( n^2 \) elements of \( R \) such that each element appears in at least one matrix from \( J \).

  Then \( J \) contains a matrix whose \( (i, j) \)-th element is \( r_{i, j} \).
\end{proposition}
\begin{proof}
  As an ideal, \( J \) necessarily contains the zero matrix. If \( A \) is a nonzero matrix, then it has at least one nonzero entry, say in position \( (i, j) \).

  Consider the matrices \( E_{i,i} \) and \( E_{j,j} \) that are zero everywhere except at \( (i, i) \) (resp. at \( (j, j) \)), where they are \( 1 \). Then the product \( E_{i,i} A E_{j,j} \) is zero everywhere except at \( (i, j) \), where its value matches that of \( A \).

  For example, if
  \begin{equation*}
    A = \begin{pmatrix}
      1 & 2 & 3 \\
      4 & 5 & 6 \\
      7 & 8 & 9
    \end{pmatrix},
  \end{equation*}
  and \( i = 2 \) and \( j = 3 \), then
  \begin{equation*}
    (E_{2,2} A) E_{3,3}
    =
    \parens[\vast]
      {
        \begin{pmatrix}
          0 & 0 & 0 \\
          0 & 1 & 0 \\
          0 & 0 & 0
        \end{pmatrix}
        \begin{pmatrix}
          1 & 2 & 3 \\
          4 & 5 & 6 \\
          7 & 8 & 9
        \end{pmatrix}
      }
    \begin{pmatrix}
      0 & 0 & 0 \\
      0 & 0 & 0 \\
      0 & 0 & 1
    \end{pmatrix}
    =
    \begin{pmatrix}
      0 & 0 & 0 \\
      4 & 5 & 6 \\
      0 & 0 & 0
    \end{pmatrix}
    \begin{pmatrix}
      0 & 0 & 0 \\
      0 & 0 & 0 \\
      0 & 0 & 1
    \end{pmatrix}
    =
    \begin{pmatrix}
      0 & 0 & 0 \\
      0 & 0 & 6 \\
      0 & 0 & 0
    \end{pmatrix}.
  \end{equation*}

  Since \( J \) is an ideal and \( A \) is in \( J \), the product \( E_{i,i} A E_{j,j} \) also belongs to \( J \).

  Furthermore, multiplying by a \hyperref[def:elementary_matrix/permutation]{permutation matrix} on the left permutes the rows, and on the right permutes the columns. Continuing our example, we can move the \( 6 \) from \( (2, 3) \) to \( (1, 2) \):
  \small
  \begin{equation*}
    [P_{\cycle{ 1 2 }} (E_{2,2} A E_{3,3})] P_{\cycle{ 2 3 }}
    =
    \bracks[\vast]
      {
        \begin{pmatrix}
          0 & 1 & 0 \\
          1 & 0 & 0 \\
          0 & 0 & 1
        \end{pmatrix}
        \begin{pmatrix}
          0 & 0 & 0 \\
          0 & 0 & 6 \\
          0 & 0 & 0
        \end{pmatrix}
      }
    \begin{pmatrix}
      1 & 0 & 0 \\
      0 & 0 & 1 \\
      0 & 1 & 0
    \end{pmatrix}
    =
    \begin{pmatrix}
      0 & 0 & 6 \\
      0 & 0 & 0 \\
      0 & 0 & 0
    \end{pmatrix}
    \begin{pmatrix}
      1 & 0 & 0 \\
      0 & 0 & 1 \\
      0 & 1 & 0
    \end{pmatrix}
    =
    \begin{pmatrix}
      0 & 6 & 0 \\
      0 & 0 & 0 \\
      0 & 0 & 0
    \end{pmatrix}.
  \end{equation*}
  \normalsize

  So, given some family \( \seq{ r_{i,j} }_{i, j = 1, \ldots, n} \) of \( n^2 \) elements of \( R \), as long as each of them appears in at least one matrix from \( J \), we can construct only via multiplication \( n^2 \) matrices \( \seq{ B_{i,j} }_{i, j = 1, \ldots, n} \) such that \( B_{i,j} = r_{i,j} E_{i,j} \). Since \( J \) is a two-sided ideal, each of these matrices will belong to \( J \). Finally, as an ideal, \( J \) is also closed under sums, so we can sum these matrices to obtain the matrix \( B \coloneqq \sum_{i,j} B_{i,j} \) whose \( (i,j) \)-th entry is \( r_{i,j} \).
\end{proof}

\begin{proposition}\label{thm:matrix_algebra_ideals}
  In the \hyperref[thm:matrix_algebra]{matrix algebra} \( R^{n \times n} \) over a \hyperref[def:semiring]{semiring} \( R \), there is an \hyperref[def:semilattice/homomorphism]{isomorphism of complete lattices} between the (two-sided) ideals of \( R \) and the (two-sided) ideals of \( R^{n \times n} \).

  \begin{thmenum}
    \thmitem{thm:matrix_algebra_ideals/matrix_to_ring} For every ideal \( J \) in \( R^{n \times n} \), the set \( I \) of all entries found in the matrices in \( J \) is an ideal of \( R \).

    \thmitem{thm:matrix_algebra_ideals/ring_to_matrix} For every ideal \( I \) in \( R \), the matrix algebra \( I^{n \times n} \) is an ideal of \( R^{n \times n} \).

    \thmitem{thm:matrix_algebra_ideals/isomorphism} The above procedures are mutually inverse and give rise to an isomorphism of complete lattices.
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:matrix_algebra_ideals/matrix_to_ring} Fix an ideal \( J \) from \( R^{n \times n} \) and let \( I \) be the set of all entries found in the matrices in \( J \).

  Given two elements \( a \) and \( b \) from \( I \), \fullref{thm:elements_of_matrix_algebra_ideal} allows us to construct matrices \( A \) and \( B \) in \( J \) that are zero everywhere except at \( (i, j) \), where they are \( a \) and \( b \), respectively. Since \( J \) is closed under addition, \( A + B \) belongs to \( J \), and thus \( a + b \) must belong to \( I \).

  Therefore, \( I \) is closed under addition.

  Now suppose we are given an element \( a \) from \( I \) and \( r \) from \( R \). Again, we can construct a matrix \( A \) in \( J \) that is zero everywhere except at \( (i, j) \). Consider \( r I_n \), the diagonal matrix whose diagonal entries are all \( r \). Since \( J \) is closed under left multiplication with arbitrary \( n \times n \) matrices, it contains \( (r I_n) A \) --- a matrix whose only nonzero entry is \( r \) at position \( (i, j) \). We can analogously show that \( J \) contains \( A (r I_n) \).

  Therefore, \( I \) is also closed under multiplication with elements from \( R \).

  We conclude that \( I \) is an ideal of \( R \).

  \SubProofOf{thm:matrix_algebra_ideals/ring_to_matrix} Fix an ideal \( I \) of \( R \) and consider the matrix algebra \( I^{n \times n} \). It is clearly closed under addition. In order to show that it is an ideal of \( R^{n \times n} \), we must only show that it is closed under multiplication with \( n \times n \) matrices with coefficients from \( R \).

  Let \( A \) be a matrix from \( I^{n \times n} \) and \( B \) be a matrix from \( R^{n \times n} \). Every entry in \( AB \) is a linear combination of elements of \( R \) with coefficients from \( I \). Since \( I \) is a right ideal, it follows that \( I \) contains every entry in \( AB \), and hence \( AB \) belongs to \( I^{n \times n} \). Similarly, since \( I \) is a left ideal, it follows that it contains the entries of \( BA \), and hence \( BA \) belongs to \( I^{n \times n} \).

  Therefore, \( I^{n \times n} \) is an ideal of \( R^{n \times n} \).

  \SubProofOf{thm:matrix_algebra_ideals/isomorphism} Follows from \fullref{thm:lattice_isomorphism_characterization}.
\end{proof}

\paragraph{Radical ideals}

\begin{definition}\label{def:radical_of_ideal}\cite[def. VII.2.13]{Aluffi2009}
  In a \hyperref[def:ring/commutative]{commutative (semi)ring}, we define the \term[bg=радикал (\cite[15]{КоцевСидеров2016}), ru=радикал (\cite[173]{Костиркин1968Ленг})]{radical} of an ideal \( I \) as the ideal
  \begin{equation}\label{eq:def:radical_ideal}
    \sqrt I \coloneqq \set{ x \in R \given \qexists {n \geq 1} x^n \in I }.
  \end{equation}

  It is a \hyperref[def:moore_closure_operator]{Moore closure operator} for ideals.
\end{definition}
\begin{defproof}
  \SubProof{Proof that \( \sqrt I \) is an ideal}

  \SubProof*{Proof of multiplicative closure} If \( x \) belongs to \( \sqrt I \), then there exists a power \( x^n \) that belongs to \( I \). Let \( r \) be any member of \( R \). Then \( rx = rx^n \in I \) since \( I \) is closed with respect to multiplication.

  \SubProof*{Proof of additive closure} If \( x \) and \( y \) both belong to \( \sqrt I \), then there exist powers \( n \) and \( m \) such that \( x^n \in I \) and \( y^m \in I \). Let \( u \coloneqq n + m - 1 \). By \fullref{thm:binomial_theorem},
  \begin{equation*}
    (x + y)^u = \sum_{k=0}^u \binom u k x^k y^{u-k}.
  \end{equation*}

  \begin{itemize}
    \item If \( k < n \), then \( x^k y^{u-k} = (x^k y^{n - k - 1}) y^m \) and, since \( y^m \in I \), we have \( x^k y^{u-k} \in I \).
    \item If \( k \geq n \), then \( x^k y^{u-k} = x^n (x^{k-n} y^{u-k}) \) and, since \( x^n \in I \), we have \( x^k y^{u-k} \in I \).
  \end{itemize}

  Since \( I \) is closed under addition, \( (x + y)^u \in I \).

  \SubProof{Proof that \( \sqrt I \) is a closure of \( I \)}

  \SubProofOf*[def:extensive_function]{extensiveness} Clearly \( I \subseteq \sqrt I \).

  \SubProofOf*[def:binary_operation/idempotent]{idempotence} If \( x \in \sqrt {\sqrt I} \), then there exists some positive integer \( n \) such that \( x^n \in \sqrt I \). Similarly, there exists some \( m \) such that \( (x^n)^m \in I \). Then \( x^{nm} \in I \), hence \( x \in \sqrt I \).

  \SubProofOf*[def:order_homomorphism/increasing]{monotonicity} If \( I \subseteq J \) and \( x^n \in I \), then \( x^n \in J \). Therefore, \( \sqrt I \subseteq \sqrt J \).
\end{defproof}

\begin{definition}\label{def:radical_ideal}\cite[def. VII.2.13]{Aluffi2009}
  In a \hyperref[def:ring/commutative]{commutative (semi)ring}, we say that an ideal \( I \) is \term[ru=радикал (\cite[406]{Винберг2014})]{radical} if any of the following equivalent conditions hold:
  \begin{thmenum}
    \thmitem{def:radical_ideal/direct} If \( x^n \in I \) for some positive integer \( n \), then \( x \in I \).
    \thmitem{def:radical_ideal/radical} The \hyperref[def:radical_of_ideal]{radical} \( \sqrt I \) coincides with \( I \).
  \end{thmenum}
\end{definition}

\begin{proposition}\label{thm:prime_ideal_is_radical}
  In a \hyperref[def:ring/commutative]{commutative (semi)ring}, every \hyperref[def:semiring_ideal/prime]{prime ideal} is \hyperref[def:radical_ideal]{radical}.
\end{proposition}
\begin{proof}
  Let \( P \) be a prime ideal. Suppose that, for some positive integer \( n \) and some semiring element \( x \), we have \( x^n \in P \).

  We will use induction on \( n \) to show that \( x \) is in \( P \).
  \begin{itemize}
    \item The case \( n = 1 \) is obvious.
    \item Suppose that \( x^n \in P \) implies \( x \in P \) and suppose that \( x^{n+1} \in P \)

    Since \( P \) is prime and \( x^{n+1} = x \cdot x^n \), either \( x \in P \) or \( x^n \in P \). By the inductive hypothesis, the latter also implies that \( x \in P \).
  \end{itemize}

  Generalizing on \( x \) we conclude that \( P \) is a radical ideal.
\end{proof}

\begin{proposition}\label{thm:radical_ideal_is_intersection}
  The \hyperref[def:radical_of_ideal]{radical} \( \sqrt I \) of an ideal \( I \) in a commutative semiring coincides with the intersection of all \hyperref[def:semiring_ideal/prime]{prime ideals} that contain \( I \).
\end{proposition}
\begin{proof}
  \SubProof{Constructing the family of prime ideals} \Fullref{thm:maximal_ideal_theorem} implies that at least one maximal ideal contains \( I \), and \fullref{thm:def:semiring_ideal/maximal_is_prime} implies that this maximal ideal is prime. Then the family \( \seq{ P_k }_{k \in \mscrK} \) of all prime ideals that contain \( I \) is nonempty. We will show that \( I \) coincides with the intersection of this family.

  \SubProof{Proof that the intersection contains \( \sqrt I \)} Let \( x \) be in \( \sqrt I \). Then there exists some positive integer \( n \) such that \( x^n \in I \). Then \( x^n \) also belongs to every prime ideal \( P_k \) containing \( I \).

  \Fullref{thm:prime_ideal_is_radical} implies that, for every \( k \in \mscrK \), the prime ideal \( P_k \) is radical and thus \( x \) belongs to \( P_k \). Hence, \( x \) also belongs to their intersection.

  Generalizing on \( x \), we conclude that \( \sqrt I \subseteq \bigcap_{k \in \mscrK} P_k \).

  \SubProof{Proof that \( \sqrt I \) contains the intersection} Let \( x \) be in the intersection, that is, \( x \in P_k \) for every \( k \in \mscrK \). Aiming at a contradiction, suppose that \( x \) is not in \( \sqrt I \).

  Consider the following family of ideals:
  \begin{equation*}
    \mscrH \coloneqq \set{ J \T{is an ideal containing} I \given \qforall {n \geq 1} x^n \not\in J }.
  \end{equation*}

  It is nonempty because \( \sqrt I \in \mscrH \).

  For every chain of ideals in \( \mscrH \), their join is also an ideal in \( \mscrH \). By \fullref{thm:zorns_lemma}, \( \mscrH \) has a maximal element \( H \).

  \SubProof*{Proof that \( H \) is prime} We will show that, if neither \( a \) nor \( b \) belong to \( H \), neither does \( ab \).

  Clearly \( H \) is a strict subset of both \( H + \braket{ a } \) and \( H + \braket{ b } \), hence the latter two ideals are not in \( \mscrH \) --- otherwise this would contradict the maximality of \( H \). Then there exist some positive integers \( n \) and \( m \) such that \( x^n \in H + \braket{ a } \) and \( x^m \in H + \braket{ b } \).

  Then \( x^{n+m} \) is in
  \begin{equation*}
    (H + \braket{ a })(H + \braket{ b })
    \reloset {\ref{thm:semiring_of_ideals/semiring}} =
    H \cdot H + H \cdot \braket{ a } + H \cdot \braket{ b } + \braket{ a } \cdot \braket{ b }
    \reloset {\ref{thm:def:semiring_ideal/product_of_principal_ideals}} \subseteq
    H + \braket{ ab }.
  \end{equation*}

  Thus, \( x^{n+m} \) is in \( H + \braket{ ab } \) but not in \( H \). Then \( ab \) is also not in \( H \) --- if \( ab \) was in \( H \), then \( H \) would coincide with \( H + \braket{ ab } \).

  Therefore, we have shown that \( H \) is prime.

  \SubProof*{Proof of contradiction} We have shown that \( H \) is a prime ideal containing \( I \) but not \( x \), and we have assumed that every prime ideal containing \( I \) must contain \( x \). The obtained contradiction shows the following chain of conclusions:
  \begin{itemize}
    \item The ideal \( H \) does not exist.
    \item The family \( \mscrH \) must be empty.
    \item \( \sqrt I \) is not in \( \mscrH \).
    \item \( x \) belongs to \( \sqrt I \).
  \end{itemize}

  Generalizing on \( x \), we conclude that \( \bigcap_{k \in \mscrK} P_k \subseteq \sqrt I \).
\end{proof}

\begin{definition}\label{def:nilradical}\mcite[13]{КоцевСидеров2016}
  We define the \term[bg=нилрадикал, ru=нильпотентный радикал (\cite[406]{Винберг2014}), en=nilradical (\cite[expl. VII.2.14]{Aluffi2009})]{nilradical} of a \hyperref[def:ring/commutative]{commutative (semi)ring} as the \hyperref[def:radical_of_ideal]{radical} \( \sqrt {\braket{ 0 }} \) of the zero ideal, that is, the set of all elements \( x \) such that \( x^n = 0 \) for some positive integer \( n \).

  We call such elements \term{nilpotent}.
\end{definition}

\begin{example}\label{ex:def:radical_ideal}
  We list examples of \hyperref[def:radical_ideal]{radical ideal}.

  \begin{thmenum}
    \thmitem{ex:def:radical_ideal/natural_numbers} Suppose that the natural number \( m \) has a prime decomposition
    \begin{equation*}
      m = p_1^{k_1} \cdots p_n^{k_n}.
    \end{equation*}

    Then the radical of its principal ideal is
    \begin{equation*}
      \sqrt{ \braket{ p_1^{k_1} \cdots p_n^{k_n} } } = \braket{ p_1 \cdots p_n }.
    \end{equation*}

    Indeed, note that
    \begin{equation*}
      m = p_1^{k_1} \cdots p_n^{k_n} = (p_1^{k_1-1} \cdots p_n^{k_1-1}) (p_1 \cdots p_n).
    \end{equation*}

    Particular examples of this are
    \begin{itemize}
      \item The ideal \( { \braket{ 6 } } \) is radical. It is not prime since \( 2 \cdot 3 \) is in \( \braket{ 6 } \), but neither \( 2 \) nor \( 3 \) are.

      \item For any prime \( p \), \( \braket{ p } \) is radical

      \item For any prime power \( p^n \), \( \sqrt{\braket{ p^n }} = \braket{ p } \). For example, \( \sqrt{\braket{ 4 }} = \braket{ 2 } \).
    \end{itemize}

    \thmitem{ex:def:radical_ideal/matrices} Consider the matrix ring \( \BbbN^{2 \times 2} \). The matrix
    \begin{equation*}
      A \coloneqq
      \begin{pmatrix}
        0 & 1 \\
        0 & 0 \\
      \end{pmatrix}
    \end{equation*}
    is a \hyperref[def:radical_ideal]{nilpotent element} of \( \BbbN^{n \times n} \) because \( A^2 \) is the zero matrix.

    The transposed matrix \( A^T \) is also nilpotent. Their linear combinations are also nilpotent.
  \end{thmenum}
\end{example}
