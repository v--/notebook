\section{Abelian groups}\label{sec:abelian_groups}

\paragraph{Additive and multiplicative groups}

\begin{concept}\label{con:additive_semigroup}\mimprovised
  General groups often arise as \hyperref[def:automorphism_group]{automorphism groups}, which are, for the most part, non-commutative, while abelian groups often arise as the main building block for \hyperref[def:ring]{rings} and \hyperref[def:module]{modules}. The same holds for \hyperref[def:semigroup]{semigroups} and \hyperref[def:monoid]{monoids}.

  To make a further distinction, if the operation is denoted by \( \cdot \) or juxtaposition, we say that the semigroup is \term{multiplicative}, and if the operation is denoted by \( + \), we say that the group is \term{additive}. The latter usually, but not necessarily, coincides with the semigroup being \hyperref[def:binary_operation/commutative]{commutative}. The additive-multiplicative terminology also usually coincides with the additive and multiplicative (semi)groups in a \hyperref[def:semiring]{(semi)ring}.

  To make things explicit, a \enquote{multiplicative (semi)group} is any semigroup as defined in \cref{def:semigroup}. Compare this to \enquote{additive (semi)groups}, where
  \begin{thmenum}
    \thmitem{con:additive_semigroup/addition} The operation is denoted by \( + \) and called \term{addition}.

    \thmitem{con:additive_semigroup/multiplication} The \hyperref[def:semigroup/exponentiation]{exponentiation operation} \( x^n \) is denoted by \( n \cdot x \) or juxtaposition and called \term{multiplication}. Thus, multiplication is not defined for two elements of the semigroup, but defined for a nonnegative positive integer and an element of the semigroup. That is,
    \begin{equation}\label{eq:con:additive_semigroup/multiplication}
      \begin{aligned}
        &\cdot: \BbbN \times R \to R \\
        &n \cdot x \coloneqq \begin{cases}
          0_M,           &n = 0, \T{initial condition if} M \T{is a monoid} \\
          x,             &n = 1, \T{initial condition if} M \T{is not a monoid} \\
          n \cdot x + x, &n > 1 \\
          -(n \cdot x),  &n < 0, \\
        \end{cases}
      \end{aligned}
    \end{equation}

    In the case of a \hyperref[def:binary_operation/commutative]{commutative} \hyperref[def:monoid]{monoid}, if multiplication is extended to two elements of the monoid, we instead talk about \hyperref[def:semiring]{semirings}.

    \thmitem{con:additive_semigroup/neutral} The \hyperref[def:monoid]{neutral element} is usually denoted by \( 0 \).

    \thmitem{con:additive_semigroup/inverse} If an \hyperref[def:monoid_inverse]{inverse} of \( x \) exists, it is denoted by \( -x \) rather than \( x^{-1} \).
  \end{thmenum}
\end{concept}
\begin{comments}
  \item This distinction is used, among other places, in
  \cite[def. A I.1]{Bourbaki1998Algebra1to3},
  \cite[3]{Lang2002Algebra},
  \cite[228]{Rotman2017AdvancedModernAlgebraPart2},
  \cite[119]{Knapp2016BasicAlgebra},
  \cite[20]{Yoshida1980FunctionalAnalysis},
  \cite[\S 8.3]{Schechter1997AnalysisHandbook},
  \cite[107]{Проскуряков1951ТеоретическиеОсновыАрифметики},
  \cite[33]{Зорич2019АнализЧасть1},
  \cite[14]{Винберг2014КурсАлгебры},
  \cite{Шафаревич1999ОсновныеПонятияАлгебры},
  \cite[138]{Кострикин2000АлгебраЧасть1},
  \cite[89]{ЦаленкоШульгейфер1974ОсновыТеорииКатегорий},
  \cite[126]{БелоусовТкачёв2004ДискретнаяМатематика},
  \cite[378]{Обрешков1962ВисшаАлгебра} and
  \cite[74]{ГеновМиховскиМоллов1991Алгебра}.
\end{comments}

\begin{definition}\label{def:additive_function}\mimprovised
  We say that a function between \hyperref[con:additive_semigroup]{additive (semi)groups} is \term[en=additive (function) (\cite[\S 8.17]{Schechter1997AnalysisHandbook}), ru=аддитивный (функционал) (\cite[80]{Вулих1973ВещественныйАнализ})]{additive} if it is a \hyperref[def:semigroup/homomorphism]{semigroup homomorphism}. Explicitly, \( f: G \to H \) is additive if, for all \( x \) and \( y \) in \( G \), we have
  \begin{equation}\label{eq:def:additive_function}
    f(x + y) = f(x) + f(y).
  \end{equation}

  \begin{thmenum}
    \thmitem{def:additive_function/sub} If \( H \) is \hyperref[def:ordered_semigroup]{ordered}, we say that \( f \) is \term[bg=полуадитивна (функция) (\cite[162]{Тагамлицки1978ИнтегралноСмятане}), ru=полуаддитивная (функция) (\cite[80]{КанторовичАкилов1984ФункциональныйАнализ}), en=subadditive (function) (\cite[\S 8.17]{Schechter1997AnalysisHandbook})]{subadditive} if
    \begin{equation}\label{eq:def:additive_function/sub}
      f(x + y) \leq f(x) + f(y).
    \end{equation}

    \thmitem{def:additive_function/super} Similarly, we say that \( f \) is \term{superadditive} if
    \begin{equation}\label{eq:def:additive_function/super}
      f(x + y) \geq f(x) + f(y)
    \end{equation}
  \end{thmenum}
\end{definition}
\begin{comments}
  \item See the related concepts related to \hyperref[def:boolean_algebra]{Boolean algebras} in \cref{def:boolean_algebra_additive_function}. Unlike for \hyperref[def:multiplicative_function]{multiplicative functions}, confusion is unlikely because Boolean algebras are additive semigroups in a less obvious way than, for example, fields.

  \item Due to the relation to the \hyperref[def:triangle_inequality]{triangle inequality} shown in \cref{thm:subadditivity_to_triangle_inequality}, subadditivity is often called \enquote{the triangle inequality}. This is discussed in \cref{rem:triangle_inequality_terminology}.
\end{comments}

\begin{remark}\label{rem:additive_function_terminology}
  In \cref{def:additive_function}, we try to provide simple generalizations for additivity and subadditivity based on usage in the literature. We have added superadditivity for completeness, however it is a properly rarely mentioned at all.

  In the context of functions operating on scalars, we generalize the following:
  \begin{itemize}
    \item \incite[342]{ЛюстерникСоболев1965ФункциональныйАнализ} use \enquote{additivity} for \eqref{eq:def:additive_function}.

    \item \incite[\S 8.3]{Schechter1997AnalysisHandbook} uses \enquote{additive map} for functions between monoids satisfying \eqref{eq:def:additive_function}. Earlier, in \cite[\S 7.1]{Schechter1997AnalysisHandbook}, he uses \enquote{subadditive (function)} for real-valued functions on vector spaces satisfying \eqref{eq:def:additive_function/sub}.

    \item \incite[exerc. 2.7.38]{FriedbergInselSpence2018LinearAlgebra} use \enquote{additive} for a function between vector spaces satisfying \eqref{eq:def:additive_function}.

    \item \incite[exerc. 2.7.38]{FriedbergInselSpence2018LinearAlgebra} and \incite[122]{ЛюстерникСоболев1965ФункциональныйАнализ} use \enquote{additive} for a function between vector spaces satisfying \eqref{eq:def:additive_function}. Later \cite[342]{ЛюстерникСоболев1965ФункциональныйАнализ}

    \item \incite[def. 2.2.1]{HillePhillips1996FunctionalAnalysis} uses \enquote{additive transformation} for functions between \hyperref[con:additive_semigroup]{additive groups} satisfying \eqref{eq:def:additive_function}. Later in \cite[def. 2.5.1]{HillePhillips1996FunctionalAnalysis}, they use \enquote{subadditive functional} for real-valued linear functionals satisfying \eqref{eq:def:additive_function/sub}.

    \item \incite[def. 6.1.6(a)]{Tao2022AnalysisII} uses \enquote{additivity} in relation to linear maps between finite-dimensional real vector spaces (i.e. similarly to our usage in \cref{def:linear_function}).

    \item \incite[80]{КанторовичАкилов1984ФункциональныйАнализ} use \enquote{полуаддитивная функция} (\enquote{semiadditive function}) for real-valued (possibly nonlinear) functionals satisfying \eqref{eq:def:additive_function/sub}.

    \item \incite[25]{Rudin1991FunctionalAnalysis} and \incite[15]{Yoshida1980FunctionalAnalysis} use \enquote{subadditivity} for real-valued functions on vector spaces satisfying \eqref{eq:def:additive_function/sub} in the context of \hyperref[def:seminorm]{seminorms}.

    \item \incite[exerc. 5.2.15]{Carothers2000RealAnalysis} uses \enquote{additive function} for real-valued functions on \( \BbbR \) satisfying \eqref{eq:def:additive_function}.

    \item \incite[80]{Вулих1973ВещественныйАнализ} uses \enquote{additive functional} for real-valued linear functionals satisfying \eqref{eq:def:additive_function}.

    \item \incite[rem. 2.10]{HugWeil2020ConvexGeometry} use \enquote{subadditive function} for functions from \( \BbbR^n \) to \( (-\infty, \infty] \) satisfying \eqref{eq:def:additive_function/sub}.
  \end{itemize}

  In the context of \hyperref[def:measure]{measures}, where, as in \cref{def:boolean_algebra_additive_function}, we can take \( G \) to be \hyperref[def:boolean_algebra]{Boolean algebra} with union/join as the semigroup operation, \cref{def:additive_function} generalizes \hi{finitely additive} real-valued functions \hi{on disjoint sets}, as used in
  \cite[13]{Malliavin1995IntegrationAndProbability},
  \cite[25]{Folland1999RealAnalysis},
  \cite[7]{Cohn2013MeasureTheory},
  \cite[30]{Halmos1976MeasureTheory},
  \cite[6]{Tao2011MeasureTheory},
  \cite[71]{Yoshida1980FunctionalAnalysis},
  \cite[51]{КанторовичАкилов1984ФункциональныйАнализ},
  \cite[86]{Вулих1973ВещественныйАнализ} and
  \cite[thm. VI.2.3]{Натансон1974ВещественныйАнализ},
  \cite[15]{Боровков1999ТеорияВероятностей},
  \cite[def. 1.3.1]{Богачёв2003ОсновыТеорииМерыТом1},
  \cite[def. II.1.2]{Ширяев2007ВероятностьТом1} and
  \cite[21]{ДимитровЯнев2007ВероятностиИСтатистика}.

  \incite[\S 11.37]{Schechter1997AnalysisHandbook} even generalizes this usage to monoid-valued measures, while \incite[55]{Владимиров1969БулевыАлгебры} and \incite[56]{КусраевКутателадзе2005БулевозначныйАнализ} instead define real-valued additive functions on \hyperref[def:boolean_algebra]{Boolean algebras}.

  For \enquote{subadditive} the usage (regarding measures) is similar.
\end{remark}

\begin{definition}\label{def:multiplicative_function}\mimprovised
  We say that a function between \hyperref[con:additive_semigroup]{multiplicative (semi)groups} is \term{multiplicative} if it is a \hyperref[def:semigroup/homomorphism]{semigroup homomorphism}. Explicitly, \( f: G \to H \) is multiplicative if, for all \( x \) and \( y \) in \( G \), we have
  \begin{equation}\label{eq:def:multiplicative_function}
    f(xy) = f(x) \cdot f(y).
  \end{equation}

  \begin{thmenum}
    \thmitem{def:multiplicative_function/sub} Analogously to \cref{def:additive_function}, if \( H \) is \hyperref[def:ordered_semigroup]{ordered}, we say that \( f \) is \term{submultiplicative} if
    \begin{equation}\label{eq:def:multiplicative_function/sub}
      f(xy) \leq f(x) \cdot f(y).
    \end{equation}

    \thmitem{def:multiplicative_function/super} Similarly, we say that \( f \) is \term{supermultiplicative} if
    \begin{equation}\label{eq:def:multiplicative_function/super}
      f(xy) \geq f(x) \cdot f(y).
    \end{equation}
  \end{thmenum}
\end{definition}
\begin{comments}
  \item We should be careful in the context of \hyperref[def:arithmetic_function]{arithmetic functions}, where \enquote{multiplicative functions} are only required to satisfy \eqref{eq:def:multiplicative_function} for \hyperref[def:coprime_numbers]{coprime numbers}. As discussed in \cref{def:multiplicative_arithmetic_function}, in case of possible confusion, we can refer to functions satisfying this definition as \enquote{completely multiplicative}.
\end{comments}

\begin{remark}\label{rem:multiplicative_function_terminology}
  In analogy with additive functions in \cref{def:additive_function}, discussed in \cref{rem:additive_function_terminology}, in \cref{def:multiplicative_function} we provide an analogous definition for multiplicative semigroups.

  Our definition generalizes the following usage:
  \begin{itemize}
    \item The property \eqref{eq:def:multiplicative_function} is referred to as \enquote{multiplicativity} by \incite[342]{ЛюстерникСоболев1965ФункциональныйАнализ} and \incite{Кострикин2000АлгебраЧасть1}.

    \item Multiplicative complex-valued functions, as used by \incite[141]{Jacobson1985BasicAlgebraI}.

    \item Completely multiplicative arithmetic functions, as used by \incite[33]{Apostol1976AnalyticNumberTheory},
    \incite[exerc. 1.2.4.29]{Knuth1997ArtVol1},
    \incite[def. 37]{Бухштаб1966ТеорияЧисел} and \incite[exerc. 4.28]{ГашковЧубариков2005СложностьВычисления}.

    \item Multiplicative linear functionals, as used by \incite[240]{Engelking1989GeneralTopology},
    \incite[def. 4.14.1]{HillePhillips1996FunctionalAnalysis} and \incite[364]{Rudin1987RealAndComplexAnalysis}.
  \end{itemize}

  Submultiplicative functions are discussed without an explicit name in the context of Banach algebras by
  \incite[243]{Kelley1975GeneralTopology},
  \incite[def. 1.15.1]{HillePhillips1996FunctionalAnalysis},
  \incite[154]{Folland1999RealAnalysis},
  \incite[188]{Carothers2000RealAnalysis}.

  \incite[def. 18.1]{Rudin1987RealAndComplexAnalysis} and \incite[prop. 4]{Хелемский2014ФункциональныйАнализ} refer to \eqref{eq:def:multiplicative_function/sub} as \enquote{multiplicative inequality}.
\end{remark}

\paragraph{Abelian groups}

\begin{definition}\label{def:abelian_group}\mcite[119]{Knapp2016BasicAlgebra}
  \hyperref[def:binary_operation/commutative]{Commutative} \hyperref[def:group]{groups} are will called \term[bg=абелева группа (\cite[390]{Обрешков1962ВисшаАлгебра}), ru=абелева группа (\cite[def. 1.1.1]{Винберг2014КурсАлгебры})]{abelian groups}.
\end{definition}

\begin{proposition}\label{thm:category_of_abelian_groups}
  The \hyperref[def:category]{category} of \hyperref[def:abelian_group]{abelian groups}, which we will denote by \( \cat{Ab} \), is \hyperref[rem:category_similarity/isomorphism]{isomorphic} to the \hyperref[def:module/category]{category of modules} over \( \BbbZ \).
\end{proposition}
\begin{comments}
  \item Similar results include \cref{thm:commutative_monoid_is_semimodule} for commutative monoids and \cref{thm:ring_is_integer_algebra} for rings.
\end{comments}
\begin{proof}
  Follows from the similar proposition for commutative monoids \cref{thm:commutative_monoid_is_semimodule}.
\end{proof}

\begin{proposition}\label{thm:abelian_normal_subgroups}
  All subgroups of an abelian group are \hyperref[def:normal_subgroup]{normal}.
\end{proposition}
\begin{proof}
  Let \( G \) be abelian and \( H \) be a subgroup of \( G \). Then \( g h g^{-1} = gg^{-1} h = h \) for any \( g \in G \) and \( h \in H \), and thus \( H \) is normal.
\end{proof}

\begin{definition}\label{def:free_abelian_group}\mimprovised
  We associate with every \hyperref[def:set]{plain set} \( A \) its \term{free abelian group} defined as the \hyperref[def:free_semimodule]{free \( \BbbZ \)-module} \( \BbbZ^{\oplus A} \).
\end{definition}
\begin{comments}
  \item In accordance with \cref{rem:free_construction_univalence}, we refer to any module isomorphic to \( \BbbZ^{\oplus A} \) as \enquote{free}, and to \( \BbbZ^{\oplus A} \) itself as \enquote{the} free module.

  \item Similar to \hyperref[def:free_commutative_monoid]{free commutative monoids}, we regard \( \BbbZ^{\oplus A} \) only as a group, without generally considering scalars.
\end{comments}

\begin{theorem}[Free abelian group universal property]\label{thm:free_abelian_group_universal_property}
  Given a set \( A \), the \hyperref[def:free_abelian_group]{free abelian group} \( \BbbZ^{\oplus A} \) is the unique up to a unique isomorphism commutative monoid that satisfies the following \hyperref[rem:universal_mapping_property]{universal mapping property}:
  \begin{displayquote}
    For every abelian group \( G \) and every function \( e: A \to G \), there exists a unique group homomorphism \( \Phi_e: \BbbZ^{\oplus A} \to G \) such that the following diagram commutes:
    \begin{equation}\label{eq:thm:free_abelian_group_universal_property/diagram}
      \begin{aligned}
        \includegraphics[page=1]{output/thm__free_abelian_group_universal_property}
      \end{aligned}
    \end{equation}
  \end{displayquote}
\end{theorem}
\begin{comments}
  \item Via \cref{rem:universal_mapping_property}, \( A \mapsto \BbbN^{\oplus A} \) becomes \hyperref[def:category_adjunction]{left adjoint} to the \hyperref[def:concrete_category]{forgetful functor}
  \begin{equation*}
    U: \cat{Ab} \to \cat{Set}.
  \end{equation*}
\end{comments}
\begin{proof}
  Follows from \fullref{thm:free_semimodule_universal_property} by noting that, as shown in \cref{thm:abelian_group_is_module}, abelian groups are modules over \( \BbbZ \).
\end{proof}

\paragraph{Integers modulo \( n \)}

\begin{definition}\label{def:group_of_integers_modulo}
  Consider the abelian group of \hyperref[def:integers]{integers} \( \BbbZ \) under addition. For every positive integer \( n \), we define the group
  \begin{equation*}
    \BbbZ_n \coloneqq \set{ 0, 1, \ldots, n - 1 }
  \end{equation*}
  with the operation
  \begin{equation*}
    x \oplus y \coloneqq \rem(x + y, n)
  \end{equation*}
  so that
  \begin{equation*}
    x \oplus y \cong x + y \pmod n.
  \end{equation*}

  The group \( \BbbZ_n \) is called the \term{group of integers modulo} \( n \).
\end{definition}
\begin{comments}
  \item This result extends to rings --- see \cref{def:ring_of_integers_modulo}.
\end{comments}
\begin{defproof}
  We will prove that \( \BbbZ_n \) is an abelian group.

  \SubProofOf[def:binary_operation/associative]{associativity} Addition in \( \BbbZ_n \) is associative since
  \begin{balign*}
    (x \oplus y) \oplus z
    &=
    \rem((x \oplus y) + z, n)
    = \\ &=
    \rem(\rem(x + y, n) + z, n)
    = \\ &=
    \rem(x + y - n \cdot \quot(x + y, n) + z, n)
    = \\ &=
    \rem(x + y + z, n)
    = \\ &=
    \ldots
    = \\ &=
    x \oplus (y \oplus z).
  \end{balign*}

  \SubProof{Proof that \( 0 \) is the \hyperref[def:monoid]{neutral element}} Trivial.

  \SubProof{Proof that \( n - x \) is the \hyperref[def:monoid_inverse]{inverse}} Fix \( x \in \BbbZ_n \). If \( x = 0 \), its inverse is \( 0 \). If \( x > 0 \), its inverse is \( n - x \) since \( n - x \in \BbbZ_n \) and
  \begin{equation*}
    x \oplus (n - x) = x + (n - x) - n = 0.
  \end{equation*}

  \SubProofOf[def:binary_operation/commutative]{commutativity} Follows from
  \begin{equation*}
    x \oplus y
    =
    \rem(x + y, n)
    =
    \rem(y + x, n)
    =
    y \oplus x.
  \end{equation*}
\end{defproof}

\begin{proposition}\label{thm:integers_modulo_isomorphic_to_quotient_group}
  The group \hyperref[def:group_of_integers_modulo]{\( \BbbZ_n \)} of integers modulo \( n \) is isomorphic to the quotient of \( \BbbZ \) by the subgroup \( n\BbbZ = \set{ nz \given z \in \BbbZ } \), that is,
  \begin{equation*}
    \BbbZ_n \cong \BbbZ / n\BbbZ.
  \end{equation*}
\end{proposition}
\begin{proof}
  Define the function
  \begin{align*}
    &\varphi: \BbbZ_n \to \BbbZ / n\BbbZ  \\
    &\varphi(x) \coloneqq x + n\BbbZ.
  \end{align*}

  It is a homomorphism because
  \begin{balign*}
    \varphi(x \oplus y)
    &=
    \varphi(\rem(x + y, n))
    = \\ &=
    \varphi(x + y - n \cdot \quot(x + y, n))
    = \\ &=
    x + y - n \cdot \quot(x + y, n) + n\BbbZ
    = \\ &=
    x + y + n\BbbZ
    = \\ &=
    (x + n\BbbZ) + (y + n\BbbZ)
    = \\ &=
    \varphi(x) + \varphi(y).
  \end{balign*}

  Furthermore, this shows that \( \varphi \) is also an isomorphism.
\end{proof}

\begin{example}\label{ex:lagranges_theorem_for_groups/direct_product_zn}
  \Fullref{thm:lagranges_subgroup_theorem} and \cref{thm:integers_modulo_isomorphic_to_quotient_group} imply that, for any positive integer \( n \), \( (nm, k) \mapsto nm + k \) is a bijection between \( n \BbbZ \times \BbbZ_n \) and \( \BbbZ \). This bijection, however, is not necessarily a group isomorphism because \eqref{eq:def:semigroup/homomorphism} may not hold.

  Consider the tuples \( (nm_1, k_1) \) and \( (nm_2, k_2) \)  in \( n \BbbZ \times \BbbZ_n \). We have
  \begin{equation*}
    (nm_1, k_1) + (nm_2, k_2) = (nm_1 + nm_2, \rem(k_1 + k_2, n)).
  \end{equation*}

  Therefore, if \( k_1 + k_2 \geq n \),
  \begin{equation*}
    nm_1 + nm_2 + \rem(k_1 + k_2, n) < (nm_1 + k_1) + (nm_2 + k_2).
  \end{equation*}
\end{example}

\begin{proposition}\label{thm:cyclic_group_isomorphic_to_integers_modulo_n}
  The \hyperref[def:cyclic_group]{cyclic group} \( C_n \) is isomorphic to the group \hyperref[def:group_of_integers_modulo]{\( \BbbZ_n \)} of integers modulo \( n \).
\end{proposition}
\begin{proof}
  The homomorphism
  \begin{equation*}
    \begin{aligned}
      &\varphi: \BbbZ_n \to C_n \\
      &\varphi(k) \coloneqq a^k,
    \end{aligned}
  \end{equation*}
  and the analogous homomorphism for the infinite group, are isomorphisms.
\end{proof}

\paragraph{Grothendieck completion}

\begin{definition}\label{def:monoid_grothendieck_completion}\mcite[sec. 2.1]{LimaFilho1993TopologicalMonoids}
  Let \( M \) be a \hyperref[def:binary_operation/commutative]{commutative} \hyperref[def:monoid]{monoid}. Define the \hyperref[def:first_order_congruence]{congruence} \( \cong \) on tuples of members of \( M \) to hold for \( (a, b) \) and \( (a', b') \) if there exists an element \( u \) of \( M \) such that
  \begin{equation*}
    a + b' + u = a' + b + u.
  \end{equation*}

  The \hyperref[def:first_order_quotient]{quotient} \( \oline M \coloneqq M^2 / {\cong} \) is then an \hyperref[def:abelian_group]{abelian group}, called the \term{Grothendieck completion} of \( M \).

  As a canonical embedding, we choose
  \begin{equation*}
    \begin{aligned}
      &\iota_M: M \to \oline M \\
      &\iota_M(m) \coloneqq [(m, 0)].
    \end{aligned}
  \end{equation*}
\end{definition}
\begin{comments}
  \item The congruence \( {\cong} \) on \( M^2 \) is a submonoid of \( M^4 \).
\end{comments}
\begin{defproof}
  \SubProof{Proof that \( \cong \) is a congruence}
  \SubProofOf*[def:binary_relation/reflexive]{reflexivity}
  \begin{equation*}
    (a, b) \cong (a, b) \T{if and only if} a + b + 0 = a + b + 0
  \end{equation*}

  \SubProofOf*[def:binary_relation/symmetric]{symmetry} By commutativity, if \( (a, b) \cong (a', b') \), then there exists \( u \) such that
  \begin{equation*}
    a + b' + u = a' + b + u
    =
    a' + b + u = a + b' + u,
  \end{equation*}
  hence \( (a', b') \cong (a, b) \).

  \SubProofOf*[def:binary_relation/transitive]{transitivity} Suppose that \( (a, b) \cong (a', b') \) and \( (a', b') \cong (a^\dprime, b^\dprime) \). Thus, there exist elements \( u \) and \( v \) of \( M \) such that
  \begin{align*}
    a + b' + u         &= a' + b + u, \\
    a' + b^\dprime + v &= a^\dprime + b' + v.
  \end{align*}

  Summing both sides, we obtain
  \begin{equation*}
    (a + b' + u) + (a' + b^\dprime + v) = (a' + b + u) + (a^\dprime + b' + v)
  \end{equation*}

  We reorder both sides to obtain
  \begin{equation*}
    (a + b^\dprime) + (a' + b' + u + v) = (a^\dprime + b) + (a' + b' + u + v),
  \end{equation*}
  which implies \( (a, a^\dprime) \cong (b, b^\dprime) \).

  \SubProofOf*[def:first_order_congruence/direct]{compatibility} Let \( (a, b) \cong (a', b') \) and \( (c, d) \cong (c', d') \). There exist elements \( u \) and \( v \) of \( M \) such that
  \begin{align*}
    a + b' + u &= a' + b + u, \\
    c' + d + v &= c + d' + v.
  \end{align*}

  Then
  \begin{equation*}
    (a + c) + (b' + d') + (u + v) = (a' + c') + (b + d) + (u + v),
  \end{equation*}
  therefore
  \begin{equation*}
    (a + c, b + d) \cong (a' + c', b' + d').
  \end{equation*}

  \SubProof{Proof that \( \oline M \) is a group} In order for \( \oline M \) to be a group, every element \( [(a, b)] \) must be invertible.

  In the direct product \( M^2 \), the sum of \( (a, b) \) and \( (b, a) \) is \( (a + b, b + a) \), which is equivalent via \( {\cong} \) to \( (e_M, e_M) \) because, due to commutativity in \( M \),
  \begin{equation*}
    (a + b) + e_M = e_M + (b + a).
  \end{equation*}

  Therefore, \( [(b, a)] \) is the two-sided inverse of \( [(a, b)] \).

  \SubProof{Proof that \( \oline M \) is \hyperref[def:binary_operation/commutative]{commutative}} Follows from the commutativity of \( M \).
\end{defproof}

\begin{theorem}[Grothendieck monoid completion universal property]\label{thm:grothendieck_monoid_completion_universal_property}\mcite[sec. 2.1]{LimaFilho1993TopologicalMonoids}
  The \hyperref[def:monoid_grothendieck_completion]{Grothendieck completion} \( \oline{M} \) of a commutative monoid \( M \) satisfies the following \hyperref[rem:universal_mapping_property]{universal mapping property}:
  \begin{displayquote}
    For every abelian group \( G \) and every monoid homomorphism \( \varphi: M \to G \), there exists a unique \hyperref[def:group/homomorphism]{group homomorphism} \( \widetilde{\varphi}: \oline{M} \to G \) such that the following diagram commutes:
    \begin{equation}\label{eq:thm:grothendieck_monoid_completion_universal_property/diagram}
      \begin{aligned}
        \includegraphics[page=1]{output/thm__grothendieck_monoid_completion_universal_property}
      \end{aligned}
    \end{equation}
  \end{displayquote}
\end{theorem}
\begin{comments}
  \item Via \cref{rem:universal_mapping_property}, \( \oline{\anon} \) becomes \hyperref[def:category_adjunction]{left adjoint} to the \hyperref[def:concrete_category]{forgetful functor}
  \begin{equation*}
    U: \cat{Ab} \to \cat{CMon}.
  \end{equation*}

  \item This result specializes to \hyperref[def:semiring]{semirings} in \fullref{thm:grothendieck_semiring_completion_universal_property}.
\end{comments}
\begin{proof}
  Let \( \varphi: M \to G \) be a monoid homomorphism into an abelian group \( G \). We want to define a homomorphism \( \oline{\varphi} \) such that
  \begin{equation*}
    \oline{\varphi}(\iota_M(a)) = \oline{\varphi}([(a, 0)]) = \varphi(a).
  \end{equation*}

  Each equivalence class \( C \) in \( G \) has a unique member \( a \) such that \( (a, 0) \in C \), hence the above condition is well-posed.

  Fix pairs \( (a, b) \) and \( (a', b') \) from \( M^2 \). Suppose that \( (a, b) \cong (a', b') \). Then there exists \( u \in M \) such that
  \begin{equation*}
    a + b' + u = a' + b + u.
  \end{equation*}

  An additional restriction on \( \oline{\varphi} \) is then
  \begin{equation*}
    \oline{\varphi}([(a, b)])
    =
    \oline{\varphi}([(a', b')]).
  \end{equation*}

  We need to cancel out \( u \). This uniquely determines \( \oline{\varphi} \) as
  \begin{equation*}
    \oline{\varphi}([(a, b)]) \coloneqq \varphi(a) - \varphi(b).
  \end{equation*}
\end{proof}

\paragraph{Group abelianization}

\begin{definition}\label{def:group_commutator}\mcite[313]{Knapp2016BasicAlgebra}
  Let \( G \) be an arbitrary group. We define the \term[ru=коммутант (\cite[104]{Мальцев1970АлгебраическиеСистемы})]{commutator} of the elements \( x \) and \( y \) as
  \begin{equation*}
    [x, y] \coloneqq \underbrace{xy(yx)^{-1}}_{xyx^{-1}y^{-1}}.
  \end{equation*}

  We call the subgroup \hyperref[def:group/submodel]{generated} by all the commutators in \( G \) the \term{commutator subgroup} and denote it by \( [G, G] \).
\end{definition}
\begin{comments}
  \item Compare this definition to ring commutators defined in \cref{def:ring_commutator}.
\end{comments}

\begin{example}\label{ex:def:group_commutator}
  We list some examples of \hyperref[def:group_commutator]{commutators} in groups:
  \begin{thmenum}
    \thmitem{ex:def:group_commutator/gl2} Consider the following two matrices from the \hyperref[def:linear_groups]{general linear group} \( \grp{GL}_\BbbZ(2) \):
    \begin{align*}
      A \coloneqq \begin{pmatrix} 1 & 1 \\ 0 & 1 \end{pmatrix},
      &&
      B \coloneqq \begin{pmatrix} 1 & 1 \\ 1 & 0 \end{pmatrix}.
    \end{align*}

    We will study the commutator of \( A \) and \( B \). First, note that
    \begin{align*}
      AB = \begin{pmatrix} 2 & 1 \\ 1 & 0 \end{pmatrix},
      &&
      BA = \begin{pmatrix} 1 & 2 \\ 1 & 1 \end{pmatrix}.
    \end{align*}

    To compute the commutator, we find the inverse matrix of \( BA \). \Cref{thm:inverse_of_2x2_matrix} implies that
    \begin{equation*}
      (BA)^{-1}
      =
      \frac 1 {1 - 2} \cdot \begin{pmatrix} 1 & -2 \\ -1 & 1 \end{pmatrix}
      =
      \begin{pmatrix} -1 & 2 \\ 1 & -1 \end{pmatrix}.
    \end{equation*}

    Therefore,
    \begin{equation*}
      [A, B]
      =
      ABA^{-1}B^{-1}
      =
      (AB) (BA)^{-1}
      =
      \begin{pmatrix} 2 & 1 \\ 1 & 0 \end{pmatrix}
      \cdot
      \begin{pmatrix} -1 & 2 \\ 1 & -1 \end{pmatrix}
      =
      \begin{pmatrix} -1 & 3 \\ -1 & 2 \end{pmatrix}.
    \end{equation*}

    \thmitem{ex:def:group_commutator/s3} Consider the \hyperref[def:symmetric_group]{symmetric group} \( S_3 \) discussed in \cref{ex:s3}.

    To obtain its commutator subgroup, we must compute \( \sigma \rho \sigma^{-1} \rho^{-1} \) for any pair of permutations \( \sigma \) and \( \rho \), however this computation can be vastly simplified.

    First, note that transpositions are involutions, while the two \( 3 \)-cycles in \( S_3 \) are each other's inverses. In other words, the permutation \( \sigma \) is odd if and only if \( \sigma^{-1} \) is odd.

    \Cref{thm:permutation_product_parity} implies that \( \sigma \rho \) is odd if and only if \( \sigma \) and \( \rho \) have different signs odd, and similarly for \( \sigma^{-1} \rho^{-1} \). Therefore, the signs of \( \sigma \rho \) and \( \sigma^{-1} \rho^{-1} \) match.

    Applying \cref{thm:permutation_product_parity} again, we conclude that product \( (\sigma \rho) (\sigma^{-1} \rho^{-1}) \) is always an even permutation.

    Hence, every commutator in \( S_3 \) is an even permutation. We can easily show that every even permutation in \( S_3 \) occurs as a commutator:
    \begin{itemize}
      \item The identity \( \id \) occurs as the commutator of \( \cycle{ 1, 2 } \) and \( \cycle{ 1, 2 } \).
      \item \( \cycle{ 1, 2, 3 } \) occurs as the commutator of \( \cycle{ 1, 2 } \) and \( \cycle{ 1, 3 } \):
      \begin{equation*}
        \parens[\big]{ \cycle{ 1, 2 } \bincirc \cycle{ 1, 3 } } \bincirc \parens[\big]{ \cycle{ 1, 2 } \bincirc \cycle{ 1, 3 } }
        =
        \cycle{ 1, 3, 2 } \bincirc \cycle{ 1, 3, 2 }
        =
        \cycle{ 1, 2, 3 }.
      \end{equation*}

      \item \( \cycle{ 1, 3, 2 } \) occurs as the commutator of \( \cycle{ 1, 2 } \) and \( \cycle{ 2, 3 } \):
      \begin{equation*}
        \parens[\big]{ \cycle{ 1, 2 } \bincirc \cycle{ 2, 3 } } \bincirc \parens[\big]{ \cycle{ 1, 2 } \bincirc \cycle{ 2, 3 } }
        =
        \cycle{ 1, 2, 3 } \bincirc \cycle{ 1, 2, 3 }
        =
        \cycle{ 1, 3, 2 }.
      \end{equation*}
    \end{itemize}

    Therefore, the commutator subgroup of \( S_3 \) is simply the alternative group \( A_3 \).
  \end{thmenum}
\end{example}

\begin{proposition}\label{thm:commutator_subgroup_is_normal}
  The \hyperref[def:group_commutator]{commutator subgroup} of any group is \hyperref[def:normal_subgroup]{normal}.
\end{proposition}
\begin{proof}
  Let \( G \) be an arbitrary group. Fix \( g \) from \( G \) and \( n \) from \( [G, G] \). Via \fullref{thm:induction_on_generated_substructures}, we will show that the conjugate \( g n g^{-1} \) belongs to \( [G, G] \).

  \begin{itemize}
    \item If \( n = [x, y] \), then
    \begin{equation*}
      g n g^{-1}
      =
      g(xyx^{-1}y^{-1})g^{-1}
      =
      (gxg^{-1}) (gyg^{-1}) (\underbrace{gx^{-1}g^{-1}}_{(gxg^{-1})^{-1}}) (\underbrace{gy^{-1}g^{-1}}_{(gxg^{-1})^{-1}})
      =
      [gxg^{-1}, gyg^{-1}].
    \end{equation*}

    Hence, \( gng^{-1} \) is a commutator and thus also belongs to \( [G, G] \).

    \item Suppose that \( n = n_1 \cdot n_2 \) for some elements \( n_1 \) and \( n_2 \) of \( [G, G] \) and suppose that the inductive hypothesis holds for \( n_1 \) and \( n_2 \).

    Since \( n_1 \) and \( n_2 \) belong to \( N \), the inductive hypothesis implies that \( g n_1 g^{-1} \) and \( g n_2 g^{-1} \) also do. Then so does
    \begin{equation*}
      gng^{-1}
      =
      g n_1 n_2 g^{-1}
      =
      g n_1 g^{-1} \cdot g n_2 g^{-1}.
    \end{equation*}
  \end{itemize}
\end{proof}

\begin{proposition}\label{thm:quotient_is_abelian_iff_subgroup_contains_commutator}
  The \hyperref[def:group/quotient]{quotient} \( G / N \) of a \hyperref[def:group]{group} is \hyperref[def:abelian_group]{abelian} if and only if \( N \) contains the \hyperref[def:group_commutator]{commutator subgroup} \( [G, G] \) of \( G \).
\end{proposition}
\begin{comments}
  \item Compare this to \cref{thm:quotient_is_abelian_iff_ideal_contains_commutator} for ring commutators.
\end{comments}
\begin{proof}
  \SufficiencySubProof Suppose that \( G / N \) is abelian. Fix two elements \( x \) and \( y \) of \( G \).

  Due to commutativity, we have
  \begin{equation*}
    xyN = xN \cdot yN = yN \cdot xN = yxN.
  \end{equation*}

  Then
  \begin{equation*}
    N = xyN \cdot (yxN)^{-1} = (xy(yx)^{-1})N,
  \end{equation*}
  which implies that the commutator \( xy(yx)^{-1} \) belongs to \( N \).

  Since \( x \) and \( y \) were arbitrary, we conclude that the commutator subgroup \( [G, G] \) belongs to \( N \).

  \NecessitySubProof Suppose that \( [G, G] \subseteq N \). Fix two elements \( x \) and \( y \) of \( G \).

  We have
  \begin{equation*}
    xy = \underbrace{xy (yx)^{-1}}_{[x, y]} yx,
  \end{equation*}
  hence \( xy \) belongs to
  \begin{equation*}
    Nyx
    \reloset {\ref{thm:normal_subgroup_left_right_cosets}} =
    yxN
    =
    yN \cdot xN.
  \end{equation*}

  But
  \begin{equation*}
    xy \in xyN = xN \cdot yN.
  \end{equation*}

  The cosets \( xyN \) and \( yxN \) intersect, and, as equivalence classes, they can only be equal.

  Therefore,
  \begin{equation*}
    xN \cdot yN = yN \cdot xN,
  \end{equation*}
  which shows that \( G / N \) is abelian.
\end{proof}

\begin{definition}\label{def:group_abelianization}\mcite[example 2.1.3(b)]{Leinster2014BasicCategoryTheory}
   We define the \term{abelianization} of a group \( G \) as its \hyperref[def:group/quotient]{quotient} \( G / [G, G] \) by its \hyperref[def:group_commutator]{commutator group} \( [G, G] \).
\end{definition}
\begin{comments}
  \item \Cref{thm:quotient_is_abelian_iff_subgroup_contains_commutator} implies that \( G / [G, G] \) is abelian, which justifies the name.
  \item Compare this ring group abelianization from \cref{def:ring_abelianization}.
\end{comments}
\begin{defproof}
  \Cref{thm:commutator_subgroup_is_normal} implies that \( [G, G] \) is normal, hence we are allowed to take quotients.
\end{defproof}

\begin{theorem}[Group abelianization universal property]\label{thm:group_abelianization_universal_property}\mcite[prop. 7.4]{Knapp2016BasicAlgebra}
  The \hyperref[def:group_abelianization]{abelianization} \( G / [G, G] \) of a group \( G \) satisfies the following \hyperref[rem:universal_mapping_property]{universal mapping property}:
  \begin{displayquote}
    For every abelian group \( H \), every \hyperref[def:group/homomorphism]{group homomorphism} \( \varphi: G \to H \) \hyperref[def:factors_through]{uniquely factors through} \( G / [G, G] \). More precisely, there exists a unique group homomorphism \( \widetilde{\varphi}: G / [G, G] \to H \) such that the following diagram commutes:
    \begin{equation}\label{eq:thm:group_abelianization_universal_property/diagram}
      \begin{aligned}
        \includegraphics[page=1]{output/thm__group_abelianization_universal_property}
      \end{aligned}
    \end{equation}
  \end{displayquote}
\end{theorem}
\begin{comments}
  \item Via \cref{rem:universal_mapping_property}, the abelianization functor becomes \hyperref[def:category_adjunction]{left adjoint} to the \hyperref[def:concrete_category]{forgetful functor}
  \begin{equation*}
    U: \cat{Ab} \to \cat{Grp}.
  \end{equation*}

  \item Compare this result to \fullref{thm:ring_abelianization_universal_property} for ring abelianization.
\end{comments}
\begin{proof}
  Let \( H \) be an abelian group and let \( \varphi: G \to H \) be a group homomorphism.

  We want \( \oline{\varphi}: G / [G, G] \to H \) to satisfy
  \begin{equation}\label{eq:thm:group_abelianization_universal_property/homomorphism}
    \oline{\varphi}(\pi_G(x)) = \varphi(x).
  \end{equation}

  In order to use \eqref{eq:thm:group_abelianization_universal_property/homomorphism} as a definition, we must prove that \( x \cong y \pmod {[G, G]} \) implies that \( \varphi(x) = \varphi(y) \), that is, that \( xy^{-1} \in [G, G] \) implies \( \varphi(xy^{-1}) = e_H \). We will show via \fullref{thm:induction_on_generated_substructures} on \( n \in [G, G] \) that \( \varphi(n) = e_H \).
  \begin{itemize}
    \item If \( n = [x, y] \), then, by the commutativity of \( H \),
    \begin{equation*}
      \varphi(n)
      =
      \varphi(x) \varphi(y) \cdot \varphi(x)^{-1} \cdot \varphi(y)^{-1}
      =
      \parens[\Big]{ \varphi(x) \cdot \varphi(x)^{-1} } \cdot \parens[\Big]{ \varphi(y) \cdot \varphi(y)^{-1} }
      =
      e_H.
    \end{equation*}

    \item If \( n = n_1 \cdot n_2 \) for \( n_1 \) and \( n_2 \) from \( [G, G] \) and if the inductive hypothesis holds for \( n_1 \) and \( n_2 \), then
    \begin{equation*}
      \varphi(n)
      =
      \varphi(n_1) \cdot \varphi(n_2)
      =
      e_H \cdot e_H
      =
      e_H.
    \end{equation*}
  \end{itemize}

  Therefore, the function \( \oline{\varphi} \) is well-defined via \eqref{thm:group_abelianization_universal_property}.
\end{proof}

\paragraph{Finitely generated abelian groups}

\begin{theorem}[Fundamental theorem of finitely generated abelian groups]\label{thm:fundamental_theorem_of_finitely_generated_abelian_groups}\mcite[thm. 2.14.1]{Тыртышников2017ОсновыАлгебры}
  If an \hyperref[def:abelian_group]{abelian group} \( G \) is \hyperref[def:semimodule/generated]{finitely generated}, then, for some positive integer \( n \), \( G \) is (isomorphic to) a \hyperref[def:semimodule_direct_sum]{direct sum} of \hyperref[def:cyclic_group]{cyclic groups}, i.e.
  \begin{equation}\label{eq:thm:fundamental_theorem_of_finitely_generated_abelian_groups}
    G \cong G_1 \oplus \cdots \oplus G_n,
  \end{equation}
  where, for every \( k = 1, \ldots, n - 1 \), if \( G_{k+1} \) is finite, so is \( G_k \), and the order of \( G_k \) divides the order of \( G_{k+1} \).
\end{theorem}
\begin{comments}
  \item This is generally not a \( \BbbZ \)-\hyperref[def:hamel_basis]{basis} of \( G \) unless all groups are infinite.
\end{comments}
\begin{proof}
  Let \( n \) be the size of the smallest generating set of \( G \). We will use induction on \( n \).

  The case \( n = 1 \) is trivial since \( G \) itself is a cyclic group in this case. Suppose that \( n > 0 \) and that the proposition holds for groups whose minimal generating set has size \( n - 1 \).

  Let \( \mscrG \subseteq G^n \) be the family of \( n \)-tuples \( (a_1, \ldots, a_n) \) such that \( \set{ a_1, \ldots, a_n } \) is a generating set of \( G \). All elements of a generating tuple \( (a_1, \ldots, a_n) \) must be different due to the minimality of \( n \).

  For a concrete generating tuple \( (a_1, \ldots, a_n) \) in \( G \), denote by \( \mscrS(a_1, \ldots, a_n) \) the set of \( n \)-tuples of integers \( (m_1, \ldots, m_n) \) that solve the equation
  \begin{equation}\label{eq:thm:fundamental_theorem_of_finitely_generated_abelian_groups/proof/equation_general}
    m_1 a_1 + \cdots + m_n a_n = 0_G.
  \end{equation}

  If \( \mscrS(a_1, \ldots, a_n) \) contains only the empty solution for some concrete generating tuple, then \( G \) is isomorphic to the direct sum\fnote{This is also (isomorphic to) the \hyperref[def:free_abelian_group]{free abelian group} over the set \( \set{ a_1, \ldots, a_n } \).}
  \begin{equation*}
    \braket{ a_1 } \oplus \cdots \oplus \braket{ a_n }.
  \end{equation*}

  This case is also trivial.

  Suppose otherwise. Then there exists a generating tuple \( (a_1, \ldots, a_n) \) for which there is a nontrivial solution \( (m_1, \ldots, m_n) \) in \( \mscrS(a_1, \ldots, a_n) \). Without loss of generality, we may assume that the first coefficient \( m_1 \) is nonzero because \( \mscrG \) contains all permutations of \( (a_1, \ldots, a_n) \). Furthermore, we may even suppose that \( m_1 \) is positive because, if \( (m_1, \ldots, m_n) \) is a solution, so is \( (-m_1, \ldots, -m_n) \).

  We are interested in minimizing \( m_1 \). Let \( \mu(a_1, \ldots, a_n) \) be the minimal nonnegative value of \( m_1 \) among all solutions in \( \mscrS(a_1, \ldots, a_n) \) for a fixed generating tuple. Let \( \nu \) be the minimal \hi{positive} value of \( \mu(a_1, \ldots, a_n) \) among all generating tuples in \( \mscrG \). Finally, choose \( (a_1, \ldots, a_n) \in \mscrG \) and \( (s_1, \ldots, s_n) \in \mscrS(a_1, \ldots, a_n) \) such that \( s_1 = \nu \).

  Then \( s_1 \) is the smallest possible positive integer such that
  \begin{equation}\label{eq:thm:fundamental_theorem_of_finitely_generated_abelian_groups/proof/equation_specific}
    s_1 a_1 + \cdots + s_n a_n = 0_G.
  \end{equation}

  \SubProof{Proof that \( s_1 \) divides the first coordinates in \( \mscrS(a_1, \ldots, a_n) \)} Fix a solution \( (m_1, \ldots, m_n) \) from \( \mscrS(a_1, \ldots, a_n) \).

  \Fullref{alg:integer_division} gives us integers \( q \) and \( 0 \leq r < s_1 \) such that \( m_1 = qs_1 + r \). We have
  \begin{equation*}
    (\underbrace{m_1 - q s_1}_r) a_1 + \cdots + (m_n - q s_n) a_n = 0_G,
  \end{equation*}
  which contradicts the minimality of \( s_1 \) unless \( r = 0 \). Thus, \( m_1 = q s_1 \), as desired.

  \SubProof{Proof that \( s_1 \) divides the coordinates of each solution \( (s_1, m_2, \ldots, m_n) \)} Let \( (s_1, m_2, \ldots, m_n) \) be a solution from \( \mscrS(a_1, \ldots, a_n) \). Note that the first coordinate must be \( s_1 \).

  \Fullref{alg:integer_division} gives us integers \( q \) and \( 0 \leq r < s_1 \) such that \( m_k = q s_1 + r \).

  Fix any group element
  \begin{equation*}
    x = p_1 a_1 + \cdots + p_k a_k + \cdots + p_n a_n.
  \end{equation*}

  After adding and subtracting \( p_1 q a_k \), we obtain an expression of \( x \) hinting at a different generating set
  \begin{equation*}
    x = p_1 (a_1 + q a_k) + \cdots + (p_k - p_1 q) a_k + \cdots + p_n a_n.
  \end{equation*}

  Then \( a_k, \ldots, (a_1 + q a_k), \ldots, a_n \) is also a generating tuple for \( G \), and
  \begin{equation*}
    0_G
    =
    s_1 a_1 + \cdots + (\underbrace{q s_1 + r}_{m_k}) a_k + \cdots + m_n a_n
    =
    r a_k + \cdots + s_1 (a_1 + q a_k) + \cdots + m_n a_n.
  \end{equation*}

  Since \( r < s_1 \), then \( r \) must be \( 0 \) due to the minimality of \( s_1 \).

  But if \( r = 0 \), then \( m_k = q s_1 \), i.e. \( s_1 \) divides \( m_k \).

  \SubProof{Construction of the direct product} Let \( s_k = q_k s_1 \) for \( k = 2, \ldots, n \). Define
  \begin{equation*}
    b \coloneqq a_1 + q_2 a_2 + \cdots + q_n a_n.
  \end{equation*}

  We have
  \begin{equation*}
    s_1 b = s_1 a_1 + \underbrace{s_1 q_2}_{s_2} a_2 + \cdots + \underbrace{s_1 q_n}_{s_n} a_n = 0_G.
  \end{equation*}

  Furthermore, if \( mb = 0_G \) for \( 0 < m < s_1 \), this would again contradict the minimality of \( s_1 \). We have thus constructed an element \( b \) of order \( s_1 \).

  Moreover, any group element
  \begin{equation*}
    x = p_1 a_1 + p_2 a_2 + \cdots + p_n a_n,
  \end{equation*}
  can be expressed as
  \begin{align*}
    x
    &=
    p_1 a_1 + p_1 q_2 a_2 + (p_2 - p_1 q_2) a_2 + \cdots + p_1 q_n a_n + (p_n - p_1 q_n) a_n
    = \\ &=
    p_1 (\underbrace{a_1 + q_2 a_2 + \cdots + q_n a_n)}_b + (p_2 - q_2 p_1) a_2 + \cdots + (p_n - q_n p_1) a_n.
  \end{align*}

  Therefore, \( (b, a_2, \ldots, a_n) \) is also a generating tuple of \( G \). Furthermore, for every solution tuple \( (m_1, \ldots, m_n) \) from \( \mscrS(b, a_2, \ldots, a_n) \), we have
  \begin{equation}\label{eq:thm:fundamental_theorem_of_finitely_generated_abelian_groups/proof/final_sum}
    m_1 b + m_2 a_2 + \cdots + m_n a_n = 0_G,
  \end{equation}
  hence, expanding \( b \),
  \begin{equation}\label{eq:thm:fundamental_theorem_of_finitely_generated_abelian_groups/proof/final_sum_decomposition}
    m_1 a_1 + (m_2 + q_2 m_1) a_2 + \cdots + (m_n + q_n m_1) a_n = 0_G.
  \end{equation}

  We have shown that \( s_1 \) divides the first coordinate of every member of \( \mscrS(a_1, \ldots, a_n) \), thus in particular \( s_1 \) divides \( m_1 \). Let \( q \) be their quotient. Then \eqref{eq:thm:fundamental_theorem_of_finitely_generated_abelian_groups/proof/final_sum_decomposition} becomes
  \begin{equation*}
    q(\underbrace{s_1 a_1 + \overbrace{q_2 s_1}^{s_2} a_2 + \cdots + \overbrace{q_n s_1}^{s_n} a_n}_{0_G}) + m_2 a_2 + \cdots + m_n a_n = 0_G.
  \end{equation*}

  Therefore, irrespective of the value of \( m_1 \), if \eqref{eq:thm:fundamental_theorem_of_finitely_generated_abelian_groups/proof/final_sum} holds, then
  \begin{equation*}
    m_2 a_2 + \cdots = m_n a_n = 0_G.
  \end{equation*}

  This implies that \( \braket{ b } \) and \( \braket{ a_2, \ldots, a_n } \) only intersect at \( \set{ O_G } \); hence, \cref{thm:internal_binary_semimodule_direct_sum} implies that
  \begin{equation*}
    G \cong \braket{ b } \oplus \braket{ a_2, \ldots, a_n }.
  \end{equation*}

  By the inductive hypothesis, there exist cyclic groups \( G_2, \ldots, G_n \) such that
  \begin{equation*}
    G \cong \braket{ b } \oplus G_2 \oplus \cdots \oplus G_n,
  \end{equation*}
  where, for \( k = 2, \ldots, n - 1 \) if \( G_{k+1} \) is finite, so is \( G_k \), and the order of \( G_k \) divides the order of \( G_{k+1} \).

  \SubProof{Proof of condition on orders} If \( G_2 \) is infinite, there is nothing to prove.

  Otherwise, we must show that \( s_1 \), the order of \( b \), divides the order of \( G_2 \).

  Let \( g \) be a generator of \( G_2 \). Denote its order by \( h \). This generator \( g \) can be decomposed along \( a_2, \ldots, a_n \):
  \begin{equation*}
    g = p_2 a_2 + \cdots + p_n a_n.
  \end{equation*}

  Let \( l \) be the largest power of \( s_1 \) that divides \( p_2, \ldots, p_n \). Denote the quotient of \( p_k \) and \( s_1^l \) by \( t_k \), and let
  \begin{equation*}
    g' \coloneqq t_2 a_2 + \cdots + t_n a_n.
  \end{equation*}

  Since \( g = s_1^l g' \), clearly \( g' \) is also a generator of \( G_2 \), thus it must have the same order as \( g \), i.e. \( h g' = 0_G \).

  Summing \( h g = 0_G \) with \( s_1 b = 0_G \), we obtain
  \begin{equation*}
    s_1 a_1 + (s_2 + h t_2) a_2 + \cdots + (s_n + h t_n) a_n = 0_G.
  \end{equation*}

  By what we have already shown, \( s_1 \) must divide \( s_k + h t_k \) for \( k = 2, \ldots, n \). We know it divides \( s_k \), so it must also divide \( h t_k \). By \cref{thm:euclids_lemma}, either \( s_1 \) divides \( h \) or each of \( t_1, \ldots, t_n \); but, by construction, at least one index \( k \) exists for which \( s_1 \) does not divide \( t_k \).

  Therefore, \( s_1 \) divides \( h \), which is precisely what we wanted to prove.
\end{proof}

\begin{example}\label{ex:thm:fundamental_theorem_of_finitely_generated_abelian_groups}
  We list some examples related to \fullref{thm:fundamental_theorem_of_finitely_generated_abelian_groups}:
  \begin{thmenum}
    \thmitem{ex:thm:fundamental_theorem_of_finitely_generated_abelian_groups/zn} A simple example is the \hyperref[def:free_abelian_group]{free abelian group} \( \BbbZ^{\oplus A} \), where \( A \) is a (nonempty) finite generating set.

    Following the proof of \fullref{thm:fundamental_theorem_of_finitely_generated_abelian_groups}, we see that the equation
    \begin{equation*}
      m_1 a_1 + \cdots + m_n a_n
    \end{equation*}
    has no nontrivial solutions, hence we fall into the case where, for any \hyperref[def:enumeration]{enumeration} \( a_1, \ldots, a_n \) of \( A \), we have
    \begin{equation*}
      \BbbZ^{\oplus A} \cong \braket{ a_1 } \times \cdots \times \braket{ a_n }.
    \end{equation*}

    \thmitem{ex:thm:fundamental_theorem_of_finitely_generated_abelian_groups/klein} The \hyperref[def:klein_four_group]{Klein four group} \( V_4 \), if defined via the \hyperref[def:group_presentation]{presentation}
    \begin{equation*}
      \braket{ a, b \given a^2 = b^2 = e \T{and} ab = ba }
    \end{equation*}
    from \cref{thm:klein_four_group_presentation}, is evidently abelian. We will keep the multiplicative notation for this example (and generally for \( V_4 \)).

    Following the proof of \fullref{thm:fundamental_theorem_of_finitely_generated_abelian_groups}, we must consider the equation
    \begin{equation*}
      a^i b^j = e.
    \end{equation*}

    A solution with minimal positive coefficients is
    \begin{equation*}
      a^2 b^0 = e.
    \end{equation*}

    Thus, \( a \) is the generator of the first cyclic group, and
    \begin{equation*}
      V_4 \cong \braket{ a } \times B,
    \end{equation*}
    where \( B \) is the subgroup obtained from the rest of the generating tuple \( (a, b) \).

    Then \( B \) has a minimal generating tuple of size \( 1 \), and is, by the proof of the theorem, isomorphic to \( \braket{ b } \). It follows that
    \begin{equation*}
      V_4 \cong \braket{ a } \times \braket{ b }.
    \end{equation*}

    This is, up to the naming of the generators, the group \( C_2 \times C_2 \) as originally defined in \cref{def:klein_four_group}.
  \end{thmenum}
\end{example}
