\section{Set theory}\label{sec:set_theory}

Sets are ubiquitous in mathematics yet set theory itself is quite complicated. Attention needs to be put to define a \hyperref[def:first_order_theory]{logical theory} of sets that is both useful and \hyperref[def:first_order_theory/consistent]{consistent}.

We first use the simplicity of \hyperref[def:naive_set_theory]{na\"ive set theory} to introduce some fundamental definitions. This theory turns out to be inconsistent due to \fullref{thm:russels_paradox}.

We later introduce the more, sophisticated \hyperref[def:zfc]{Zermelo-Fraenkel set theory} (\logic{ZFC}). It is unclear whether the latter theory is consistent, however no contradictions have yet been discovered. Furthermore, the restrictions of \logic{ZFC} (mostly the \hyperref[def:zfc/foundation]{axiom of foundation}) actually make it possible to define a model of \hyperref[def:peano_arithmetic]{Peano arithmetic} and extend the concept of a number to \hyperref[def:ordinal]{ordinals} and \hyperref[def:cardinal]{cardinals}. We then discuss \hyperref[def:cumulative_hierarchy]{von Neumann's cumulative hierarchy}, which can be used to build models of set theory.

We also extend \logic{ZFC} with \hyperref[def:grothendieck_universe]{Grothendieck universes} to obtain the theory \hyperref[def:axiom_of_universes]{\logic{ZFC+U}}, upon which we construct the concept of a \hyperref[def:category]{category}.

By \enquote{set theory} we mean na\"ive set theory, \logic{ZF}, \logic{ZFC}, \logic{ZFC+U} or further variations.

\begin{remark}\label{rem:set_definition_recursion}
  The relation between \hyperref[subsec:first_order_logic]{first-order logic} and set theory is remarkably circular.

  \begin{itemize}
    \item Set theory is defined as a \hyperref[def:first_order_theory]{theory} of first-order logic.

    \item First-order logic itself is defined via sets, for example via the \hyperref[def:first_order_language]{language of first-order logic} or the definitions of a \hyperref[def:first_order_structure]{first-order structure} or of a \hyperref[def:deductive_system]{deductive system}.
  \end{itemize}

  We utilize the concept of \hyperref[rem:metalogic]{metalogic} to resolve this circularity:
  \begin{itemize}
    \item Using the metatheory where we assume the availability of first-order logic, we build in the object logic certain special sets within set theory that can be used as models of \logic{ZFC} --- see \fullref{thm:cumulative_hierarchy_model_of_zfc}. In particular, the theorem implies that the existence of a \hyperref[rem:strongly_inaccessible_cardinal]{regular strong limit cardinal} in the metatheory can prove that \logic{ZFC} is consistent.

    \item We declare such a set as \enquote{the} model of \logic{ZFC} we are interested in. At this point, this set that we have built in the object logic becomes the ambient universe in the metatheory.

    \item Now we can, within the metatheory, define \hyperref[subsec:first_order_logic]{first-order logic}.
  \end{itemize}

  An important point is that we should restrict ourselves to \hyperref[rem:standard_model_of_set_theory]{standard} \hyperref[rem:transitive_model_of_set_theory]{transitive} models in order to avoid very counterintuitive results.

  Another important point is that it is possible that the set theory which we use within the metatheory in order to provide models of \logic{ZFC} is itself inconsistent. In that case, due to \eqref{eq:thm:minimal_propositional_negation_laws/efq}, every theorem can be derived and a proof of consistency of \logic{ZFC} is insubstantial.

  Note that we do need additional assumptions for the \hyperref[def:axiom_of_universes]{axiom of universes} separately because we cannot build a model using the cumulative hierarchy.
\end{remark}

\begin{remark}\label{rem:first_order_theories_in_zfc}
  Instead of discussing first-order theories like the \hyperref[def:group/theory]{theory of groups}, we can instead reformulate the definition within set theory and add a \hyperref[rem:predicate_formula]{predicate formula} \( \op{IsGroup}[\xi] \) with which is valid only for groups. That is, \( \op{IsGroup}[\xi] \) is a tautology if and only if the variable \( \xi \) satisfies the set-based definition of a group given in \fullref{def:group}.

  This is a natural approach, and we usually assume it implicitly. Furthermore, it makes no sense to speak about concepts like the \hyperref[thm:substructures_form_complete_lattice]{lattice of subgroups} or the \hyperref[def:cardinal]{cardinality} of a group otherwise.

  This is also a natural framework for defining \hyperref[def:topological_space]{topological spaces} and \hyperref[def:category]{categories} via \hyperref[def:directed_multigraph]{directed multigraphs}. Some theories like the \hyperref[def:partially_ordered_set]{partially ordered sets} are first-order theories, however \hyperref[def:well_ordered_set]{well-ordered sets} is an extension that requires an ambient set theory.

  Thus, roughly, set theory allows us to use \hyperref[rem:higher_order_logic]{higher-order relations and types} in first-order logic.
\end{remark}
