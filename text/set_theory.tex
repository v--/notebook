\section{Set theory}\label{sec:set_theory}

Sets are ubiquitous in mathematics, yet set theory itself is quite complicated. Attention needs to be put to define a \hyperref[def:first_order_theory]{logical theory} of sets that is both useful and \hyperref[def:first_order_theory/consistent]{consistent}.

We first use the simplicity of \hyperref[def:naive_set_theory]{na\"ive set theory} to introduce some fundamental definitions. This theory turns out to be inconsistent due to \fullref{thm:russels_paradox}.

We later introduce the more sophisticated \hyperref[def:zfc]{Zermelo-Fraenkel set theory} (\logic{ZFC}) and enhance it with Grothendieck's \hyperref[def:axiom_of_universes]{axiom of universes} to obtain \logic{ZFC+U}. The consistency of the latter theory is discussed in \fullref{rem:set_definition_recursion}.

Depending on the context, by \enquote{set theory} we mean either na\"ive set theory, \logic{ZF}, \logic{ZFC}, \logic{ZFC+U} or further variations.

\begin{remark}\label{rem:set_definition_recursion}
  The relation between \hyperref[subsec:first_order_logic]{first-order logic} and set theory is remarkably circular.

  \begin{itemize}
    \item We define set theory as a \hyperref[def:first_order_theory]{theory} of first-order logic.

    \item We define first-order logic itself via sets --- see even the basic definitions from \fullref{subsec:first_order_logic}.
  \end{itemize}

  In order to resolve this circularity, we utilize the concept of \hyperref[con:metalogic]{metalogic}:
  \begin{itemize}
    \item We start with some intuitive understanding of sets and build first-order logic as in \fullref{sec:mathematical_logic}. This is our initial metatheory, where we assume the availability of first-order logic. We construct formulas specifying certain special sets that can be used as models of \logic{ZFC} --- see \fullref{subsec:grothendieck_universes}

    \item We now transition to work within \logic{ZFC+U} as a metatheory and \logic{ZFC} as an object theory. We use Grothendieck's \hyperref[def:axiom_of_universes]{axiom of universes} in the metatheory because it provides us with \hyperref[def:set_countability/uncountable]{uncountable} \hyperref[def:grothendieck_universe]{Grothendieck universes}\fnote{We can assume the existence of only one such universe, but that would complicate our discussion of \hyperref[sec:category_theory]{category theory}}, which are models of \logic{ZFC} as a consequence of \fullref{thm:grothendieck_universe_is_model_of_zfc}. Hence, within this metatheory, the object theory \logic{ZFC} is consistent.
  \end{itemize}

  There are, however, caveats, among which:
  \begin{itemize}
    \item We restrict ourselves to \hyperref[rem:standard_model_of_set_theory]{standard} \hyperref[rem:transitive_model_of_set_theory]{transitive} models in order to avoid very counterintuitive results.

    \item It is possible that the set theory which we use within the metatheory in order to provide models of \logic{ZFC} is itself inconsistent. In that case, due to \eqref{eq:thm:intuitionistic_tautologies/efq}, every theorem can be derived and a proof of consistency of \logic{ZFC} is insubstantial.
  \end{itemize}
\end{remark}

\begin{remark}\label{rem:first_order_theories_in_zfc}
  Instead of discussing first-order theories like the \hyperref[def:group/theory]{theory of groups}, we can instead reformulate the definition within set theory and add a \hyperref[con:predicate_formula]{predicate formula} \( \op{IsGroup}[\synx] \), which is valid only for groups.

  This is a natural approach, and we will use it implicitly. Furthermore, it makes no sense to speak about concepts like the \hyperref[thm:substructures_form_complete_lattice]{lattice of subgroups} or the \hyperref[def:cardinal]{cardinality} of a group otherwise.

  This is also a natural framework for defining \hyperref[def:topological_space]{topological spaces} and \hyperref[def:category]{categories} via \hyperref[def:directed_multigraph]{directed multigraphs}. Some theories like the \hyperref[def:partially_ordered_set]{partially ordered sets} are first-order theories, but \hyperref[def:well_ordered_set]{well-ordered sets} is an extension that requires an ambient set theory.

  Thus, roughly, set theory allows us to use \hyperref[rem:higher_order_logic]{higher-order relations and types} within first-order logic.
\end{remark}
