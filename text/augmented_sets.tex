\subsection{Augmented sets}\label{subsec:augmented_sets}

Sets in the sense of \fullref{sec:set_theory} are ubiquitous. It is sometimes convenient, however, to augment a set with additional structure. We have only used the word \enquote{augmented} informally --- in order to stick to established terminology, we will not use it henceforth, but rather rely on more concrete definitions.

\begin{remark}\label{rem:set_labeling_terminology}
  We will define several related notions --- labeled sets in \fullref{def:labeled_set}, set coloring in \fullref{def:set_coloring}, weighted sets in \fullref{def:weighted_set} and multisets in \fullref{def:multiset}. They are all defined as generalizations of sets --- in all cases, instead of a set \( A \), we consider a function \( l: A \to L \), which assigns auxiliary information to elements of \( A \). Given an element \( x \) of \( A \), we will refer to \( l(a) \) as a \enquote{label} in general and as \enquote{weight} if \( l(a) \) is a real number.

  Similar terms are common in our cited literature, although rarely are formal definitions given, which leaves a lot of room for ambiguity. Generally the terms are ambiguous, with the exception of different authors using \enquote{multiset} to refer to nearly the same concept.

  \begin{itemize}
    \item \enquote{Label} is used by
    \begin{itemize}
      \item \incite[3]{Bollobas1998}, \incite{Salomaa1987} \incite{Mimram2020}, \incite{CitkinMuravitsky2021} and \incite{Erickson2019} without explicit definitions for labels of graph vertices and edges.

      \item \incite[20]{Harary1969} for distinct strings, \enquote{names}, assigned to the vertices of a graph.

      \item \incite[315]{Knuth1997Vol1} as an informal notion for attaching information.

      \item \incite[238]{Diestel2005} for natural number labels of graph vertices.
    \end{itemize}

    \item \enquote{Marking} is used by
    \begin{itemize}
      \item \incite[4]{Harary1969} for general labels of graph vertices.

      \item \incite[7]{Knauer2011} for general labels of tree nodes.

      \item \incite[def. 5.13]{БелоусовТкачёв2004} (as \enquote{функция разметки}) for a function labeling edges with nonzero elements of an idempotent semiring.
    \end{itemize}

    \item \enquote{Coloring} is used by
    \begin{itemize}
      \item \incite[7]{Birkhoff1967}, \incite[145]{Bollobas1998}, \incite[152]{Knauer2011}, \incite[500]{Jacobson1985Vol1} and \incite[141]{Мирчев2001} (as \enquote{оцветяване}) without an explicit definition as way of classifying objects.

      \item \incite[395]{Erickson2019}, \incite[\S 5.4]{Harzheim2005}, \incite[111]{Diestel2005}, \incite[590]{Rosen1999}, \incite[235]{Емеличев1990} (as \enquote{раскраска}) and \incite[\S 10.7.1]{Новиков2013} (as \enquote{раскраска}) as an explicit function labeling graph vertices with positive integers.

      \item \incite[1]{Butler2014} as an explicit function labeling the elements of an \hyperref[def:arithmetic_progression]{finite arithmetic progression}.

      \item \incite[78]{Rotman2010} as an \hyperref[def:group_action_orbit]{orbit} of a \hyperref[def:group_action]{group action} on a finite set.
    \end{itemize}

    \item \enquote{Weight} is used by
    \begin{itemize}
      \item \incite[def. 5.13]{БелоусовТкачёв2004} (as \enquote{весовая функция}) for a function labeling edges with nonzero elements of an idempotent semiring.

      \item \incite[exer. 8.4]{Новиков2013} (as \enquote{нагрузка}) and \incite[59]{Емеличев1990} (as \enquote{вес}) for labeling vertices with nonnegative real values.

      \item \incite[2]{Knauer2011} for general labels of either vertices or edges of graphs.

      \item \incite{Bollobas1998} and \incite{Erickson2019} without an explicit definition for numeric labels for vertices.

      \item \incite[542]{Rosen1999}, \incite[9]{GondranMinoux1984Graphs} and \incite[12]{Мирчев2001} for number-valued labels (without specifying which kind of numbers) of edges of graphs, although Mirchev also allows vertices to be labeled.

      \item \incite[298]{Diestel2005} for coefficients of \hyperref[def:convex_hull]{convex combinations}.

      \item \incite[387]{Knuth1997Vol1} and \incite[35]{Harary1969} for the number of nodes in a subtree, but later in \incite[417]{Knuth1997Vol1} as number-valued labels of nodes.

      \item \incite[180]{Harary1969} for explicit labeling with real numbers, with the intention to label \hyperref[def:group_action_orbit]{group action orbits}.

      \item \incite[37]{Blizard1988} for specifying that \enquote{weighted set} is an obsolete synonym for \enquote{multiset}.
    \end{itemize}

    \item \enquote{Multiset} is used by
    \begin{itemize}
      \item \incite[473]{Knuth1997Vol2}, \incite[2]{Aluffi2009}, \incite[41]{Rosen1999} and \incite[28]{Новиков2013} as an informal notion of \enquote{generalized sets} allowing each element to be repeated finitely many times.

      \item \incite[6]{TroelstraSchwichtenberg2000} as similar generalized sets with an additional restriction of finiteness.

      \item \incite[37]{Blizard1988}, \incite[309]{Barendregt1984}, \incite[20]{Golan2010} \incite[A.3.5]{Mimram2020} for explicit labeling with positive integers.

      \item \incite[def. 1]{Hickman1980} for explicit labeling with nonzero cardinals.
    \end{itemize}
  \end{itemize}
\end{remark}

\paragraph{General labels}

\begin{remark}\label{rem:ast_labeling}
  Consider the \hyperref[def:propositional_syntax/formula_ast]{abstract syntax tree} of the formula \( (\varphi \synimplies \varphi) \) from \eqref{eq:ex:minimal_implication_logic_identity/derivations/final}:
  \begin{equation*}
    \includegraphics[page=1]{output/rem__ast_labeling}
  \end{equation*}

  In order for this to fit our definition of ordered tree from \fullref{def:ordered_tree}, we must somehow distinguish between the two occurrences of \( \varphi \). Otherwise, we would obtain the following \hyperref[def:hypergraph/multigraph]{multigraph}:
  \begin{equation*}
    \includegraphics[page=2]{output/rem__ast_labeling}
  \end{equation*}

  We are only interested in how the nodes are connected, thus one possible underlying tree is
  \begin{equation*}
    \includegraphics[page=3]{output/rem__ast_labeling}
  \end{equation*}

  Rather than the strings \enquote{\( \varphi \)} and \enquote{\( \synimplies \)} themselves being nodes, they simply become labels. This leads to the definition of labeled set in \fullref{def:labeled_set}.

  As a note, while there is often no harm in regarding \hyperref[def:labeled_tree/homomorphism]{isomorphic} trees as equal, we must be careful when we want isomorphic trees to be distinct, e.g. as subtrees.
\end{remark}
\begin{comments}
  \item See \fullref{rem:tree_grafting_nodes} for a more thorough discussion of how we actually choose underlying nodes for \hyperref[def:labeled_tree]{labeled trees}.
\end{comments}

\begin{definition}\label{def:labeled_set}\mimprovised
  A \term{labeled set} is a \hyperref[def:function]{function} \( l: A \to L \) that \enquote{labels} the elements of \( A \) with elements of \( L \).
\end{definition}
\begin{comments}
  \item This definition allows us to provide an interface for an object from \( A \) independent of its other properties. One such interface is labeling tree nodes in syntax trees --- see \fullref{rem:ast_labeling} --- or the more elaborate labels in proof trees --- see \fullref{def:natural_deduction_proof_tree}. We will now discuss several special cases.

  \item We discuss in \fullref{rem:set_labeling_terminology} how related terminology is used in the literature.
\end{comments}

\paragraph{Coloring}

\begin{definition}\label{def:set_coloring}\mimprovised
  Fix a nonempty set \( Q \) whose elements we will call \term[bg=цветове (\cite[141]{Мирчев2001}), ru=цвета (\cite[\S 10.7.1]{Новиков2013}), en=coloring (\cite[111]{Diestel2005})]{colors}. A \( Q \)-\term[bg=оцветяване (\cite[141]{Мирчев2001}), ru=раскраска (\cite[\S 10.7.1]{Новиков2013}), en=coloring (\cite[111]{Diestel2005})]{coloring} of the \hyperref[def:set]{plain set} is simply a \hyperref[def:labeled_set]{labeling} of \( S \) with elements of \( Q \).

  \begin{thmenum}
    \thmitem{def:set_coloring/monochromatic}\mcite[253]{Diestel2005} We say that a subset of \( S \) is \term[ru=одноцветный (класс) (\cite[\S 10.7.1]{Новиков2013})]{monochromatic} if all its elements have the same color.

    \thmitem{def:set_coloring/rainbow} We say that a subset of \( S \) is \term{rainbow-colored} if each of its elements has a different color.
  \end{thmenum}
\end{definition}
\begin{comments}
  \item We discuss in \fullref{rem:set_labeling_terminology} how related terminology is used in the literature.
\end{comments}

\begin{remark}\label{rem:cardinal_colorings}
  By \fullref{thm:ordinal_is_set_of_smaller_ordinals}, a nonzero \hyperref[def:cardinal]{cardinal number} \( \rho \) is the set of ordinals smaller than \( \rho \), thus a \hyperref[def:set_coloring]{\( \rho \)-coloring} is a coloring with ordinals. In particular, for a positive integer \( r \), an \( r \)-coloring is simply a coloring with \( \set{ 0, \ldots, r - 1 } \).

  We mostly prefer our indexing to start at \( 1 \), thus it would be more natural to define \( r \)-colorings via the set \( \set{ 1, \ldots, r } \), however we will mostly avoid referring to concrete numbers as colors, and utilizing general cardinal numbers generally simplifies the exposition.
\end{remark}

\paragraph{Weighted sets}

\begin{definition}\label{def:weighted_set}\mimprovised
  For any \hyperref[def:semiring]{semiring} \( R \), an \( R \)-\term{weighted set} is a \hyperref[def:set]{set} \hyperref[def:labeled_set]{labeled} with elements of \( R \).
\end{definition}
\begin{comments}
  \item We require \( R \) to be a semiring so that we have both \( 0 \) and \( 1 \) and so that we can perform arithmetic operations. Although it is usually sufficient to consider real numbers, \hyperref[def:tropical_semiring]{tropical semirings} are also sometimes useful --- see \fullref{thm:adjacency_matrix_tropical_power}.

  \item We discuss in \fullref{rem:set_labeling_terminology} how related terminology is used in the literature.
\end{comments}

\paragraph{Multisets}

\begin{definition}\label{def:multiset}\mcite[def. 1]{Hickman1980}
  A \term[ru=мультимножество (\incite[28]{Новиков2013})]{multiset} \( M \) is a \hyperref[def:set]{set} \hyperref[def:labeled_set]{labeled} with nonzero \hyperref[def:cardinal]{cardinal numbers}.

  Generalizing the notation from \incite[40]{Blizard1988}, we will use \( x \in^\rho M \) rather than \( M(x) = \rho \).

  \begin{thmenum}
    \thmitem{def:multiset/multiplicity}\mcite[36]{Blizard1988} We call the number \( M(x) \) the \term{multiplicity} of \( x \).

    \thmitem{def:multiset/cardinality}\mimprovised We define the \term{cardinality} of \( M \) as follows:
    \begin{thmenum}
      \thmitem{def:multiset/cardinality/finite} If \( M \) has finitely many elements, we simply take the \hyperref[def:cardinal_arithmetic/addition]{cardinal sum} of their multiplicities.

      \thmitem{def:multiset/cardinality/infinite} Otherwise, we take the set-theoretic union of the multiplicities.
    \end{thmenum}
  \end{thmenum}
\end{definition}
\begin{comments}
  \item We must provide a justification for \fullref{def:multiset/cardinality}. \incite[def. 1]{Hickman1980} avoids providing a concept of cardinality, but for our usage we will find it necessary. We are mostly concerned with the cardinality of multisets with finitely many elements with finite multiplicities, which, following the introductory discussion in \incite[1]{Blizard1988}, should simply be the sum of all multiplicities.

  If \( M \) has finitely many elements, this extends straightforwardly to cardinal sums. \Fullref{thm:simplified_cardinal_arithmetic/infinite} implies that, if one of the elements is an infinite cardinal, we might just as well take the supremum of all multiplicities. \Fullref{thm:union_of_set_of_cardinals} implies that the supremum is precisely the set-theoretic union of the multiplicities. This is the approach we take when \( M \) has infinitely many elements.

  \item \incite{Blizard1988} describes a \hyperref[def:first_order_theory]{first-order theory} of multisets based on generalizing \hyperref[def:zfc]{\logic{ZFC}}. For our occasional use of multisets, our simple definition is sufficient. We do, however, unlike Blizard allow membership of transfinite multiplicity.

  \item Based on the exact same abstraction, \incite{Hickman1980} extends basic set-theoretic relations and operations to multisets. We will not find use for these, however, so we avoid introducing additional formalisms.

  \item We discuss in \fullref{rem:set_labeling_terminology} how related terminology is used in the literature.
\end{comments}

\begin{remark}\label{rem:syntax_of_multisets}
  Following \incite[309]{Barendregt1984}, we can reuse the set list notation from \fullref{def:set_notation} for \hyperref[def:multiset]{multisets} by interpreting the string
  \begin{equation*}
    \syn\lbrace{ \syna, \synb, \sync, \syna, \synb, \syna \syn\rbrace}
  \end{equation*}
  as the multiset \( M \) with \( a \in^3 M \), \( b \in^2 M \) and \( c \in^1 M \) rather than the set consisting of \( a \), \( b \) and \( c \).
\end{remark}

\begin{example}\label{ex:def:multiset}
  We list several examples of \hyperref[def:labeled_set]{weighted sets}.

  \begin{itemize}
    \thmitem{ex:def:multiset/polynomial_roots} The roots of any polynomial form a multiset with multiplicities given by \fullref{def:polynomial_root}.

    \thmitem{ex:def:multiset/factorization} Any \hyperref[def:irreducible_factorization]{factorization} in an \hyperref[def:integral_domain]{integral domain} produces a multiset.

    \thmitem{ex:def:multiset/eigenvalues} The \hyperref[def:eigenpair]{point spectrum} of a linear operator produces a multiset.
  \end{itemize}
\end{example}
