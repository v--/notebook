\section[Sigma algebras]{Sigma algebras}\label{sec:sigma_algebras}

\paragraph{Boolean subalgebras}

\begin{lemma}\label{thm:boolean_subalgebra_binary_de_morgan}
  Let \( A \) be a subset of a \hyperref[def:boolean_algebra]{Boolean algebra} that is closed under complements. Then \( A \) is closed under binary joins if and only if it is closed under binary meets.
\end{lemma}
\begin{proof}
  Follows from \fullref{thm:de_morgans_laws}.
\end{proof}

\begin{proposition}\label{thm:boolean_subalgebra}
  The following are equivalent for a subset of a \hyperref[def:boolean_algebra]{Boolean algebra}:
  \begin{thmenum}
    \thmitem{thm:boolean_subalgebra/subalgebra} It is a Boolean sublattice in the sense of \fullref{def:boolean_algebra/submodel}, that is, it contains the top and bottom elements and is closed under binary joins, binary meets and complements.
    \thmitem{thm:boolean_subalgebra/subring} It is a (Boolean) subring in the sense of \fullref{def:ring/submodel}, that is, it contains the top and bottom elements and is closed under \hyperref[def:symmetric_difference]{symmetric differences} and meets.
    \thmitem{thm:boolean_subalgebra/finite} It is closed under (possibly empty) \hi{finite} joins (resp. meets) and complements.
    \thmitem{thm:boolean_subalgebra/binary} It is \hi{nonempty} and is closed under binary joins (resp. meets) and complements.
    \thmitem{thm:boolean_subalgebra/difference} It contains the \hi{top element} and is closed under binary joins (resp. meets) and \hyperref[def:boolean_algebra_difference]{\hi{proper differences}}.
  \end{thmenum}
\end{proposition}
\begin{comments}
  \item Whether we require the family to be closed under joins or meets is irrelevant due to \fullref{thm:boolean_subalgebra_binary_de_morgan}. In the context of \hyperref[def:algebra_of_subsets]{algebras of sets}, joins are usually preferred for presentation, for example by
  \incite[def. 3.1]{Драганов2022ТеорияНаМярката},
  \incite[15]{Yoshida1980FunctionalAnalysis} (which only defines \( \sigma \)-algebras),
  \incite[def. 4.9]{Jech2006SetTheory},
  \incite[21]{Folland1999RealAnalysis},
  \incite[2]{Çinlar2011ProbabilityAndStochastics},
  \incite[def. 1.4.1]{Tao2011MeasureTheory},
  \incite[\S 5.25]{Schechter1997AnalysisHandbook},
  \incite[3]{Bobrowski2005FunctionalAnalysis},
  \incite[2]{Malliavin1995IntegrationAndProbability},
  \incite[294]{WheedenZygmund2015MeasureAndIntegral},
  \incite[50]{КанторовичАкилов1984ФункциональныйАнализ},
  \incite[def. 2.1]{Боровков1999ТеорияВероятностей} and
  \incite[30]{Ширяев2007ВероятностьТом1}.

  \item It is essential in \fullref{thm:boolean_subalgebra/difference} that the family contains the top element. This is how \hyperref[def:algebra_of_subsets]{algebras of subsets} are defined by
  \incite[def. 1.2.1]{Богачёв2003ОсновыТеорииМерыТом1},
  \incite[def. 1.2]{ДьяченкоУльянов1998МераИИнтеграл} (who require closure under intersections and \hi{symmetric differences}) and
  \incite[30]{Ширяев2007ВероятностьТом1}.
  Otherwise, we obtain Halmos' strictly weaker notion of a \enquote{ring of sets} (although Halmos discusses sets specifically, his results are easily generalizable). These rings are discussed in \incite[ch. I]{Halmos1976MeasureTheory}.

  \item The simplified condition \fullref{thm:boolean_subalgebra/binary} is often stated, in the context of \hyperref[def:algebra_of_subsets]{algebras of subsets}, so that \( Y \) must contain \( \top \) (e.g. \incite[def. 1.3]{Rudin1987RealAndComplexAnalysis}, \incite[\S 5.25]{Schechter1997AnalysisHandbook}, \incite[3]{Bobrowski2005FunctionalAnalysis} and \incite[def. 2.1]{Боровков1999ТеорияВероятностей}), or alternatively so that \( Y \) must contain \( \bot \) (e.g. \incite[def. 1.4.1]{Tao2011MeasureTheory}) or even both (e.g. \incite[def. 1.1]{ДимитровЯнев2007ВероятностиИСтатистика})
\end{comments}
\begin{proof}
  Let \( Y \) be a nonempty subset of the Boolean algebra \( X \).

  \ImplicationSubProof{thm:boolean_subalgebra/subalgebra}{thm:boolean_subalgebra/subring} Since the symmetric difference
  \begin{equation*}
    x \symdiff y = (x \wedge \oline y) \vee (\oline x \wedge y)
  \end{equation*}
  is defined via binary joins and meets, if \( Y \) is a Boolean subalgebra, it is also closed under symmetric differences.

  \ImplicationSubProof{thm:boolean_subalgebra/subring}{thm:boolean_subalgebra/finite} \Fullref{thm:boolean_ring_as_algebra} expresses binary meets, joins and complements via ring operations on, thus a subring must also be closed under finite meets, finite joins and complements.

  \ImplicationSubProof{thm:boolean_subalgebra/finite}{thm:boolean_subalgebra/binary} If a \( Y \) is closed under finite joins (resp. meets) and complements, it is necessarily closed under binary joins (resp. meets). Furthermore, \( Y \) must be nonempty since the empty join is the bottom and the empty meet is the top.

  \ImplicationSubProof{thm:boolean_subalgebra/binary}{thm:boolean_subalgebra/difference} Suppose that \( Y \) is closed under complements and either binary joins or binary meets. Then, due to \fullref{thm:boolean_subalgebra_binary_de_morgan}, it is closed under both joins and meets.

  Then \( Y \) must also be closed under the difference operation
  \begin{equation*}
    x \setminus y = x \wedge \oline y,
  \end{equation*}
  which is defined via complements and binary meets.

  Furthermore, since \( Y \) is nonempty, it must contain some element \( x \). Then it must also contain the top
  \begin{equation*}
    \top = x \vee \oline x.
  \end{equation*}

  \ImplicationSubProof{thm:boolean_subalgebra/difference}{thm:boolean_subalgebra/subalgebra} Suppose that \( Y \) contains the top element and is closed under binary joins (resp. meets) and proper differences.

  Then \( Y \) is closed under complements because
  \begin{equation*}
    \oline x = \top \setminus x.
  \end{equation*}

  It follows that \( Y \) also contains the bottom element \( \bot = \oline \top \).

  Again due to \fullref{thm:boolean_subalgebra_binary_de_morgan}, \( Y \) is closed under both binary joins and binary meets.

  We conclude that \( Y \) is a Boolean subalgebra.
\end{proof}

\paragraph{Algebras and \( \sigma \)-algebras}

\begin{definition}\label{def:algebra_of_subsets}\mcite[294]{WheedenZygmund2015MeasureAndIntegral}
  We say that a family of subsets of a set \( \Omega \) is an \term[bg=булева алгебра (\cite[def. 3.1]{Драганов2022ТеорияНаМярката}), ru=алгебра подмножеств (\cite[def. II.1.1]{Ширяев2007ВероятностьТом1})]{algebra of subsets} if it is a \hyperref[def:boolean_algebra/submodel]{Boolean subalgebra} of its \hyperref[thm:boolean_algebra_of_subsets]{power set Boolean algebra} \( \pow(\Omega) \).
\end{definition}
\begin{comments}
  \item Thus, an algebra must satisfy one of the equivalent conditions in \fullref{thm:boolean_subalgebra}.
  \item Terminology for algebras and \( \sigma \)-algebras and related concepts is discussed in \fullref{rem:sigma_algebra_terminology}.
\end{comments}

\begin{definition}\label{def:countably_complete_lattice}\mimprovised
  We say that a \hyperref[def:partially_ordered_set]{partially ordered set} is a \term[ru=(Булева алгебра) счётного типа (\cite[\S 1.6.3]{Владимиров1969БулевыАлгебры}), en=countably-complete / \( \sigma \)-complete (Boolean algebras) (\cite[244]{HalmosGivant2009BooleanAlgebras})]{countably-complete lattice} or \term[en=\( \sigma \)-complete (Boolean algebras) (\cite[244]{HalmosGivant2009BooleanAlgebras})]{\( \sigma \)-complete lattice} if every \hyperref[def:set_countability/countably_infinite]{countably infinite} set has both a supremum and infimum.
\end{definition}
\begin{comments}
  \item The concept, and hence the definition itself, is similar to complete lattices discussed in \fullref{def:complete_lattice}.
  \item We generalize the usage of \cite[\S 1.6.3]{Владимиров1969БулевыАлгебры} and \cite[244]{HalmosGivant2009BooleanAlgebras} from Boolean algebras to arbitrary partially ordered set.
\end{comments}

\begin{remark}\label{rem:sigma_prefix_etymology}
  In \fullref{def:countably_complete_lattice}, we use the letter \enquote{\( \sigma \)} as a synonym for \enquote{countable}.

  The origin of this convention is not clear. The discussion in \cite{MathOF:what_does_the_sigma_in_sigma_algebra_stand_for} suggests that Felix Hausdorff may be the originator. In his book, \cite[\S V.18]{Hausdorff1935Mengenlehre}, Hausdorff uses the terms \enquote{\( \sigma \)-System} and \enquote{\( \delta \)-System} for families of sets closed under countable unions and intersections, correspondingly. The Greek letters \( \sigma \) and \( \delta \) may have originated from the German words \enquote{Summe} and \enquote{Durchschnitt} (\enquote{intersection}), which he used for set unions and intersections. Earlier in the book, in \cite[\S I.3]{Hausdorff1962SetTheory}, he suggests using the Fraktur Latin letter \( \mfrakS \) instead of the modern \( \bigcup \) for unions, with \( \Sigma \) suggested as an alternative, as well as \( \mfrakD \) for intersections.
\end{remark}

\begin{definition}\label{def:monotone_class}\mcite[def. 1.9.1]{Богачёв2003ОсновыТеорииМерыТом1}
  We say that a family of sets is a \term[ru=монотонный класс, en=monotone class (\cite[27]{Halmos1976MeasureTheory})]{monotone class} if it is closed under both unions of countable \hyperref[def:directed_set]{upward-directed families} and intersections of \hyperref[def:directed_set]{downward-directed families}.
\end{definition}

\begin{lemma}\label{thm:boolean_subalgebra_countable_de_morgan}
  Let \( A \) be a subset of a \hyperref[def:countably_complete_lattice]{countably complete} \hyperref[def:boolean_algebra]{Boolean algebra} that is closed under complements. Then \( A \) is closed under countable joins if and only if it is closed under countable meets.
\end{lemma}
\begin{comments}
  \item This is simply an adaptation of \fullref{thm:boolean_subalgebra_binary_de_morgan} to countably complete algebras.
\end{comments}
\begin{proof}
  Follows from \fullref{thm:de_morgans_laws}.
\end{proof}

\begin{definition}\label{def:sigma_algebra}
  We say that a family of subsets of a set \( \Omega \) is a \term[bg=\( \sigma \)-алгебра (\cite[def. 3.3]{Драганов2022ТеорияНаМярката}), ru=\( \sigma \)-алгебра (\cite[def. II.1.4]{Ширяев2007ВероятностьТом1})]{\( \sigma \)-algebra} on \( \Omega \) if any of the following equivalent conditions hold:
  \begin{thmenum}
    \thmitem{def:sigma_algebra/subalgebra}\mimprovised It is a \hyperref[def:countably_complete_lattice]{countably-complete} \hyperref[def:boolean_algebra/submodel]{Boolean subalgebra} of its \hyperref[thm:boolean_algebra_of_subsets]{power set Boolean algebra} \( \pow(\Omega) \).

    \thmitem{def:sigma_algebra/direct}\mcite[49]{WheedenZygmund2015MeasureAndIntegral} It is \hi{nonempty} and closed under \hyperref[def:set_countability/countably_infinite]{countably infinite} joins (resp. meets) and complements.

    \thmitem{def:sigma_algebra/monotone}\mcite[thm. 1.9.3(i)]{Богачёв2003ОсновыТеорииМерыТом1} It is an \hyperref[def:algebra_of_subsets]{algebra of subsets} and is closed under unions of countable \hyperref[def:directed_set]{upward-directed families} (resp. intersections of \hyperref[def:directed_set]{downward-directed families}).
  \end{thmenum}
\end{definition}
\begin{comments}
  \item Whether we require the family to be closed under joins or meets is irrelevant due to \fullref{thm:boolean_subalgebra_countable_de_morgan}.

  \item Terminology for algebras and \( \sigma \)-algebras and related concepts is discussed in \fullref{rem:sigma_algebra_terminology}.
  \item \Fullref{def:sigma_algebra/monotone} is usually stated as a theorem claiming that \( \sigma \)-algebras are \hyperref[def:algebra_of_subsets]{algebras of subsets} that are also \hyperref[def:monotone_class]{monotone classes}, for example by
  \incite[thm. 1.4]{Malliavin1995IntegrationAndProbability},
  \incite[thm. 1.2.7]{Bobrowski2005FunctionalAnalysis},
  \incite[lemma 1.7.14]{Tao2011MeasureTheory},
  \incite[exerc. 1.6(b)]{Cohn2013MeasureTheory},
  \incite[thm. 2.35]{Folland1999RealAnalysis} and
  \incite[thm. 1.9.3(i)]{Богачёв2003ОсновыТеорииМерыТом1}.

  We generalize this by only requiring closure under upward or downward unions (not both).
\end{comments}
\begin{proof}
  \ImplicationSubProof{def:sigma_algebra/subalgebra}{def:sigma_algebra/direct} Special case.

  \ImplicationSubProof{def:sigma_algebra/direct}{def:sigma_algebra/monotone} Let \( \mscrA \) be a nonempty family of subsets of \( \Omega \) that is closed under countable unions and complements. Then it is also closed under binary unions, and thus \fullref{thm:boolean_subalgebra} implies that it is an algebra of subsets of \( \Omega \).

  Furthermore, we have assumed \( \mscrA \) is closed under countably infinite unions, which in particular implies that it is closed under upward-directed unions.

  \ImplicationSubProof{def:sigma_algebra/monotone}{def:sigma_algebra/subalgebra} Let \( \mscrA \) be an algebra of subsets of \( \Omega \) that is closed under unions of countable upward-directed families.

  Fix a sequence \( A_1, A_2, \ldots \) of sets and define
  \begin{equation*}
    B_k \coloneqq \begin{cases}
      A_1,              &k = 1, \\
      B_{k-1} \cup A_k, &k > 1.
    \end{cases}
  \end{equation*}

  All members of this sequence belong to \( \mscrA \) since, as an algebra of subsets, it is closed under finite unions.

  Then
  \begin{equation*}
    B_1 \subseteq B_2 \subseteq \cdots,
  \end{equation*}
  and thus \( \mscrA \) must contain the union
  \begin{equation*}
    \bigcup_{k=1}^\infty B_k = \bigcup_{k=1}^\infty A_k.
  \end{equation*}

  Thus, \( \mscrA \) is closed under arbitrary countably infinite unions.

  Finally, \fullref{thm:boolean_subalgebra_countable_de_morgan} implies that \( \mscrA \) is also closed under countably infinite intersections. Therefore, it is a \( \sigma \)-complete Boolean subalgebra.
\end{proof}

\begin{remark}\label{rem:sigma_algebra_terminology}
  We discuss here terminology related to \hyperref[def:sigma_algebra]{\( \sigma \)-algebras}.

  Hausdorff is believed to be the originator of the terminology, with older literature reusing his \enquote{ring}/\enquote{field} terminology (which is unrelated to \hyperref[def:boolean_ring]{Boolean rings}). Hausdorff himself didn't define \( \sigma \)-algebras, but considered \( \sigma \)-systems, which are families of sets closed under countable unions, and \( \delta \)-systems, closed under countable intersections. Later this terminology grew to include \enquote{\( \sigma \)-rings} and \enquote{\( \sigma \)-fields}. Newer authors often prefer \enquote{algebra}/\enquote{\( \sigma \)-algebra} to \enquote{ring} or \enquote{field}.

  A survey of how terminology is used across the literature can be found in \cref{tab:rem:sigma_algebra_terminology}.

  \begin{table}[!ht]
    \centering
    \begin{tabular}{l l l}
      \toprule
      Source                                                            & \hyperref[def:algebra_of_subsets]{Algebra of subsets} & \hyperref[def:sigma_algebra]{\( \sigma \)-algebra} \\
      \midrule
      \cite[12]{Birkhoff1967LatticeTheory}                              & Field of sets                                         & \( \sigma \)-field                               \\
      \cite[21; 28]{Halmos1976MeasureTheory}                            & Algebra of sets                                       & \( \sigma \)-algebra                             \\
      \cite[24; 268]{HalmosGivant2009BooleanAlgebras}                   & Field of sets                                         & \( \sigma \)-field                               \\
      \cite[112]{Feller1971ProbabilityTheoryVol2}                       &                                                       & \( \sigma \)-algebra                             \\
      \cite[15]{Yoshida1980FunctionalAnalysis}                          &                                                       & \( \sigma \)-ring / \( \sigma \)-additive family \\
      \cite[def. 1.3]{Rudin1987RealAndComplexAnalysis}                  &                                                       & \( \sigma \)-algebra                             \\
      \cite[2]{Malliavin1995IntegrationAndProbability}                  & Boolean algebra                                       & \( \sigma \)-algebra                             \\
      \cite[\S 5.25]{Schechter1997AnalysisHandbook}                     & Algebra of subsets                                    & \( \sigma \)-algebra of subsets                  \\
      \cite[21]{Folland1999RealAnalysis}                                & Algebra of sets                                       & \( \sigma \)-algebra                             \\
      \cite[def. I.4.9]{Jech2006SetTheory}                              & Algebra of sets                                       & \( \sigma \)-algebra                             \\
      \cite[def. 1.4.1; def. 1.4.12]{Tao2011MeasureTheory}              & Boolean algebra                                       & \( \sigma \)-algebra                             \\
      \cite[113; 118]{Grätzer2011LatticeTheory}                         & Field of sets                                         &                                                  \\
      \cite[294; 49]{WheedenZygmund2015MeasureAndIntegral}              & Algebra of subsets                                    & \( \sigma \)-algebra of sets                     \\
      \cite[1; 2]{Cohn2013MeasureTheory}                                & Algebra                                               & \( \sigma \)-algebra                             \\
      \cite[2]{Çinlar2011ProbabilityAndStochastics}                     & Algebra                                               & \( \sigma \)-algebra                             \\
      \cite[3; 4]{Bobrowski2005FunctionalAnalysis}                      & Algebra of sets                                       & \( \sigma \)-algebra                             \\
      \cite[34; 36]{Вулих1973ВещественныйАнализ}                        & Алгебра                                               & \( \sigma \)-алгебра                             \\
                                                                        & \footnotesize (algebra)                               & \footnotesize (\( \sigma \)-algebra)             \\
      \cite[50]{КанторовичАкилов1984ФункциональныйАнализ}               & Алгебра                                               & \( \sigma \)-алгебра                             \\
                                                                        & \footnotesize (algebra)                               & \footnotesize (\( \sigma \)-algebra)             \\
      \cite[def. 1.2]{ДьяченкоУльянов1998МераИИнтеграл}                 & Алгебра                                               & \( \sigma \)-алгебра                             \\
                                                                        & \footnotesize (algebra)                               & \footnotesize (\( \sigma \)-algebra)             \\
      \cite[def. 2.1; def. 2.2]{Боровков1999ТеорияВероятностей}         & Алгебра множеств                                      & \( \sigma \)-алгебра                             \\
                                                                        & \footnotesize (algebra of sets)                       & \footnotesize (\( \sigma \)-algebra)             \\
      \cite[def. 1.2.1; def. 1.2.2]{Богачёв2003ОсновыТеорииМерыТом1}    & Алгебра множеств                                      & \( \sigma \)-алгебра                             \\
                                                                        & \footnotesize (algebra of sets)                       & \footnotesize (\( \sigma \)-algebra)             \\
      \cite[def. II.1.1; def. II.1.4]{Ширяев2007ВероятностьТом1}        & Алгебра подмножеств                                   & \( \sigma \)-алгебра                             \\
                                                                        & \footnotesize (algebra of subsets)                    & \footnotesize (\( \sigma \)-algebra)             \\
      \cite[def. 3.1; def. 3.3]{Драганов2022ТеорияНаМярката}            & булева алгебра                                        & \( \sigma \)-алгебра                             \\
                                                                        & \footnotesize (Boolean algebra)                       & \footnotesize (\( \sigma \)-algebra)     \\
      \cite[def. 1.1; def. 1.2]{ДимитровЯнев2007ВероятностиИСтатистика} & Булова алгебра                                        & \( \sigma \)-булова алгебра                      \\
                                                                        & \footnotesize (Boolean algebra)                       & \footnotesize (\( \sigma \)-Boolean algebra)     \\
      \bottomrule
    \end{tabular}
    \caption{The table for \fullref{rem:sigma_algebra_terminology} discussing the terminology of \( \sigma \)-algebras.}\label{tab:rem:sigma_algebra_terminology}
  \end{table}

  While the terms \enquote{algebras} and \enquote{\( \sigma \)-algebras} are used consistently (among those who use them), \enquote{ring of sets} and \enquote{field of sets} are not:
  \begin{itemize}
    \item \incite[77]{Hausdorff1935Mengenlehre} uses \enquote{Ring} for families of sets closed under binary unions and intersections, and defines \enquote{K\"{o}rper} (translated as \enquote{fields} in \cite[90]{Hausdorff1962SetTheory}) as rings closed under set differences.

    \item \incite[20]{Halmos1976MeasureTheory} uses \enquote{ring} for what Hausdorff calls \enquote{field}, and avoid the term \enquote{field}.

    \item \incite[86]{Вулих1973ВещественныйАнализ} uses \enquote{кольцо} (\enquote{ring}) for analogously.

    \item \incite[268]{HalmosGivant2009BooleanAlgebras} use \enquote{field} for nonempty families closed under binary intersections, unions and complements, which due to \fullref{thm:boolean_subalgebra} coincides with our notion of algebras of subsets. Unlike in Halmos' aforementioned book, the author's avoid defining and discussing \enquote{rings}, and define a \enquote{\( \sigma \)-algebra} as a \hyperref[def:countably_complete_lattice]{countably-complete} Boolean algebra, which is a generalization of our usage.

    \item \incite[15]{Yoshida1980FunctionalAnalysis} avoids defining rings of sets, but refers to \( \sigma \)-algebras a \enquote{\( \sigma \)-rings}.

    \item \incite[12]{Birkhoff1967LatticeTheory} and \incite[113]{Grätzer2011LatticeTheory} use \enquote{ring} to refer to sublattices of the power set, i.e. families closed under unions and intersections. Both define \enquote{fields} as rings closed under complements, which, if nonempty, are equivalent to our notion of algebras of subsets due to \fullref{thm:boolean_subalgebra}.

    \item \incite[def. 1.2]{ДьяченкоУльянов1998МераИИнтеграл} use \enquote{кольцо} (\enquote{ring}) to refer to families closed under symmetric differences and intersections, and \enquote{algebra} for a ring with a top element. Again, due to \fullref{thm:boolean_subalgebra}, this notion of algebras coincides with our usage.

    \item \incite[def. 1.2.13]{Богачёв2003ОсновыТеорииМерыТом1} uses \enquote{кольцо} (\enquote{ring}) to refer to families closed under binary unions, binary intersections and set differences. The author defines algebras and \( \sigma \)-algebras prior to rings and rarely mentions rings later in the book.
  \end{itemize}
\end{remark}
