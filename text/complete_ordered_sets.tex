\subsection{Complete ordered sets}\label{subsec:complete_ordered_set}

\paragraph{Dedekind-MacNeille completion}

\begin{definition}\label{def:dedekind_macnielle_closure}\mimprovised
  Let \( (P, \leq) \) be a \hyperref[def:partially_ordered_set]{partially ordered set}. For a given subset \( A \) of \( P \), define the following sets of all \hyperref[def:extremal_points/upper_and_lower_bounds]{upper bounds} and of all \hyperref[def:extremal_points/upper_and_lower_bounds]{lower bounds} of \( A \):
  \begin{align*}
    A^U \coloneqq \overbrace{\bigcap_{a \in A} P_{\geq a}}^{\mathclap{\set{ x \in L \given \qforall {a \in A} x \leq a }}}
    &&
    A^L \coloneqq \overbrace{\bigcap_{a \in A} P_{\leq a}}^{\mathclap{\set{ x \in L \given \qforall {a \in A} a \leq x }}}
  \end{align*}

  Then \( A \mapsto A^{UL} \) is a \hyperref[def:moore_closure_operator]{Moore closure operator}. We call \( A^{UL} \) the \term{Dedekind-MacNaille closure} of \( A \).

  \begin{figure}[!ht]
    \centering
    \includegraphics{output/def__dedekind_macnielle_closure}
    \caption{The \hyperref[def:dedekind_macnielle_completion]{Dedekind-MacNeille closure} of \( \set{ b, c } \) is \( \set{ a, b, c } \).}\label{fig:def:dedekind_macnielle_closure}
  \end{figure}
\end{definition}
\begin{defproof}
  \SubProofOf[def:extensive_function]{extensivity} Fix a subset \( A \) of \( P \) and a member \( x \) of \( A \).

  For every \( u \in A^U \), by definition of upper limit we have \( x \leq u \). Then \( x \) is a lower limit of \( A^U \), hence \( x \in A^{UL} \).

  Generalizing on \( x \in A \), we conclude that \( A \subseteq A^{UL} \).

  \SubProofOf[def:binary_operation/idempotent]{idempotence} Fix again a subset \( A \) of \( P \).

  We have shown that \( B \subseteq B^{UL} \) for any subset \( B \) of \( P \), in particular for \( B = A \). Dually, we can show that \( B \subseteq B^{LU} \), in particular for \( B = A^U \). Furthermore, \( A \subseteq A^{UL} \) implies \( A^U \supseteq A^{ULU} \) because an upper limit for a set is necessarily an upper limit for a subset.

  Thus,
  \begin{equation*}
    A^U \subseteq A^{ULU} \subseteq A^U.
  \end{equation*}

  Therefore, \( A^U = A^{ULU} \) and \( A^{UL} = A^{ULUL} \).

  \SubProofOf[def:order_homomorphism/increasing]{monotonicity} Fix subsets \( A \subseteq B \) of \( P \) and a member \( a' \) of \( A^{UL} \). We will show that \( a' \) is also a member of \( B^{UL} \).

  First note that \( B^U \subseteq A^U \) because an upper limit of \( B \) is necessarily also an upper limit of \( A \).

  For every member \( u \) of \( A^U \), we have \( a' \leq u \), in particular for those \( u \) that belong to \( B^U \). Therefore, \( a' \) is a lower bound of \( B^U \), that is, a member of \( B^{UL} \).
\end{defproof}

\begin{proposition}\label{thm:def:dedekind_macnielle_closure}
  \hyperref[def:dedekind_macnielle_completion]{Dedekind-MacNeille closures} have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:dedekind_macnielle_closure/downward_closed} The Dedekind-MacNeille closure is always \hyperref[def:closed_ordered_subset]{downward closed}.

    \thmitem{thm:def:dedekind_macnielle_closure/point_in_closure} In a \hyperref[def:totally_ordered_set]{totally ordered set}, for every point \( x \) in the closure \( A^{UL} \) of a \hyperref[def:closed_ordered_subset]{downward closed} set \( A \), either \( x \) is in \( A \) or is the supremum of \( A \).

    \thmitem{thm:def:dedekind_macnielle_closure/closed_elements} If a set is Dedekind-MacNeille closed, it is \hyperref[def:closed_ordered_subset]{downward closed} and if it contains the \hyperref[def:extremal_points/supremum_and_infimum]{suprema} of all its nonempty subsets that have suprema.

    \thmitem{thm:def:dedekind_macnielle_closure/closed_elements_totally_ordered} In a totally ordered set, if a subset \( A \) is downward closed and, in case it has a supremum, if it contains that supremum, then \( A \) is Dedekind-MacNeille closed.
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:dedekind_macnielle_closure/downward_closed} If \( x \in A^{UL} \) and \( y \leq x \), then \( y \leq u \) for every upper bound \( u \) of \( A \). Thus, \( y \) is a lower bound of \( A^U \), i.e. it belongs to \( A^{UL} \).

  Therefore, \( A^{UL} \) is downward closed.

  \SubProofOf{thm:def:dedekind_macnielle_closure/point_in_closure} Clearly \( A \) belongs to its closure \( A^{UL} \).

  Let \( x_0 \) be a point of \( A^{UL} \) not in \( A \). Let \( y \) be a point of \( A \). If \( y \geq x_0 \), then, since \( A \) is downward closed, \( x_0 \) must belong to \( A \), which is a contradiction.

  It remains for \( y \leq x_0 \) to hold. Since \( y \) was arbitrary, we conclude that \( x_0 \) is an upper bound of \( A \). Furthermore, \( x_0 \leq u \) for every point \( u \) in \( A^U \), that is, \( x_0 \) is smaller than or equal to any upper bound of \( A \).

  Therefore, \( x_0 \) is the least upper bound of \( A \).

  \SubProofOf{thm:def:dedekind_macnielle_closure/closed_elements} Suppose that \( A = A^{UL} \).

  If \( a \in A \) and \( a' < a \), then, by transitivity, \( a' < u \) for every upper bound \( u \) of \( A \); hence \( a' \) is a lower bound for \( A^U \), that is, \( a' \in A^{UL} = A \). Therefore, \( A \) is downward closed.

  Now suppose that \( B \subseteq A \) has a supremum. Aiming at a contradiction, suppose also that \( \sup B \) is not in \( A \). \Fullref{thm:def:dedekind_macnielle_closure/downward_closed} implies that \( A \) is downward closed, hence \( \sup B \) can only be an upper bound of \( A \).

  Furthermore, it is the least upper bound because, if \( x < \sup B \) is also an upper bound of \( A \), then \( x \) is also an upper bound of \( B \), which contradicts the minimality of \( \sup B \).

  Hence, \( \sup B \) is also the supremum of \( A \). Since it does not belong to \( A \), it is the minimum of \( A^U \) and the maximum of \( A^{UL} \). But we have assumed that \( A = A^{UL} \) and that \( \sup B \) does not belong to \( A \).

  The obtained contradiction shows that \( A \) contains the supremum of every subset that has a supremum.

  \SubProofOf{thm:def:dedekind_macnielle_closure/closed_elements_totally_ordered} Suppose that the order is total. Suppose also that \( A \) is downward closed and that, if \( A \) has a supremum, the latter belongs to \( A \).

  Clearly \( A \) belongs to its closure \( A^{UL} \).

  For the converse, let \( x \) be in \( A^{UL} \) but not in \( A \). Since the order is total, if \( x \) is not in \( A \), it is a strict upper bound of \( A \). But \( x \) is a lower bound of \( A^U \), hence it must be a minimum of \( A^U \). But then \( x \) is a supremum of \( A \), and our assumption implies that it belongs to \( A \).

  The obtained contradiction shows that \( A^{UL} = A \).

  \SubProofOf{thm:dedekind_macnielle_closure_is_totally_ordered} Fix a totally ordered set \( (P, \leq) \) and denote by \( D(P) \) its Dedekind-MacNeille completion.

  By \fullref{thm:def:dedekind_macnielle_completion}, \( D(P) \) is a complete lattice, and hence a partially ordered set. It remains only to prove trichotomy on \( D(P) \).

  Fix members \( A \) and \( A' \) of \( D(P) \). Note that both are \hyperref[def:closed_ordered_subset]{downward closed} because \( A = A^{UL} \) and similarly for \( A' \).

  Aiming at a contradiction, suppose that both \( A \setminus A' \) and \( A' \setminus A \) are nonempty, and let \( a \) and \( a' \) be members of the corresponding sets.

  \begin{itemize}
    \item If \( a = a' \), then \( a \) belongs both \( A \) and \( P \setminus A \), which is a contradiction.
    \item If \( a < a' \), then \( a \) is a member of \( A' \) because the latter is downward closed --- again a contradiction.
    \item If \( a > a' \), then \( a' \) is a member of \( A \), which is similar to the above case.
  \end{itemize}

  The obtained contradictions show that either \( A \subseteq A' \) or \( A' \subseteq A \).
\end{proof}

\begin{definition}\label{def:dedekind_macnielle_completion}\mcite[thm. 12]{Birkhoff1948}
  Let \( (P, \leq) \) be a \hyperref[def:partially_ordered_set]{partially ordered set}. Using the closure operator from \fullref{def:dedekind_macnielle_closure}, we define the \term{Dedekind-MacNeille completion} of \( P \) as the family
  \begin{equation*}
    D(P) \coloneqq \set{ A \subseteq P \given A = A^{UL} }
  \end{equation*}
  of \hyperref[def:dedekind_macnielle_closure]{Dedekind-MacNeille-closed sets} ordered via \hyperref[def:subset]{set inclusion}.

  The set \( P \) itself can be embedded via the \hyperref[def:order_homomorphism/increasing]{order-preserving map} which sends each member of \( P \) to its \hyperref[def:order_interval/ray]{initial segment}, that is,
  \begin{equation*}
    \begin{aligned}
      &\iota: P \to D(P), \\
      &\iota(x) \coloneqq P_{\leq x}.
    \end{aligned}
  \end{equation*}
\end{definition}
\begin{comments}
  \item Note that \( P_{\leq x} = \set{ x }^{UL} \).
  \item Joins may misbehave without the closure provided by \( A \mapsto A^{UL} \) --- see \fullref{ex:dedekind_macnielle_join_closure}.
\end{comments}

\begin{theorem}[Dedekind-MacNeilla completion]\label{thm:def:dedekind_macnielle_completion}
  The \hyperref[def:dedekind_macnielle_completion]{Dedekind-MacNeille completion} \( D(P) \) of a partially ordered set \( (P, \leq) \) is a \hyperref[def:semilattice/lattice]{complete lattice} with the following operations:
  \begin{align*}
    \bigvee \mscrA   &\coloneqq \parens[\Big]{ \bigcup \mscrA }^{UL} \\
    \bigwedge \mscrA &\coloneqq \bigcap \mscrA
  \end{align*}

  Furthermore, joins and meets from \( P \) (whenever they exist) are preserved in \( D(P) \).
\end{theorem}
\begin{proof}
  It is obvious that \( D(P) \) is partially ordered by \( \subseteq \).

  \SubProof{Proof that \( D(P) \) is join-complete} Let \( \mscrA \) be a family of members of \( D(P) \). Then, since we have shown idempotence in \fullref{def:dedekind_macnielle_closure}, we have
  \begin{equation*}
    \parens[\Big]{ \bigvee \mscrA }^{UL}
    =
    \parens[\Big]{ \bigcup \mscrA }^{ULUL}
    =
    \parens[\Big]{ \bigcup \mscrA }^{UL}
    =
    \bigvee \mscrA.
  \end{equation*}

  Therefore, the join \( \bigvee \mscrA \) of members of \( P \) also belongs to \( D(P) \).

  \SubProof{Proof that \( D(P) \) is meet-complete} For any family \( \mscrB \) of members of \( D(P) \), we have
  \begin{align*}
    \parens[\Big]{ \bigcap \mscrB }^U
    &=
    \set[\Big]{ u \in P \given* \qforall {x \in \bigcap \mscrB} x \leq u }
    = \\ &=
    \set[\Big]{ u \in P \given* \qforall {B \in \mscrB} \qforall {x \in B} x \leq u }
    = \\ &=
    \bigcap_{B \in \mscrB} B^U
  \end{align*}
  and similarly
  \begin{equation*}
    \parens[\Big]{ \bigcap \mscrB }^L
    =
    \bigcap_{B \in \mscrB} B^L.
  \end{equation*}

  Therefore, for a fixed family \( \mscrA \subseteq D(P) \), we have
  \begin{equation*}
    \parens[\Big]{ \bigwedge \mscrA }^{UL}
    =
    \parens[\Big]{ \bigcap \mscrA }^{UL}
    =
    \parens[\Big]{ \bigcap \mscrA }^U
    =
    \bigcap \mscrA.
  \end{equation*}

  Therefore, the meet \( \bigwedge \mscrA \) is also a member of \( D(P) \).

  \SubProof{Proof that \( D(P) \) preserves joins} Let \( A \) be a set in \( P \) such that \( a_0 \coloneqq \bigvee^P A \) exists.

  Then
  \begin{equation*}
    \bigvee\nolimits^{D(P)} \set{ \iota(a) \given a \in A }
    =
    \bigvee\nolimits^{D(P)} \set{ P_{\leq a} \given a \in A }
    =
    \parens[\Big]{ \bigcup_{a \in A} P_{\leq a} }^{UL}
    =
    \parens[\Big]{ P_{\geq a_0} }^L
    =
    P_{\leq a_0}
    =
    \iota(a_0).
  \end{equation*}

  \SubProof{Proof that \( D(P) \) preserves meets} Let \( A \) be a set in \( P \) such that \( a_0 \coloneqq \bigwedge^P A \) exists.

  Then
  \begin{equation*}
    \bigwedge\nolimits^{D(P)} \set{ \iota(a) \given a \in A }
    =
    \bigwedge\nolimits^{D(P)} \set{ P_{\leq a} \given a \in A }
    =
    \bigcap_{a \in A} P_{\leq a}
    =
    P_{\leq a_0}
    =
    \iota(a_0).
  \end{equation*}
\end{proof}

\begin{example}\label{ex:dedekind_macnielle_join_closure}
  Taking the closure of the union in the definition of join for \hyperref[def:dedekind_macnielle_completion]{Dedekind-MacNeille completions} can be justified as follows.

  Consider the sequence of \hyperref[def:rational_numbers]{rational numbers}
  \begin{equation*}
    a_n \coloneqq -\frac 1 n.
  \end{equation*}

  The supremum of this sequence is zero --- it is clearly an upper bound and, for any negative rational number \( -r \), we have a larger negative number from the sequence:
  \begin{equation*}
    -r
    =
    -\frac 1 {\ifrac 1 r}
    \leq
    -\frac 1 {\floor(\ifrac 1 r)}
    <
    0.
  \end{equation*}

  Now consider the completion \( D(\BbbQ) \) and take the embeddings of \( \seq{ a_n }_{n=1}^\infty \), the sequence
  \begin{equation*}
    a_n' \coloneqq \iota(a_n) = \set*{ x \in \BbbQ \given* x \leq -\frac 1 n }.
  \end{equation*}

  Then
  \begin{equation*}
    \bigcup a_n' = \set{ x \in \BbbQ \given x < 0 },
  \end{equation*}
  but this is not an upper bound because the set does not itself belong to \( D(\BbbQ) \).

  Taking the closure, however, we obtain
  \begin{equation*}
    \parens[\Big]{ \bigcup a_n' }^{UL}
    =
    \set{ x \in \BbbQ \given x \geq 0 }^L
    =
    \set{ x \in \BbbQ \given x \leq 0 }
    =
    \bigcup a_n' \cup \set{ 0 }
    =
    \iota(0),
  \end{equation*}
  which is actually the supremum of \( \seq{ a_n' }_{n=1}^\infty \) in \( D(\BbbQ) \).
\end{example}

\begin{theorem}[Dedekind-MacNeille completion universal property]\label{thm:dedekind_macneille_completion_universal_property}\mcite[thm. 12]{Birkhoff1948}
  The \hyperref[def:dedekind_macnielle_completion]{Dedekind-MacNeille completion} \( D(P) \) of a \hyperref[def:partially_ordered_set]{partially ordered set} \( P \) satisfies the following \hyperref[rem:universal_mapping_property]{universal mapping property}:
  \begin{displayquote}
    For every \hyperref[def:semilattice/lattice]{complete lattice} \( L \), every \hyperref[def:order_homomorphism/increasing]{order-preserving map} \( \varphi: P \to L \) \hyperref[def:factors_through]{uniquely factors through} \( D(P) \). More precisely, there exists a unique \hyperref[def:semilattice/homomorphism]{lattice homomorphism} \( \widetilde{\varphi}: D(P) \to L \) such that the following diagram commutes:
    \begin{equation}\label{eq:thm:dedekind_macneille_completion_universal_property/diagram}
      \begin{aligned}
        \includegraphics[page=1]{output/thm__dedekind_macneille_completion_universal_property}
      \end{aligned}
    \end{equation}
  \end{displayquote}

  Via \fullref{rem:universal_mapping_property}, this functor becomes \hyperref[def:category_adjunction]{left adjoint} to the \hyperref[def:concrete_category]{forgetful functor} from complete lattices to partially ordered sets.
\end{theorem}
\begin{proof}
  In order for a homomorphism \( \widetilde{\varphi} \) to satisfy the theorem, it must satisfy
  \begin{equation*}
    \widetilde{\varphi}(\iota(x)) = \varphi(x).
  \end{equation*}

  Thus, \( \widetilde{\varphi}(\iota(x)) \) depends on \( \varphi(x) \), which suggests the definition
  \begin{equation*}
    \widetilde{\varphi}(A) \coloneqq \bigvee\nolimits^L \set{ \varphi(a) \given a \in A }.
  \end{equation*}

  Since \( L \) is a complete lattice, it has arbitrary joins and hence the homomorphism is well-defined. Furthermore,
  \begin{equation*}
    \widetilde{\varphi}(\iota(x))
    =
    \widetilde{\varphi}(P_{\leq x})
    =
    \bigvee\nolimits^L \set{ \varphi(a) \given a \in P_{\leq x} }
    \reloset {\eqref{eq:def:order_homomorphism/increasing}} =
    \varphi(x).
  \end{equation*}

  The last equality holds because \( \varphi \) is order-preserving and hence \( \varphi(x) \geq \varphi(a) \) for every \( a \leq x \).
\end{proof}

\begin{proposition}\label{thm:dedekind_macnielle_closure_is_totally_ordered}
  The Dedekind-MacNeille completion of a totally ordered set is also totally ordered.
\end{proposition}
\begin{proof}
  Fix a totally ordered set \( (P, \leq) \) and denote by \( D(P) \) its Dedekind-MacNeille completion.

  By \fullref{thm:def:dedekind_macnielle_completion}, \( D(P) \) is a complete lattice, and hence a partially ordered set. It remains only to prove trichotomy on \( D(P) \).

  Fix members \( A \) and \( A' \) of \( D(P) \). Note that both are \hyperref[def:closed_ordered_subset]{downward closed} because \( A = A^{UL} \) and similarly for \( A' \).

  Aiming at a contradiction, suppose that both \( A \setminus A' \) and \( A' \setminus A \) are nonempty, and let \( a \) and \( a' \) be members of the corresponding sets.

  \begin{itemize}
    \item If \( a = a' \), then \( a \) belongs both \( A \) and \( P \setminus A \), which is a contradiction.
    \item If \( a < a' \), then \( a \) is a member of \( A' \) because the latter is downward closed --- again a contradiction.
    \item If \( a > a' \), then \( a' \) is a member of \( A \), which is similar to the above case.
  \end{itemize}

  The obtained contradictions show that either \( A \subseteq A' \) or \( A' \subseteq A \).
\end{proof}

\paragraph{Dedekind cuts}

\begin{definition}\label{def:dedekind_cut}\mcite[sec. I.IV]{Beman1901Dedekind}
  A \term[ru=Дедекиндово сечение (\cite[34]{Александров1977Введение})]{Dedekind cut} in a \hyperref[def:totally_ordered_set]{totally ordered set} \( (P, \leq) \) is pair \( (A, B) \) of \hi{nonempty sets} that \hyperref[def:set_partition]{partitions} \( P \), such that \( a < b \) for every \( a \in A \) and \( b \in B \).

  \begin{figure}[!ht]
    \centering
    \includegraphics{output/def__dedekind_cut}
    \caption{Dedekind cuts over the \hyperref[def:rational_numbers]{rational numbers}}
    \label{fig:def:dedekind_cut}
  \end{figure}
\end{definition}
\begin{comments}
  \item Dedekind's goal was to define the \hyperref[def:real_numbers]{real numbers} as a certain family of cuts of \hyperref[def:rational_numbers]{rational numbers}. We will only use the cuts for defining completeness and instead rely on the \hyperref[def:dedekind_macnielle_completion]{Dedekind-MacNeille completion} of the rationals. Hence, we will not be interested in the properties of Dedekind cuts. See \fullref{rem:dedekind_completion_through_dedekind_macneille_closures} for a discussion of the side effects of this decision.

  \item We use the original definition given by \incite[sec. I.IV]{Beman1901Dedekind} (although in greater generality). His definition has been refined, for example by \incite[113]{Enderton1977Sets} and \incite[17]{Rudin1976Principles}, which defines a cut as a \hyperref[def:closed_ordered_subset]{downward closed} nonempty set \( A \) with no maximum (which uniquely defines \( B \) as its complement). We will not have use for such refinements.
\end{comments}

\begin{definition}\label{def:dedekind_completeness}\mcite[sec. I.IV]{Beman1901Dedekind}
  We say that the \hyperref[def:totally_ordered_set]{totally ordered set} \( (P, \leq) \) is \term{Dedekind complete} if, for every \hyperref[def:dedekind_cut]{Dedekind cut} \( (A, B) \), either \( A \) has a maximum or \( B \) has a minimum.
\end{definition}

\begin{proposition}\label{thm:dedekind_completeness_unbounded_characterization}
  An \hi{\hyperref[def:extremal_points/upper_and_lower_bounds]{unbounded}} totally ordered set is \hyperref[def:dedekind_completeness]{Dedekind complete} if and only if it is closed under suprema and infima of \hi{nonempty bounded} sets.
\end{proposition}
\begin{proof}
  Let \( (P, \leq) \) be an unbounded totally ordered set.

  \SufficiencySubProof Suppose that \( P \) is Dedekind complete.

  Let \( S \) be a bounded nonempty set in \( P \). Consider the set
  \begin{equation*}
    A \coloneqq \set{ x \in P \given \qexists {s_0 \in S} x \leq s_0 }.
  \end{equation*}

  Denote its complement via \( B \). By \eqref{eq:thm:first_order_quantifiers_are_dual/negation_of_existential},
  \begin{equation*}
    B = \set{ x \in P \given \qforall {s \in S} x > s }.
  \end{equation*}

  Since the set \( S \) is bounded and \( P \) is not, both \( A \) and \( B \) are nonempty. Then \( (A, B) \) is a Dedekind cut.

  Since \( P \) is complete, we have two possibilities:
  \begin{itemize}
    \item If \( A \) has a maximum, the latter is the supremum of the family \( \seq{ x_k }_{k \in \mscrK} \).
    \item If \( B \) has a minimum, the latter is the supremum.
  \end{itemize}

  In both cases, we obtain that our arbitrary bounded nonempty set has a supremum. The case of infima is dual.

  \NecessitySubProof Suppose that \( P \) is closed under suprema and infima of nonempty bounded sets.

  Let \( (A, B) \) be a Dedekind cut. Let \( a_0 \) be a member of \( A \) that is not a maximum --- such an element exists because \( P \) is unbounded and \( A \) is downward closed. Then \( P_{>a_0} \cap A \) is a nonempty bounded set, and our assumption implies that it has a supremum. Furthermore, this supremum is the supremum of \( A \).

  By the totality of the order, \( \sup A \) it is either the maximum of \( A \) or the minimum of \( B \).

  Generalizing on \( (A, B) \), we conclude that \( P \) is Dedekind complete.
\end{proof}

\begin{definition}\label{def:dedekind_completion}\mimprovised
  We define the \term{Dedekind completion} of an \hyperref[def:extremal_points/upper_and_lower_bounds]{unbounded} \hyperref[def:totally_ordered_set]{totally ordered set} as its \hyperref[def:dedekind_macnielle_completion]{Dedekind-MacNeille completion} with the top and bottom elements removed.
\end{definition}
\begin{comments}
  \item \Fullref{thm:dedekind_macnielle_closure_is_totally_ordered} implies that the Dedekind completion itself is totally ordered.
  \item We need to remove the top and bottom elements in order to approximate Dedekind's construction from \cite[sec. I.IV]{Beman1901Dedekind} --- we discuss this in \fullref{rem:dedekind_completion_through_dedekind_macneille_closures}. Otherwise, we could have just used the Dedekind-MacNeille completion itself, and we would obtain the \hyperref[def:extended_real_numbers]{extended real numbers} rather than the \hyperref[def:real_numbers]{real numbers}.
\end{comments}

\begin{remark}\label{rem:dedekind_completion_through_dedekind_macneille_closures}
  Consider the \hyperref[def:dedekind_completion]{Dedekind completion} of an unbounded totally ordered set. \incite[17]{Rudin1976Principles} and \incite[113]{Enderton1977Sets} instead define the completion as the set of all nonempty downward closed sets without a maximum. These authors call their definitions \enquote{Dedekind cuts}, but Dedekind's original definition that we use here is different. Within this remark, we will call them \enquote{Dedekind lower sets}.

  \Fullref{thm:def:dedekind_macnielle_closure/closed_elements} implies that, in an unbounded totally ordered set, a subset is \hyperref[def:dedekind_macnielle_closure]{Dedekind-MacNeille closed} if and only if it is downward closed and, if it has a supremum, the supremum is a maximum.

  Here are two discrepancies between using Dedekind-MacNeille closed sets and using Dedekind lower sets.
  \begin{itemize}
    \item Both the empty set and the entire ambient set are Dedekind-MacNeille closed. Excluding them from the definition of Dedekind completion ensures compatibility with the nonemptiness condition of the Dedekind lower sets.

    \item Dedekind-MacNeille closed sets contain their supremum (if it exists), hence they correspond to closed rays like \( (-\infty, x] \), while Dedekind lower sets do not contain their supremum, hence they correspond to open rays like \( (-\infty, x) \).

    If a supremum does not exist, both are open rays.
  \end{itemize}
\end{remark}

\begin{theorem}[Dedekind completion]\label{thm:def:dedekind_completion}
  The \hyperref[def:dedekind_completion]{Dedekind completion} of an \hyperref[def:extremal_points/upper_and_lower_bounds]{unbounded} \hyperref[def:totally_ordered_set]{totally ordered set} is, up to an \hyperref[def:order_homomorphism/isomorphism]{order isomorphism}, the smallest such set that is \hyperref[def:dedekind_completeness]{Dedekind complete}.
\end{theorem}
\begin{proof}
  \SubProof{Proof of completeness} Let \( (\mscrA, \mscrB) \) be a \hyperref[def:dedekind_cut]{cut} in the Dedekind completion. We will show that \( \mscrA \) has a maximum or \( \mscrB \) has a minimum.

  Since the Dedekind-MacNeille completion is a complete lattice, the family \( \mscrA \) has a join (supremum). Since the family is nonempty by definition of Dedekind cut, this supremum is not the bottom element, hence it belongs to the smaller Dedekind completion.
  \begin{itemize}
    \item If \( \bigvee \mscrA \) belongs to \( \mscrA \), then it is the maximum of \( \mscrA \).
    \item If \( \bigvee \mscrA \) belongs to \( \mscrB \), then it is the minimum of \( \mscrB \).

    Indeed, if \( B \subseteq \bigvee \mscrA \) for some member \( B \) of \( \mscrB \), then this member is an upper bound of \( \mscrA \) smaller than \( \bigvee \mscrA \), which contradicts the minimality of the supremum.
  \end{itemize}

  \SubProof{Proof of minimality} Follows from \fullref{thm:def:dedekind_macnielle_completion} and \fullref{thm:dedekind_completeness_unbounded_characterization} by noting that the top is the supremum for unbounded from above sets, and similarly for the bottom.
\end{proof}

\begin{example}\label{ex:thm:def:dedekind_completion}
  We list examples of \hyperref[def:dedekind_completion]{Dedekind completion}:
  \begin{thmenum}
    \thmitem{ex:thm:def:dedekind_completion/integers} The set of integers is Dedekind complete. This follows from \fullref{thm:def:dedekind_completion} via \fullref{thm:dedekind_completeness_unbounded_characterization} by noting that every nonempty bounded set of integers has a maximum and minimum. The latter is a direct consequence of a bounded set of integers being finite.

    \thmitem{ex:thm:def:dedekind_completion/rational_numbers} Most famously, the entire theory of Dedekind and Dedekind-MacNeille completions is derived from Dedekind's original construction of the real numbers from the rationals.
  \end{thmenum}
\end{example}

\begin{definition}\label{def:dense_total_order}\mcite[31]{Birkhoff1948}
  We say that a subset \( A \) of a \hyperref[def:totally_ordered_set]{totally ordered set} \( (P, \leq) \) is \term{dense} in \( P \) if, whenever \( a < c \) for some members \( a \) and \( c \) of \( P \), there exists some \( b \) in \( A \) such that \( a < b < c \).
\end{definition}

\begin{proposition}\label{thm:dedekind_completion_dense}
  A \hyperref[def:dense_total_order]{dense-in-itself} unbounded totally ordered set is \hyperref[def:dense_total_order]{dense} in its \hyperref[def:dedekind_completion]{Dedekind completion}.
\end{proposition}
\begin{proof}
  Suppose that \( D(P) \) is the completion of \( (P, \leq) \). Consider the Dedekind-MacNeille closed nonempty proper subsets \( A \) and \( B \) of \( P \) and suppose that \( A \subsetneq B \).

  Let \( u \) be a value in \( B \) not in \( A \). It is an upper bound of \( A \), but it cannot be a least upper bound because that would contradict \fullref{thm:def:dedekind_macnielle_closure/closed_elements}. Hence, there must exist a smaller upper bound \( l \) of \( A \).

  Since \( P \) is dense-in-itself, there exists a value \( r \) strictly between \( l \) and \( u \). Then
  \begin{equation*}
    A \subsetneq P_{\leq r} \subsetneq B.
  \end{equation*}
\end{proof}
