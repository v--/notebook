\section{Group actions}\label{sec:group_actions}

\paragraph{Monoid actions}

\begin{definition}\label{def:endomorphism_monoid}\mimprovised
  For every object \( X \) in an arbitrary \hyperref[def:category]{category} \( \cat{C} \), the set \( \cat{C}(X) \) is a \hyperref[def:monoid]{monoid} with morphism composition as the monoid operation and the identity \( \id_X \) as the neutral element.

  Outside of \hyperref[ch:category_theory]{category theory}, whenever the category \( \cat{C} \) is clear from the context, we call \( \cat{C}(X) \) the \term[ru=полугруппа эндоморфизмов (\cite[127]{Курош1973ОбщаяАлгебра}), en=endomorphism monoid (\cite[60]{Jacobson1985BasicAlgebraI})]{endomorphism monoid} over \( X \) and denote it by \( \End(X) \).
\end{definition}
\begin{comments}
  \item \incite[127]{Курош1973ОбщаяАлгебра} and \incite[41]{Ляпин1960Полугруппы} define endomorphism monoids for homomorphisms of models of \hyperref[def:algebraic_theory]{algebraic theories}, \incite[60]{Jacobson1985BasicAlgebraI} defines endomorphism monoids for \hyperref[def:monoid/homomorphism]{monoid homomorphisms} and \incite[515]{Grätzer2011LatticeTheory} defines them for \hyperref[def:lattice/homomorphism]{lattice homomorphisms}. We generalize all.
\end{comments}

\begin{definition}\label{def:monoid_action}\mimprovised
  Let \( M \) be a \hyperref[def:monoid]{monoid} and let \( X \) be a set or, more generally, an object in some \hyperref[def:concrete_category]{concrete category} \( \cat{C} \).

  A (\term{left}) \term{monoid action} of \( M \) on \( X \) by morphisms of \( \cat{C} \) can be defined equivalently as:
  \begin{thmenum}
    \thmitem{def:monoid_action/homomorphism} A \hyperref[def:monoid/homomorphism]{monoid homomorphism} from \( M \) to the \hyperref[def:endomorphism_monoid]{endomorphism monoid} of \( X \).

    Right actions are instead homomorphisms from the \hyperref[def:monoid/opposite]{opposite monoid} \( M^\oppos \) to \( \End(X) \).

    \thmitem{def:monoid_action/functor} A \hyperref[def:functor]{functor} from the \hyperref[def:monoid_delooping]{delooping} \( \cat{B} M \) to \( \cat{C} \) that maps \( \Anon \) to \( X \).

    Right actions are instead \hyperref[rem:contravariant_functor]{contravariant functors}.

    \thmitem{def:monoid_action/family} An \hyperref[def:indexed_family]{indexed family} \( \seq{ \Phi_t }_{t \in M} \) of \hyperref[def:morphism_invertibility/endomorphism]{endomorphisms} of \( X \) such that
    \begin{align}
      &\Phi_e = \id_X,                     \label{eq:def:monoid_action/family/identity}\tag{\logic{MA1}} \\
      &\Phi_{mn} = \Phi_m \bincirc \Phi_n. \label{eq:def:monoid_action/family/compatibility}\tag{\logic{MA2}}
    \end{align}

    This defines a function \( \Phi: M \times X \to X \).
  \end{thmenum}
\end{definition}
  \begin{comments}
  \item Our definition is based on a straightforward generalization of group actions; see \fullref{def:group_action}.
  \item Even though we assume by default that \( X \) is a set, more general cases can be helpful; see \fullref{rem:group_action_category}.
  \item For convenience, we will sometimes denote the values of the \hyperref[def:monoid_action]{evolution function} \( \Phi: M \times X \to X \) as \( \Phi_m(x) \) rather than \( \Phi(m, x) \).
\end{comments}
\begin{defproof}
  \ImplicationSubProof{def:monoid_action/homomorphism}{def:monoid_action/functor} Suppose that we have a monoid homomorphism \( \Phi: M \to \End(X) \). Define the functor
  \begin{equation*}
    \begin{aligned}
      &F: \cat{B} M \to \cat{C} \\
      &F(\Anon) \coloneqq X \\
      &F(m) \coloneqq \Phi(m).
    \end{aligned}
  \end{equation*}

  This is indeed a functor because \eqref{eq:def:functor/CF1} follows from \eqref{eq:def:pointed_set/homomorphism} and \eqref{eq:def:functor/CF2} follows from \eqref{eq:def:semigroup/homomorphism}.

  \ImplicationSubProof{def:monoid_action/functor}{def:monoid_action/family} Suppose that we have a functor \( F: \cat{B} M \to \cat{C} \) that maps \( \Anon \) to \( X \). Define the \( M \)-indexed family
  \begin{equation*}
    \begin{aligned}
      &\Phi_m: X \to X \\
      &\Phi_m \coloneqq F(m).
    \end{aligned}
  \end{equation*}

  It satisfies the necessary axioms:
  \begin{itemize}
    \item \ref{eq:def:monoid_action/family/identity} holds:
    \begin{equation*}
      \Phi_e
      =
      F(e)
      \reloset {\eqref{eq:def:functor/CF1}} =
      \id_A.
    \end{equation*}

    \item \ref{eq:def:monoid_action/family/compatibility} holds: for every pair \( m, n \in M \), we have
    \begin{equation*}
      \Phi_{mn}
      =
      F(mn)
      \reloset {\eqref{eq:def:functor/CF2}} =
      F(m) \bincirc F(n)
      =
      \Phi_m \bincirc \Phi_n
    \end{equation*}
  \end{itemize}

  \ImplicationSubProof{def:monoid_action/family}{def:monoid_action/homomorphism} Suppose that we have an indexed family \( \seq{ \Phi_m }_{m \in M} \) of endomorphisms of \( A \) that satisfies the axioms for left action. Regard this indexed family as a function \( \Phi: M \to \End(X) \).

  Then \( \Phi \) is a monoid homomorphism because \ref{eq:def:monoid_action/family/identity} implies \( \Phi(e) = \id_X \) and \eqref{eq:def:monoid_action/family/compatibility} implies
  \begin{equation*}
    \Phi(mn) = \Phi(m) \bincirc \Phi(n).
  \end{equation*}
\end{defproof}

\begin{proposition}\label{thm:monoid_is_action}
  Every \hyperref[def:monoid]{monoid} \( M \) \hyperref[def:monoid_action]{acts} on itself via the family of plain functions
  \begin{equation*}
    \Phi_m(h) \coloneqq m \cdot h.
  \end{equation*}
\end{proposition}
\begin{comments}
  \item These functions are not monoid homomorphisms in general.
  \item Compare this result to the case of groups in \fullref{thm:group_is_action}.
\end{comments}
\begin{proof}
  The family satisfies \fullref{def:monoid_action/family}:
  \begin{itemize}
    \item \ref{eq:def:monoid_action/family/identity} follows from \eqref{eq:def:monoid/theory/neutral}.

    \item \ref{eq:def:monoid_action/family/compatibility} follows from associativity:
    \begin{equation*}
      [\Phi_{m_1}(h)] \bincirc [\Phi_{m_2}(h)] = [\Phi_{m_1}(\Phi_{m_2}(h))] = [\Phi_{m_1 \cdot m_2}(h)].
    \end{equation*}
  \end{itemize}
\end{proof}

\begin{theorem}[Cayley's theorem for monoids]\label{thm:cayleys_theorem_for_monoids}
  Every \hyperref[def:monoid]{monoid} \( M \) \hyperref[rem:embeds_isomorphically]{embeds isomorphically} into the monoid of all functions on \( M \).
\end{theorem}
\begin{comments}
  \item Compare this to \fullref{thm:cayleys_theorem}.
\end{comments}
\begin{proof}
  The embedding is given by the group action from \fullref{thm:monoid_is_action}.
\end{proof}

\begin{proposition}\label{thm:exponentiation_monoid_action}
  The monoid of \hyperref[def:natural_numbers]{natural numbers} \( \BbbN \) (\hyperref[rem:peano_arithmetic_zero]{with zero}) act on any \hyperref[def:monoid]{monoid} by \hyperref[def:monoid/exponentiation]{exponentiation} via the family of function \( g \mapsto g^n \) indexed by \( n \in \BbbN \).
\end{proposition}
\begin{comments}
  \item A stronger result holds for groups --- see \fullref{thm:exponentiation_group_action}.
\end{comments}
\begin{proof}
  This family satisfies \fullref{def:monoid_action/family}:
  \begin{itemize}
    \item \ref{eq:def:monoid_action/family/identity} is obvious.
    \item \ref{eq:def:monoid_action/family/compatibility} follows from \fullref{thm:semigroup_exponentiation_properties/repeated}.
  \end{itemize}
\end{proof}

\begin{definition}\label{def:continuous_monoid_action}\mcite[161]{Lee2012SmoothManifolds}
  Consider the \hyperref[def:monoid_action]{monoid action} \( \Phi: M \times X \to X \). If \( M \) is a \hyperref[def:topological_semigroup]{topological monoid} and \( X \) is a \hyperref[def:topological_space]{topological space}, we may require \( \Phi \) to be continuous. In this case we say that \( \Phi \) is a \term{continuous action}.
\end{definition}
\begin{comments}
  \item \incite{Lee2012SmoothManifolds} states this definition for group actions; the generalization to monoid actions is straightforward.
\end{comments}

\begin{proposition}\label{thm:def:monoid_action}
  The \hyperref[def:monoid_action]{monoid action} \( \Phi: M \times X \to X \) has the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:monoid_action/iterated} For any \( t \) in \( M \) and any nonnegative integer \( n \), the map \( \Phi_{nt} \) equals the iterated composition \( \Phi_t^n \).
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:monoid_action/iterated} We will use induction on \( n \):
  \begin{itemize}
    \item In the base case \( n = 0 \), \( \Phi_{nt} \) is the identity by \eqref{eq:def:monoid_action/family/identity}, while \( \Phi_t^n \) is the identity by definition of nullary composition.

    \item If the inductive hypothesis holds for \( n - 1 \), then
    \begin{equation*}
      \Phi_{nt}
      =
      \Phi_{t + (n - 1)t}
      \reloset {\eqref{eq:def:monoid_action/family/compatibility}} =
      \Phi_t \bincirc \Phi_{(n - 1)t}
      \reloset {\T{ind.}} =
      \Phi_t \bincirc (\Phi_t^{n-1})
      =
      \Phi_t^n.
    \end{equation*}
  \end{itemize}
\end{proof}

\paragraph{Group actions}

\begin{definition}\label{def:automorphism_group}\mcite[example 4.6]{Aluffi2009Algebra}
  For every object \( X \) in an arbitrary \hyperref[def:category]{category} \( \cat{C} \), define the \term{automorphism group} \( \aut(X) \) as the set of all invertible endomorphisms on \( X \).
\end{definition}
\begin{defproof}
  \Fullref{thm:invertible_submonoid_is_group} implies that \( \aut(X) \) is indeed a group as the subset of all invertible elements of the \hyperref[def:endomorphism_monoid]{endomorphism monoid} \( \End(X) \).
\end{defproof}

\begin{definition}\label{def:group_action}\mimprovised
  Let \( G \) be a \hyperref[def:group]{group} and let \( X \) be a set or, more generally, an object in some \hyperref[def:concrete_category]{concrete category} \( \cat{C} \).

  A (\term{left}) \term[bg=действие (на група) (\cite[def. IV.18]{ГеновМиховскиМоллов1991Алгебра}), ru=действие (группы) (\cite[98]{Тыртышников2017ОсновыАлгебры}), en=group action (\cite[108]{Aluffi2009Algebra})]{group action} of \( G \) on \( X \) by morphisms of \( \cat{C} \) is simply a \hyperref[def:monoid_action]{monoid action}. Explicitly:
  \begin{thmenum}
    \thmitem{def:group_action/homomorphism}\mcite[108]{Aluffi2009Algebra} A \hyperref[def:group/homomorphism]{group homomorphism} from \( G \) to the \hyperref[def:automorphism_group]{automorphism group} \( \aut(X) \).

    Right actions are instead homomorphisms from the \hyperref[def:group/opposite]{opposite group} \( G^\oppos \) to \( \aut(X) \).

    \thmitem{def:group_action/functor}\mcite[exerc. 1.3.9]{Riehl2016CategoryTheory} A \hyperref[def:functor]{functor} from the \hyperref[def:monoid_delooping]{delooping} \( \cat{B} G \) to \( \cat{C} \) that maps \( \Anon \) to \( X \).

    Right actions are instead \hyperref[rem:contravariant_functor]{contravariant functors}.

    \thmitem{def:group_action/family}\mcite[98]{Тыртышников2017ОсновыАлгебры} An \hyperref[def:indexed_family]{indexed family} \( \seq{ \Phi_x }_{x \in G} \) of \hyperref[def:morphism_invertibility/isomorphism]{isomorphisms} of \( X \) such that, for every pair \( g, h \in G \),
    \begin{equation}\label{eq:def:group_action/family/compatibility}\tag{\logic{GA}}
      \Phi_{gh} = \Phi_g \bincirc \Phi_h.
    \end{equation}

    This defines a function \( \Phi: M \times X \to X \).
  \end{thmenum}
\end{definition}
\begin{comments}
  \item Even though we assume by default that \( X \) is a set, more general cases can be helpful; see \fullref{rem:group_action_category}.
\end{comments}

\begin{remark}\label{rem:group_action_category}
  We gave in \fullref{def:group_action/functor} a definition of group action as a functor from the \hyperref[def:monoid_delooping]{delooping} \( \cat{B} G \) to a \hyperref[rem:concrete_categories]{concrete category} \( \cat{C} \). Without requiring the category to be concrete, \fullref{def:group_action/functor} is stated by \incite[exerc. 1.3.9]{Riehl2016CategoryTheory}. This precludes the other equivalent forms that we have given.

  Other category theory books, for example \cite[example 1.2.8]{Leinster2014BasicCategoryTheory} and \cite[example 1.3.10]{Perrone2024StartingCategoryTheory}, define an action as a functor from \( \cat{B} G \) to the \hyperref[def:category_of_small_sets]{category of small sets} \( \cat{Set} \). This definition reduces to our definition of an action on a set by functions.

  One advantage that Riehl highlights to the more general definition is the ability to encompass group representations; indeed, we define them in \fullref{def:group_representation} as a special case. We also define dynamical systems in \fullref{def:dynamical_system} as a special case.

  Generally, when considering specific types of actions, such as \hyperref[def:continuous_monoid_action]{continuous actions}, it is not be sufficient to specify the morphisms of \( X \) --- we need to specify restrictions on \( \Phi \).

  Furthermore, generalizing the terminology to group representations and \hyperref[def:dynamical_system]{dynamical systems} introduces subtleties, for which reason we will give distinct definitions for the latter.

  Nevertheless, simplistic definitions are often preferred in the literature:
  \begin{itemize}
    \item Group actions are defined as homomorphisms from \( G \) into the symmetric group of \( X \), as in \fullref{def:group_action/homomorphism}, by
    \incite[def. 1.1.1]{Berger1987GeometryI},
    \incite[def. 1.7]{Jacobson1985BasicAlgebraI},
    \incite[110]{Aluffi2009Algebra},
    \incite[159]{Knapp2016BasicAlgebra},
    \incite[def. 10.3.1]{Винберг2014КурсАлгебры},
    \incite[140]{Шафаревич1999ОсновныеПонятияАлгебры} and
    \incite[213]{Гуров2013ТеорияРешёток}.

    \item Group actions are defined as a family of bijective functions on \( X \), as in \fullref{def:group_action/family}, by
    \incite[5]{Rotman2017AdvancedModernAlgebraPart2},
    \incite[98]{Тыртышников2017ОсновыАлгебры},
    \incite[98]{Прасолов2004КомбинаторнаяИДифференциальнаяТопология},
    \incite[104]{КановейЛюбецкий2010СовременнаяТеорияМножеств} and
    \incite[102]{ГеновМиховскиМоллов1991Алгебра}.
  \end{itemize}
\end{remark}

\begin{proposition}\label{thm:group_action_of_neutral_element}
  For a \hyperref[def:group_action]{group action} \( \Phi: G \times X \to X \), the morphism \( \Phi_e \) is the identity on \( X \).
\end{proposition}
\begin{comments}
  \item This is a restatement of \eqref{eq:def:monoid_action/family/identity}.
\end{comments}
\begin{proof}
  Since \( \Phi \) is, equivalently, a group homomorphism from \( G \) to \( \aut(X) \), the morphism \( \Phi_e \) is the neutral element of \( \aut(X) \), hence it is the identity on \( X \).
\end{proof}

\begin{lemma}\label{thm:group_operation_induces_bijections}
  For each element \( g \) of a group \( G \), the function \( h \mapsto g \cdot h \) is bijective.
\end{lemma}
\begin{comments}
  \item These functions are not group isomorphisms unless \( g \) is the neutral element.
\end{comments}
\begin{proof}
  Denote \( h \mapsto g \cdot h \) by \( \Phi_g \).

  \SubProofOf[def:function_invertibility/injective/equality]{injectivity} If \( \Phi_g(h) = \Phi_g(h') \), then
  \begin{equation*}
    gh = \Phi_g(h) = \Phi_g(h') = gh'.
  \end{equation*}

  By \fullref{thm:def:group/cancellative}, \( h = h' \).

  \SubProofOf[def:function_invertibility/surjective/existence]{surjectivity} If \( h \in G \), then \( h = g(g^{-1} h) \). Therefore, \( h = \Phi_g(g^{-1} h) \), and thus every member of \( G \) has a preimage.
\end{proof}

\begin{proposition}\label{thm:group_is_action}
  Every \hyperref[def:group]{group} \( G \) \hyperref[def:group_action]{acts} on itself via the family of plain (bijective) functions
  \begin{equation*}
    \Phi_g(h) \coloneqq g \cdot h.
  \end{equation*}
\end{proposition}
\begin{comments}
  \item The phrase \enquote{plain bijective functions} highlight that the functions may not be group homomorphisms.
\end{comments}
\begin{proof}
  Follows directly from \fullref{thm:monoid_is_action} and \fullref{thm:group_operation_induces_bijections}.
\end{proof}

\begin{proposition}\label{thm:exponentiation_group_action}
  The group of \hyperref[def:integers]{integers} \( \BbbZ \) acts on any \hyperref[def:group]{group} by \hyperref[def:monoid/exponentiation]{exponentiation} via the family of function \( g \mapsto g^n \) indexed by \( n \in \BbbZ \).
\end{proposition}
\begin{comments}
  \item A weaker result holds for monoid --- see \fullref{thm:exponentiation_monoid_action}.
\end{comments}
\begin{proof}
  Follows from \fullref{thm:exponentiation_monoid_action}.
\end{proof}

\begin{proposition}\label{thm:group_conjugation_action}\mcite[165]{Knapp2016BasicAlgebra}
  Left (resp. right) \hyperref[def:group_conjugation]{conjugation} by group elements is a left (resp. right) \hyperref[def:group_action]{group action} of the group on itself.
\end{proposition}
\begin{proof}
  We will first consider left actions. Let
  \begin{equation*}
    \Phi_g(x) \coloneqq g \cdot x \cdot g^{-1}.
  \end{equation*}

  We must only verify \eqref{eq:def:group_action/family/compatibility}, which follows directly from \fullref{thm:def:group/inverse_composition}:
  \begin{equation*}
    \Phi_{gh}(x)
    =
    g \cdot h \cdot x \cdot h^{-1} \cdot g^{-1}
    =
    \Phi_g(\Phi_h(x)).
  \end{equation*}

  For right conjugation, we instead have
  \begin{equation*}
    \Phi_{gh}(x)
    =
    h^{-1} \cdot g^{-1} \cdot x \cdot g \cdot h
    =
    \Phi_h(\Phi_g(x)).
  \end{equation*}
\end{proof}

\begin{example}\label{ex:def:group_action}
  We list examples of \hyperref[def:group_action]{group actions}:
  \begin{thmenum}
    \thmitem{ex:def:group_action/group} As shown in \fullref{thm:group_is_action}, every group acts on itself.

    \thmitem{ex:def:group_action/exponentiation} As shown in \fullref{thm:exponentiation_group_action}, the additive group of integers acts on any group by exponentiation.

    \thmitem{ex:def:group_action/conjugation} As shown in \fullref{thm:group_conjugation_action}, every group acts on itself by conjugation.

    \thmitem{ex:def:group_action/representation} All \hyperref[def:group_representation]{group representations} (see \fullref{ex:def:group_representation}) are group actions by definition.

    \thmitem{ex:def:group_action/dynamical_system} All \hyperref[def:dynamical_system]{dynamical systems} (see \fullref{ex:def:dynamical_system}) are also group actions by definition.

    \thmitem{ex:def:group_action/formula_duality} \Fullref{thm:preorder_duality} shows how the two-element \hyperref[def:cyclic_group]{cyclic group} with identity \( e \) and symbol \( a \) acts on formulas in the \hyperref[def:preordered_set/theory]{first-order language of preordered sets} --- the identity \( e \) maps every formula to itself, while \( a \) maps reverses the direction of inequalities.

    For the \hyperref[def:lattice/theory]{language of lattices}, as justified by \fullref{thm:lattice_duality}, we instead consider the group with identity \( e \) and symbol \( b \), where \( b \) exchanges joins and meets.

    We can combine the groups two into their \hyperref[def:first_order_direct_product]{direct product}, the \hyperref[def:klein_four_group]{Klein four group} with elements \( e \), \( a \), \( b \) and \( ab \), which allows compactly representing the four formula transformations from \fullref{thm:boolean_algebra_duality}.
  \end{thmenum}
\end{example}

\begin{proposition}\label{thm:def:group_action}
  The \hyperref[def:group_action]{group action} \( \Phi: G \times X \to X \) has the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:group_action/negation} For any \( t \) from \( G \), we have
    \begin{equation}\label{eq:thm:def:group_action/negation}
      \Phi_{-t} = (\Phi_t)^{-1}.
    \end{equation}

    \thmitem{thm:def:group_action/iterated} For any moment \( t \) and any integer \( n \), the map \( \Phi_{nt} \) equals the iterated composition \( \Phi_t^n \). In case the system is irreversible, this only holds for nonnegative \( n \).
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:group_action/negation} We have
  \begin{equation*}
    \Phi_{g^{-1}} \cdot \Phi_g
    \reloset {\eqref{eq:def:monoid_action/family/compatibility}} =
    \Phi_{g^{-1} \cdot g}
    =
    \Phi_e
    \reloset {\eqref{eq:def:monoid_action/family/identity}} =
    \id,
  \end{equation*}
  hence \( \Phi_{g^{-1}} \) is a left inverse of \( \Phi_g \). It is similarly shown to be a right inverse. Thus,
  \begin{equation*}
    (\Phi_g)^{-1} = \Phi_{g^{-1}}.
  \end{equation*}

  \SubProofOf{thm:def:group_action/iterated} The case where \( n \geq 0 \) follows from \fullref{thm:def:monoid_action/iterated}. Then,
  \begin{equation*}
    \Phi_{(-n)t}
    \reloset {\eqref{eq:thm:def:group_action/negation}} =
    (\Phi_nt)^{-1}
    =
    [(\Phi_t)^n]^{-1}
    \reloset {\eqref{eq:def:group/exponentiation}} =
    (\Phi_t)^{-n}.
  \end{equation*}
\end{proof}

\paragraph{Group action orbits}

\begin{definition}\label{def:group_action_orbit}\mcite[163]{Knapp2016BasicAlgebra}
  The \term[bg=орбита (\cite[def. IV.20]{ГеновМиховскиМоллов1991Алгебра}), ru=орбита (\cite[453]{Винберг2014КурсАлгебры})]{orbit} of \( x \) under the \hyperref[def:group_action]{group action} \( \Phi: G \times X \to X \) is the set of all members of \( X \) \enquote{reachable} from \( x \):
  \begin{equation*}
    \set{ \Phi_g(x) \given g \in G }.
  \end{equation*}
\end{definition}

\begin{proposition}\label{thm:orbit_induces_partition}
  The set of all \hyperref[def:group_action_orbit]{orbits} of a group action \( \Phi: G \times X \to X \) is a \hyperref[def:set_partition]{partition} of \( X \).
\end{proposition}
\begin{proof}
  It will be simpler for us to show that \( {\sim} \) is an equivalence relation, where we define \( {\sim} \) to hold for \( x \) and \( x' \) if they belong to the same orbit.

  \SubProofOf[def:binary_relation/reflexive]{reflexivity} \Fullref{thm:group_action_of_neutral_element} implies that, for any \( x \in X \), we have \( \Phi_e(x) = x \) and hence \( x \sim x \).

  \SubProofOf[def:binary_relation/symmetric]{symmetry} If \( x \sim x' \), then there exists a group element \( g \) such that \( x' = \Phi_g(x) \). Then \( x = \Phi_{g^{-1}}(x') \).

  \SubProofOf[def:binary_relation/transitive]{transitivity} Follows directly from \eqref{eq:def:group_action/family/compatibility}.
\end{proof}

\begin{example}\label{ex:def:group_action_orbit}
  We give examples of \hyperref[def:group_action_orbit]{orbits} of group actions:
  \begin{thmenum}
    \thmitem{ex:def:group_action_orbit/rotation} The \hyperref[def:circle_group]{circle group} represents \hyperref[def:rigid_motion/rotation]{rotation} in the \hyperref[def:euclidean_plane]{Euclidean plane} under composition and \hyperref[def:group_action_orbit]{orbits} of this action are \hyperref[def:circle]{circles}.

    \begin{figure}
      \centering
      \includegraphics{output/ex__def__group_action_orbit__rotation}
      \caption{The rotation action from \fullref{ex:def:group_action_orbit/rotation}}
      \label{fig:ex:def:group_action_orbit/rotation}
    \end{figure}

    Indeed, the orbit of the point \( (x, y) \) is the set of all rotations of \( (x, y) \). \Fullref{thm:isometry_iff_affine_orthogonal_operator} implies that rotations are isometries, hence the point \( (x, y) \) uniquely determines the norm of each point in its orbit. Therefore, this orbit is precisely the \hyperref[def:circle]{circle} centered at \( \vec 0 \) with radius \( \sqrt{x^2 + y^2} \).

    \thmitem{ex:def:group_action_orbit/trajectory} The underlying set of a \hyperref[def:dynamical_system_trajectory]{trajectory} in a \hyperref[def:dynamical_system]{dynamical system} is an orbit.

    \thmitem{ex:def:group_action_orbit/collatz} The study of the \fullref{hyp:collatz_conjecture} can be rephrased in terms of orbits --- see \fullref{thm:collatz_map_as_dynamical_system}.
  \end{thmenum}
\end{example}

\paragraph{Group representations}

\begin{definition}\label{def:group_representation}\mimprovised
  Let \( G \) be a \hyperref[def:group]{group} and let \( X \) be a \hyperref[def:vector_space]{vector space} over \( \BbbK \) or, more generally, an object in some \hyperref[def:category]{category} \( \cat{C} \) \hyperref[def:concrete_category]{concrete} over the \hyperref[def:vector_space]{category of vector spaces} \( \cat{Vect}_\BbbK \).

  A \term[ru=линейное представление (\cite[def. 11.1.1]{Винберг2014КурсАлгебры})]{representation} of \( G \) on \( X \) is a \hyperref[def:group_action]{group action} of \( G \) by morphisms of \( \cat{C} \).
\end{definition}
\begin{comments}
  \item We generalize the definition by \incite[def. 11.1.1]{Винберг2014КурсАлгебры}, who only considers the cases where \( X \) is a vector space or an \hyperref[def:algebra_over_ring]{algebra} over \( \BbbK \).

  \incite[def. 3.1.1]{Steinberg2012RepresentationTheory} reasonably only considers finite-dimensional vector spaces --- this allows him to avoid continuity considerations for infinite-dimensional vector spaces.
\end{comments}

\begin{definition}\label{def:continuous_group_representation}\mcite[def. 6.8.25]{Sally2013Analysis}
  We say that the \hyperref[def:group_representation]{group representation} \( \Phi: G \times X \to X \) of a \hyperref[def:topological_group]{topological group} \( G \) on a \hyperref[def:topological_vector_space]{topological vector space} \( X \) is \term{continuous} if it is continuous as a function, i.e. a \hyperref[def:continuous_monoid_action]{continuous action}.
\end{definition}

\begin{definition}\label{def:group_representation_degree}\mcite[def. 3.1.1]{Steinberg2012RepresentationTheory}
  We define the \term[ru=размерность (представления) (\cite[def. 11.1.1]{Винберг2014КурсАлгебры})]{degree} of a \hyperref[def:group_representation]{group representation} \( \Phi: G \times V \to V \) as the \hyperref[def:vector_space_dimension]{vector space dimension} of \( V \).
\end{definition}

\begin{example}\label{ex:def:group_representation}
  We list examples of \hyperref[def:group_representation]{group representations}:
  \begin{thmenum}
    \thmitem{ex:def:group_representation/trivial}\mcite[example 3.1.3]{Steinberg2012RepresentationTheory} For every vector space \( X \) over \( \BbbK \) and every group \( G \), the map sending \( g \) to \( \id_X \) is a representation. This is equivalent to multiplication by \( 1_\BbbK \).

    Even though this representation is trivial for any vector space \( X \) over \( \BbbK \), only one of the is called \hi{the} \term{trivial representation} --- the one acting on \( \BbbK \) itself. It has \hyperref[def:group_representation_degree]{degree} \( 1 \) over \( \BbbK \).

    \thmitem{ex:def:group_representation/alternating}\mcite[5]{Diaconis1988GroupRepresentations} We can map each permutation \( \sigma \) in the \hyperref[def:symmetric_group]{symmetric group} \( S_n \) to its \hyperref[def:permutation_parity]{parity} \( \sgn(\sigma) \), which then acts by multiplication.

    For a field \( \BbbK \), this represents \( S_n \) in any vector space \( X \) over \( \BbbK \). As in the case of trivial representations, we distinguish the one acting on \( \BbbK \) itself and call it \hi{the} \term{alternating representation} of \( S_n \) in \( \BbbK \).

    \thmitem{ex:def:group_representation/complex_units}\mcite[example 3.1.4; example 3.1.5]{Steinberg2012RepresentationTheory} Consider the map
    \begin{equation*}
      \begin{aligned}
        &\varphi: \BbbZ_4 \to \BbbC*, \\
        &\varphi(k) \coloneqq i^k
      \end{aligned}
    \end{equation*}
    that sends an integer modulo \( 4 \) to the corresponding power of the \hyperref[def:complex_numbers]{imaginary unit} \( i \). We thus map \( \set{ 0, 1, 2, 3 } \) to \( 1, i, -1, -i \). The latter act on complex numbers by multiplication, and are invertible for nonzero complex numbers. Thus, \( i^k \) can be regarded as a continuous invertible linear map.

    Therefore, \( \varphi \) is a \hyperref[def:continuous_group_representation]{continuous} representation of \( \BbbZ_4 \) of degree \( 1 \).

    \thmitem{ex:def:group_representation/rotation} The rotation example from \fullref{ex:def:group_action_orbit/rotation} is a representation of the \hyperref[def:circle_group]{circle group} in the \hyperref[def:euclidean_plane]{Euclidean plane}.

    \thmitem{ex:def:group_representation/permutation} \( n \times n \) \hyperref[def:elementary_matrix/permutation]{permutation matrices} represent the \hyperref[def:symmetric_group]{symmetric group} \( S_n \) in any \( n \times m \) matrix space by permuting rows.
  \end{thmenum}
\end{example}

\paragraph{Symmetric groups and permutations}

\begin{definition}\label{def:symmetric_group}\mcite[def. II.2.1]{Aluffi2009Algebra}
  We call the \hyperref[def:automorphism_group]{automorphism group} of a set \( A \) the \term[bg=симетрична група (\cite[376]{Обрешков1962ВисшаАлгебра}), ru=симметрическая группа (\cite[154]{Винберг2014КурсАлгебры})]{symmetric group}\fnote{The term is closely related to symmetric functions defined in \fullref{def:symmetric_function}} on \( A \) and denote it by \( S_A \). The group \( S_A \) consists of bijective functions, which we call \term[bg=субституция (\cite[80]{ГеновМиховскиМоллов1991Алгебра}), ru=подстановка (\cite[154]{Винберг2014КурсАлгебры})); перестановка (\cite[sec. 4.2]{Тыртышников2007ЛинейнаяАлгебра})]{permutations}.

  For a \hyperref[def:cardinal]{cardinal number} \( \nu \), which by \fullref{thm:ordinal_is_set_of_smaller_ordinals} is the set of all smaller ordinals, \( S_\nu \) acts on these smaller ordinals. This is similar to using cardinals for colorings discussed in \fullref{rem:cardinal_colorings} or vertices on universal graphs discussed in \fullref{rem:universal_graph_cardinals}. By convention, however, for a natural number \( n \), the group \( S_n \) to act on \( \set{ 1, \ldots, n } \) rather than \( \set{ 0, \ldots, n - 1 } \). We can denote the permutation \( \sigma \) in \( S_n \) as
  \begin{equation*}
    \sigma
    =
    \begin{pmatrix}
      1         & \cdots & n \\
      \sigma(1) & \cdots & \sigma(n)
    \end{pmatrix}.
  \end{equation*}
\end{definition}
\begin{comments}
  \item Some authors, for example \incite[253]{MacLane1998CategoryTheory}, \incite[31]{Jacobson1985BasicAlgebraI} and \incite[121]{Knapp2016BasicAlgebra}, call \( S_n \) the \enquote{symmetric group on \( n \) letters}.

  \item The term \enquote{permutation} is also used in combinatorics, where it has a different meaning that only coincides with this usage in the cases discussed in \fullref{thm:combinatorial_and_algebraic_permutation}. See \fullref{rem:combinatorial_permutation_terminology} for a discussion of the term \enquote{permutation}.

  \item Our first complete example of a symmetric group will be given for \( S_3 \) in \fullref{ex:s3}, since we need additional machinery in order to properly study it.

  \item \Fullref{thm:symmetric_group_cardinality} implies that \( S_n \) has \( n! \) elements.
\end{comments}

\begin{theorem}[Cayley's theorem]\label{thm:cayleys_theorem}
  Every \hyperref[def:group]{group} \( G \) \hyperref[rem:embeds_isomorphically]{embeds isomorphically} into the corresponding \hyperref[def:symmetric_group]{symmetric group} \( S_G \).
\end{theorem}
\begin{comments}
  \item Compare this to \fullref{thm:cayleys_theorem_for_monoids}.
\end{comments}
\begin{proof}
  The embedding is given by the group action from \fullref{thm:group_is_action}.
\end{proof}

\begin{example}\label{ex:def:symmetric_group}
  We list examples of \hyperref[def:symmetric_group]{symmetric groups and permutations}
  \begin{thmenum}
    \thmitem{ex:def:symmetric_group/automorphism} Every \hyperref[def:morphism_invertibility/automorphism]{automorphism} is a permutation, but not vice versa.

    For example, the additive group of integers \( \BbbZ \) has an automorphism given by \( x \mapsto -x \), and this is a permutation since the only requirement for being a permutation is being a bijective function.

    But an arbitrary permutation like \( x \mapsto x + 1 \) is not an automorphism since \( 0 \mapsto 1 \).

    \thmitem{ex:def:symmetric_group/diamond} The permutation
    \begin{equation}\label{eq:ex:def:symmetric_group/diamond}
      \begin{pmatrix}
        1 & 2 & 3 & 4 & 5 & 6 \\
        3 & 4 & 5 & 6 & 1 & 2
      \end{pmatrix}
    \end{equation}
    is displayed graphically in \ref{fig:ex:def:symmetric_group/diamond}.

    The permutation sends even numbers to even numbers and odd numbers to odd numbers. In fact, we can represent it as the composition
    \begin{equation*}
      \underbrace
        {
          \begin{pmatrix}
            \mathbf{1} & 2 & \mathbf{3} & 4 & \mathbf{5} & 6 \\
            \mathbf{3} & 2 & \mathbf{5} & 4 & \mathbf{1} & 6
          \end{pmatrix}
        }
        _
        {
          \cycle{ 1, 3, 5 }
        }
      \bincirc
      \underbrace
        {
          \begin{pmatrix}
            1 & \mathbf{2} & 3 & \mathbf{4} & 5 & \mathbf{6} \\
            1 & \mathbf{4} & 3 & \mathbf{6} & 5 & \mathbf{2}
          \end{pmatrix}.
        }
        _
        {
          \cycle{ 2, 4, 6 }
        }
    \end{equation*}

    The shortened notation in the underbraces is introduced in \fullref{rem:cycle_notation} and, for these concrete permutations, discussed in \fullref{ex:def:cyclic_permutation/diamond}.

    \begin{figure}
      \centering
      \includegraphics{output/ex__def__symmetric_group}
      \caption{A visualization of the permutation from \fullref{ex:def:symmetric_group/diamond}}
      \label{fig:ex:def:symmetric_group/diamond}
    \end{figure}
  \end{thmenum}
\end{example}

\begin{lemma}\label{thm:sum_of_powers_in_composition}
  For any endomorphism \( f: A \to A \) in any \hyperref[def:category]{category}, for any integers \( n \) and \( m \) we have
  \begin{equation*}
    f^{n + m} = f^n \bincirc f^m.
  \end{equation*}
\end{lemma}
\begin{proof}
  Follows via simple induction on \( m \).
\end{proof}

\begin{proposition}\label{thm:symmetric_group_action}
  Given any \hyperref[def:symmetric_group]{permutation} \( \sigma \) from \( S_A \), the additive group of integers \( \BbbZ \) \hyperref[def:group_action]{acts} on \( A \) via
  \begin{equation*}
    \Phi_e(a) \coloneqq \sigma^e(a).
  \end{equation*}
\end{proposition}
\begin{proof}
  \Fullref{thm:sum_of_powers_in_composition} implies that the condition \eqref{eq:def:group_action/family/compatibility} holds.
\end{proof}

\begin{remark}\label{rem:symmetric_group_actions}
  Every symmetric group \( S_A \) acts on \( A \) via
  \begin{equation*}
    \Phi_\sigma(a) \coloneqq \sigma(a).
  \end{equation*}

  This should not be confused with the action \fullref{thm:symmetric_group_action}, with respect to which we consider orbits in \fullref{def:cyclic_permutation}.
\end{remark}

\paragraph{Cyclic permutations}

\begin{definition}\label{def:cyclic_permutation}\mcite[def. II.4.1]{Aluffi2009Algebra}
  We say that the \hyperref[def:symmetric_group]{permutation} \( \sigma \) in \( S_n \) is \term{cyclic} or a \term[ru=цикл (\cite[sec. 4.3]{Тыртышников2007ЛинейнаяАлгебра})]{cycle} if the action \( \Phi_e \) from \fullref{thm:symmetric_group_action} has exactly one \hyperref[def:group_action_orbit]{orbit} that is nontrivial, that is, it has more than one element. We call the cardinality of this orbit the \term{length} of the cycle.
\end{definition}
\begin{comments}
  \item Cyclic permutations are defined only for the finite symmetric groups \( S_n \).
  \item We elaborate on the definition in \fullref{thm:cyclic_permutation_characterization} and introduce a special cycle notation in \fullref{rem:cycle_notation}.
\end{comments}

\begin{proposition}\label{thm:cyclic_permutation_characterization}
  \hyperref[def:cyclic_permutation]{Cyclic permutations} in \( S_n \) can be characterized as follows:
  \begin{thmenum}
    \thmitem{thm:cyclic_permutation_characterization/cycle} Pick one element from the nontrivial orbit and denote it by \( s_1 \). Recursively define
    \begin{equation*}
      s_{k+1} \coloneqq \sigma(s_k).
    \end{equation*}
    for all \( k < m \). Then
    \begin{equation}\label{eq:thm:def:cyclic_permutation/cycle}
      \sigma(q) = \begin{cases}
        s_1,       &q = s_m, \\
        s_{i + 1}, &q = s_i \T{for} i < m, \\
        q,         &\T{otherwise}
      \end{cases}
    \end{equation}

    \begin{figure}
      \centering
      \includegraphics{output/thm__cyclic_permutation_characterization}
      \caption{Visualization of a cycle with five elements}
      \label{fig:thm:cyclic_permutation_characterization}
    \end{figure}

    \thmitem{thm:cyclic_permutation_characterization/generating} If \( s_1, \ldots, s_m \) are distinct numbers between \( 1 \) and \( n \) and if \( m > 1 \), then \fullref{eq:thm:def:cyclic_permutation/cycle} defines a cycle of length \( m \).
  \end{thmenum}
\end{proposition}
\begin{comments}
  \item Some authors like \incite[15]{Knapp2016BasicAlgebra} and \incite[sec. 4.3]{Тыртышников2007ЛинейнаяАлгебра} define cycles as permutations satisfying \cref{eq:thm:def:cyclic_permutation/cycle}.
\end{comments}
\begin{proof}
  \SubProofOf{thm:cyclic_permutation_characterization/cycle} We will prove the individual cases in \eqref{eq:thm:def:cyclic_permutation/cycle}:
  \begin{itemize}
    \item \Fullref{thm:pigeonhole_principle/simple} implies that the value \( \sigma(s_m) \) must be among \( s_1, \ldots, s_m \).

    If \( \sigma(s_m) = s_i \) for \( i > 1 \), then \( \sigma(s_m) = s_i = \sigma(s_{i-1}) \), contradicting the injectivity of \( \sigma \).

    Hence, it follows that \( \sigma(s_m) = s_1 \).

    \item For any \( i < m \), by definition \( \sigma(s_i) = s_{i + 1} \).

    \item If \( q \) is not in the nontrivial orbit of \( \sigma \), it is the only element of its own orbit, and hence \( \sigma(q) = q \).
  \end{itemize}

  \SubProofOf{thm:cyclic_permutation_characterization/generating} Trivial.
\end{proof}

\begin{remark}\label{rem:cycle_notation}
  Having \fullref{thm:cyclic_permutation_characterization} in mind, we can introduce a simplified notation for \hyperref[def:cyclic_permutation]{cyclic permutations}.

  Rather than the elaborate definition \eqref{eq:thm:def:cyclic_permutation/cycle}, we can write the corresponding cycle as
  \begin{equation*}
    \sigma = \cycle{ s_1, \ldots, s_m }.
  \end{equation*}
\end{remark}

\begin{example}\label{ex:def:cyclic_permutation}
  We list examples of \hyperref[def:cyclic_permutation]{cyclic permutations}:
  \begin{thmenum}
    \thmitem{ex:def:cyclic_permutation/id} The identity does not satisfy our definition of permutation because every orbit is trivial.

    \thmitem{ex:def:cyclic_permutation/123} Consider the permutation \( \cycle{ 1, 2, 3 } \) from \( S_3 \). Writing it via the permutation notation from \fullref{def:symmetric_group}, we obtain
    \begin{equation*}
      \begin{pmatrix}
        1 & 2 & 3 \\
        2 & 3 & 1
      \end{pmatrix}.
    \end{equation*}

    Furthermore,
    \begin{equation*}
      \cycle{ 1, 2, 3 } = \cycle{ 1, 3 } \bincirc \cycle{ 1, 2 },
    \end{equation*}
    which generalizes to \fullref{thm:cycle_transposition_decomposition}.

    We will discuss this group in detail in \fullref{ex:s3}.

    \thmitem{ex:def:cyclic_permutation/diamond} Consider the permutation \eqref{eq:ex:def:symmetric_group/diamond} from \fullref{ex:def:symmetric_group/diamond}. It has two orbits --- \( \set{ 1, 3, 5 } \) and \( \set{ 2, 4, 6 } \). The two orbits correspond to the cycles \( \cycle{ 1, 3, 5 } \) and \( \cycle{ 2, 4, 6 } \). Composing these cycles in any order gives \eqref{eq:ex:def:symmetric_group/diamond}.

    This is generalized in \fullref{thm:permutation_decomposition_into_disjoint_cycles}.

    Furthermore, from \cref{fig:ex:def:symmetric_group/diamond} it becomes clear that
    \begin{equation*}
      \cycle{ 1, 3, 5 } = \cycle{ 3, 5, 1 } = \cycle{ 5, 1, 3 }.
    \end{equation*}

    This is generalized in \fullref{thm:cyclic_permutation_cyclic_shift}.
  \end{thmenum}
\end{example}

\begin{definition}\label{def:shifted_remainder}\mimprovised
  Under our integer remainder function from \fullref{alg:integer_division}, \( 0 \leq \rem(n, m) < m \). Since we often start indexing from \( 1 \) rather than \( 0 \), it will be convenient to use the \enquote{shifted remainder}
  \begin{equation}\label{eq:def:shifted_remainder}
    \rem_1(n, m) \coloneqq \rem(n - 1, m) + 1,
  \end{equation}
  where \( 1 \leq \rem_1(n, m) \leq m \).
\end{definition}

\begin{definition}\label{def:cyclic_shift}\mimprovised
  The \term{cyclic shift} of a list
  \begin{equation*}
    a_1, a_2, \ldots, a_n
  \end{equation*}
  by an integer \( c \) is the list
  \begin{equation*}
    a_{k_1}, \ldots, a_{k_n},
  \end{equation*}
  where \( k_i \coloneqq \rem_1(i + c, m) \) for \( i = 1, \ldots, n \).
\end{definition}

\begin{proposition}\label{thm:cyclic_permutation_cyclic_shift}
  \hyperref[def:cyclic_permutation]{Cyclic permutations} are invariant under \hyperref[def:cyclic_shift]{cyclic shifts} of the elements in their representations.

  More concretely, consider a cycle \( \cycle{ s_1, \cdots, s_m } \) from \( S_n \) and let \( k_1, \ldots, k_m \) be the coefficients of some cyclic shift of \( s_1, \ldots, s_n \). Then
  \begin{equation*}
    \cycle{ s_1, \cdots, s_m } = \cycle{ s_{k_1}, \cdots, s_{k_m} }.
  \end{equation*}
\end{proposition}
\begin{comments}
  \item If we visualize the cycle as in \cref{fig:thm:cyclic_permutation_characterization}, cyclic shifting corresponds to \hyperref[def:rigid_motion/rotation]{plane rotation}.
\end{comments}
\begin{proof}
  Obvious from the definition of cycle.
\end{proof}

\begin{definition}\label{def:disjoint_cycle}\mcite[214]{Aluffi2009Algebra}
  We say that two \hyperref[def:cyclic_permutation]{cycles} on \( S_n \) are \term[ru=независимые (\cite[sec. 4.3]{Тыртышников2007ЛинейнаяАлгебра})]{disjoint} if their nontrivial \hyperref[def:group_action_orbit]{orbits} are disjoint.
\end{definition}
\begin{comments}
  \item More simply, the cycles \( \cycle{ s_1, \ldots, s_m } \) and \( \cycle{ r_1, \ldots, r_l } \) are disjoint if the sets \( \set{ s_1, \ldots, s_m } \) and \( \set{ r_1, \ldots, r_l } \) are disjoint.
\end{comments}

\begin{proposition}\label{thm:disjoint_cycles_commute}
  \hyperref[def:disjoint_cycle]{Disjoint cycles} commute under composition.
\end{proposition}
\begin{proof}
  Trivial.
\end{proof}

\begin{proposition}\label{thm:permutation_decomposition_into_disjoint_cycles}
  Let \( \sigma \) be an arbitrary permutation in \( S_n \) and let \( O_1, \ldots, O_p \) be the nontrivial orbits of \( \sigma \).

  To each nontrivial orbit \( O_i \) there corresponds some cycle \( \cycle{ s_{i,1}, \ldots, s_{i,m_i} } \). Then
  \begin{equation*}
    \sigma = \cycle{ s_{1,1}, \ldots, s_{1,m_1} } \bincirc \cdots \bincirc \cycle{ s_{p,1}, \ldots, s_{p,m_p} }.
  \end{equation*}

  Furthermore, the cycles are pairwise \hyperref[def:disjoint_cycle]{disjoint}, and \fullref{thm:disjoint_cycles_commute} implies that we can rearrange them.
\end{proposition}
\begin{proof}
  Trivial.
\end{proof}

\paragraph{Alternating groups}

\begin{definition}\label{def:transposition}\mcite[219]{Aluffi2009Algebra}
  A \term{transposition} is a \hyperref[def:cyclic_permutation]{cyclic permutation} of length \( 2 \).
\end{definition}

\begin{proposition}\label{thm:transpositions_are_involutions}
  Every \hyperref[def:transposition]{transposition} is an \hyperref[def:morphism_invertibility/involution]{involution}.
\end{proposition}
\begin{proof}
  Trivial.
\end{proof}

\begin{proposition}\label{thm:cycle_transposition_decomposition}
  Every nontrivial cycle \( \cycle{ s_1, \cdots, s_m } \) can be decomposed into the product of \hyperref[def:transposition]{transpositions}
  \begin{equation*}
    \cycle{ s_1, \cdots, s_m } = \cycle{ s_1, s_m } \bincirc \cycle{ s_1, s_{m-1} } \bincirc \cdots \bincirc \cycle{ s_1, s_2 }.
  \end{equation*}
\end{proposition}
\begin{proof}
  We will use induction by \( m \). The proposition is trivial for transpositions (\( m = 2 \)), hence suppose that it holds for \( m - 1 \) and consider the transposition \( \cycle{ s_1, \cdots, s_m } \).

  We have, by the inductive hypothesis,
  \begin{equation*}
    \cycle{ s_1, \cdots, s_{m - 1} }
    =
    \cycle{ s_1, s_{m - 1} } \bincirc \cycle{ s_1, s_{m-1} } \bincirc \cdots \bincirc \cycle{ s_1, s_2 }.
  \end{equation*}

  By definition of cycle, \( s_{m-1} \) and \( s_1 \) get swapped, therefore
  \begin{equation*}
    \cycle{ s_1, \cdots, s_m } = \cycle{ s_1, s_m } \bincirc \cycle{ s_1, \cdots, s_{m - 1} }.
  \end{equation*}

  This completes the induction.
\end{proof}

\begin{lemma}\label{thm:permutation_parity_correctness}
  If a \hyperref[def:symmetric_group]{permutation} \( \sigma \in S_n \) can be decomposed into \hyperref[def:transposition]{transpositions} as both
  \begin{equation}\label{eq:thm:permutation_parity_correctness/s}
    \sigma = \underbrace{\cycle{ s_1, s_2 } \bincirc \cycle{ s_3, s_4 } \bincirc \cdots \bincirc \cycle{ s_{2m-1}, s_{2m} }}_{m \T*{transpositions}}
  \end{equation}
  and
  \begin{equation}\label{eq:thm:permutation_parity_correctness/r}
    \sigma = \underbrace{\cycle{ r_1, r_2 } \bincirc \cycle{ r_3, r_4 } \bincirc \cdots \bincirc \cycle{ r_{2l-1}, r_{2l} }}_{l \T*{transpositions}},
  \end{equation}
  then \( m - l \) is an even number.
\end{lemma}
\begin{comments}
  \item The gist of the proposition is discussed in \fullref{ex:thm:permutation_parity_correctness}.
\end{comments}
\begin{proof}
  We will use induction on \( m \). First consider the base case \( m = 0 \). Then \( \sigma \) is the identity. Hence, every transposition in \eqref{eq:thm:permutation_parity_correctness/r} should be present twice so that its action cancels out. Therefore, \( l \) is an even number.

  Now suppose that the statement holds for \( m - 1 \). Add (compose on the right) the last transposition \( \cycle{ s_{2m-1}, s_{2m} } \) of \eqref{eq:thm:permutation_parity_correctness/s} to both \eqref{eq:thm:permutation_parity_correctness/s} and \eqref{eq:thm:permutation_parity_correctness/r}. The obtained permutations are obviously equal. Furthermore, since \( \cycle{ s_{2m-1}, s_{2m} } \) is its own inverse, we can just as well remove \( \cycle{ s_{2m-1}, s_{2m} } \) from \eqref{eq:thm:permutation_parity_correctness/s} to obtain a decomposition of \( \sigma \bincirc \cycle{ s_{2m-1}, s_{2m} } \) into \( m - 1 \) (rather than \( m + 1 \)) transpositions.

  By the inductive hypothesis, \( (m - 1) - (l + 1) = m - l - 2 \) is an even number. Therefore, \( m - l \) is also an even number.
\end{proof}

\begin{example}\label{ex:thm:permutation_parity_correctness}
  We will demonstrate \fullref{thm:permutation_parity_correctness}. Consider the permutation \( \sigma \) from \fullref{ex:def:symmetric_group/diamond}. We have shown in \fullref{ex:def:cyclic_permutation/diamond} that
  \begin{equation*}
    \sigma = \cycle{ 1, 3, 5 } \bincirc \cycle{ 2, 4, 6 }.
  \end{equation*}

  \Fullref{thm:cycle_transposition_decomposition} implies that
  \begin{equation*}
    \sigma = \cycle{ 1, 5 } \bincirc \cycle{ 1, 3 } \bincirc \cycle{ 2, 4 } \bincirc \cycle{ 2, 6 }.
  \end{equation*}

  We can add any transposition to this decomposition, but we must also reverse its action to obtain \( \eqref{eq:ex:def:symmetric_group/diamond} \) again. For example, \( \sigma \bincirc \cycle{ 1, 2 } \) is not equal to \( \sigma \), but
  \begin{equation*}
    \sigma \bincirc \cycle{ 1, 2 } \bincirc \cycle{ 1, 2 } = \sigma.
  \end{equation*}

  Let us try to find another decomposition of \( \sigma \). First note that
  \begin{equation*}
    \sigma \bincirc \cycle{ 1, 2 }
    =
    \begin{pmatrix}
      1 & 2 & 3 & 4 & 5 & 6 \\
      3 & 4 & 5 & 6 & 2 & 1
    \end{pmatrix}
    =
    \cycle{ 1, 3, 5, 2, 4, 6 }
    \reloset {\ref{thm:cyclic_permutation_cyclic_shift}} =
    \cycle{ 3, 5, 2, 4, 6, 1 }.
  \end{equation*}

  We choose to start with \( 3 \) so that no two transpositions in our final representation are equal. \Fullref{thm:cycle_transposition_decomposition} implies that
  \begin{equation*}
    \sigma \bincirc \cycle{ 1, 2 }
    =
    \underbrace{\cycle{ 3, 1 }}_{\cycle{ 1, 3 }} \bincirc \cycle{ 3, 6 } \bincirc \cycle{ 3, 4 } \bincirc \underbrace{\cycle{ 3, 2 }}_{\cycle{ 2, 3 }} \bincirc \cycle{ 3, 5 }.
  \end{equation*}

  Then
  \begin{equation*}
    \sigma
    \reloset {\ref{thm:transpositions_are_involutions}} =
    \sigma \bincirc \cycle{ 1, 2 } \bincirc \cycle{ 1, 2 }
    =
    \cycle{ 1, 3 } \bincirc \cycle{ 3, 6 } \bincirc \cycle{ 3, 4 } \bincirc \cycle{ 2, 3 } \bincirc \cycle{ 3, 5 } \bincirc \cycle{ 1, 2 }.
  \end{equation*}

  These transpositions are not disjoint, unlike those from our initial decomposition.
\end{example}

\begin{proposition}\label{thm:permutation_decomposition_existence}
  Every \hyperref[def:symmetric_group]{permutation} from \( S_n \) can be decomposed into a product of \hyperref[def:cyclic_permutation]{transpositions}.
\end{proposition}
\begin{comments}
  \item It follows from the discussion in \fullref{ex:thm:permutation_parity_correctness} that this decomposition is not unique.
\end{comments}
\begin{proof}
  By \fullref{thm:permutation_decomposition_into_disjoint_cycles}, the permutation can be decomposed into a (perhaps nullary) product of cycles. By \fullref{thm:permutation_parity_correctness}, each of those cycles can be decomposed into a product of transpositions. Hence, at least one decomposition into transpositions exists for every permutation.
\end{proof}

\begin{definition}\label{def:permutation_parity}\mimprovised
  We say that a \hyperref[def:symmetric_group]{permutation} from \( S_n \) is \term{even} if it can be decomposed into an even number of \hyperref[def:cyclic_permutation]{transpositions}. Otherwise, we call the permutation \term{odd}.

  We correspondingly define the \term{sign} of a permutation as \( 1 \) for even permutations and as \( -1 \) for odd permutation.
\end{definition}
\begin{defproof}
  \Fullref{thm:permutation_decomposition_existence} implies that at least one such decomposition exists.

  \Fullref{thm:permutation_parity_correctness} implies that if one such decomposition has an even (resp. odd) number of transpositions, every other decomposition also has an even (resp. odd) number of transpositions.
\end{defproof}

\begin{proposition}\label{thm:permutation_product_parity}
  The composition of two \hyperref[def:symmetric_group]{permutation} from \( S_n \) is \hyperref[def:permutation_parity]{odd} if and only if both are odd.
\end{proposition}
\begin{proof}
  Follows from \fullref{thm:integer_product_parity}.
\end{proof}

\begin{definition}\label{def:cayley_table}\mcite[150]{Rotman2015AdvancedModernAlgebraPart1}
  The \term[ru=таблица умножения (\cite[135]{Шафаревич1999ОсновныеПонятияАлгебры})]{multiplication table} or \term[ru=таблица Кэли (\cite[135]{Шафаревич1999ОсновныеПонятияАлгебры})]{Cayley table} for a finite \hyperref[def:semigroup]{(semi)group} \( G = \set{ a_1, \ldots, a_n } \), is an \( n \times n \) matrix whose \( (i, j) \)-th entry is \( a_i a_j \).

  More generally, we can define a Cayley table for every binary operation on a finite set, however calling it a multiplication table is not appropriate in general.
\end{definition}

\begin{example}\label{ex:s3}
  The \hyperref[def:symmetric_group]{symmetric group} \( S_3 \) contains the following \hyperref[def:symmetric_group]{permutations}:
  \begin{equation*}
    S_3
    \coloneqq
    \set[\vast]
    {
      \underbrace
        {
          \begin{pmatrix}
            1 & 2 & 3 \\
            1 & 2 & 3
          \end{pmatrix}
        }_{
          \id
        },
      \underbrace
        {
          \begin{pmatrix}
            1 & 2 & 3 \\
            2 & 1 & 3
          \end{pmatrix}
        }_{
          \cycle{ 1, 2 }
        },
      \underbrace
        {
          \begin{pmatrix}
            1 & 2 & 3 \\
            2 & 3 & 1
          \end{pmatrix}
        }_{
          \cycle{ 1, 2, 3 }
        },
      \underbrace
        {
          \begin{pmatrix}
            1 & 2 & 3 \\
            3 & 2 & 1
          \end{pmatrix}
        }_{
          \cycle{ 1, 3 }
        },
      \underbrace
        {
          \begin{pmatrix}
            1 & 2 & 3 \\
            3 & 1 & 2
          \end{pmatrix}
        }_{
          \cycle{ 1, 3, 2 }
        },
      \underbrace
        {
          \begin{pmatrix}
            1 & 2 & 3 \\
            1 & 3 & 2
          \end{pmatrix}
        }_{
          \cycle{ 2, 3 }
        }
    }
  \end{equation*}

  We will now construct a \hyperref[def:cayley_table]{Cayley table} to show that \( S_3 \) is not commutative. This will also help us build examples based on \( S_3 \) later on.

  The entire table can be filled using the following techniques:
  \begin{itemize}
    \item The identity permutation \( \id \) leaves the other multiplicand unchanged.
    \item The cycles \( \cycle{ 1, 2, 3 } \) and \( \cycle{ 1, 3, 2 } \) are inverses of each other, and \fullref{thm:transpositions_are_involutions} implies that all others are \hyperref[def:morphism_invertibility/involution]{involutions}.
    \item \Fullref{thm:cycle_transposition_decomposition} implies that \( \cycle{ 1, 2, 3 } = \cycle{ 1, 3 } \bincirc \cycle{ 1, 2 } \) and \( \cycle{ 1, 3, 2 } = \cycle{ 1, 2 } \bincirc \cycle{ 1, 3 } \).
    \item The last two points together imply
    \begin{equation*}
      \cycle{ 1, 2, 3 } \bincirc \cycle{ 1, 2 }
      =
      \cycle{ 1, 3 } \bincirc \cycle{ 1, 2 } \bincirc \cycle{ 1, 2 }
      =
      \cycle{ 1, 3 }.
    \end{equation*}

    \item We can also utilize cyclic shifts as justified by \fullref{thm:cyclic_permutation_cyclic_shift}:
    \begin{equation*}
      \cycle{ 1, 2 } \bincirc \cycle{ 2, 3 }
      =
      \cycle{ 2, 1 } \bincirc \cycle{ 2, 3 }
      =
      \cycle{ 2, 3, 1 }
      =
      \cycle{ 1, 2, 3 }
    \end{equation*}

    Other cases can be handled similarly.
  \end{itemize}

  All in all, \ref{tab:ex:s3} provides all values of \( \tau \bincirc \sigma \).

  \begin{table}[!ht]
    \begin{equation*}
      \begin{array}{c !{\quad} *{6}{c}}
        \toprule
        \mdiagbox{\tau}{\sigma} & \id               & \cycle{ 1, 2 }    & \cycle{ 1, 3 }    & \cycle{ 2, 3 }    & \cycle{ 1, 2, 3 } & \cycle{ 1, 3, 2 } \\
        \midrule
        \id                     & \id               & \cycle{ 1, 2 }    & \cycle{ 1, 3 }    & \cycle{ 2, 3 }    & \cycle{ 1, 2, 3 } & \cycle{ 1, 3, 2 } \\
        \cycle{ 1, 2 }          & \cycle{ 1, 2 }    & \id               & \cycle{ 1, 3, 2 } & \cycle{ 1, 2, 3 } & \cycle{ 2, 3 }    & \cycle{ 1, 3 }    \\
        \cycle{ 1, 3 }          & \cycle{ 1, 3 }    & \cycle{ 1, 2, 3 } & \id               & \cycle{ 1, 3, 2 } & \cycle{ 1, 2 }    & \cycle{ 2, 3 }    \\
        \cycle{ 2, 3 }          & \cycle{ 2, 3 }    & \cycle{ 1, 3, 2 } & \cycle{ 1, 2, 3 } & \id               & \cycle{ 1, 3 }    & \cycle{ 1, 2 }    \\
        \cycle{ 1, 2, 3 }       & \cycle{ 1, 2, 3 } & \cycle{ 1, 3 }    & \cycle{ 2, 3 }    & \cycle{ 1, 2 }    & \cycle{ 1, 3, 2 } & \id               \\
        \cycle{ 1, 3, 2 }       & \cycle{ 1, 3, 2 } & \cycle{ 2, 3 }    & \cycle{ 1, 2 }    & \cycle{ 1, 3 }    & \id               & \cycle{ 1, 2, 3 } \\
        \bottomrule
      \end{array}
    \end{equation*}
    \caption{Multiplication table for the \hyperref[def:symmetric_group]{symmetric group} \( S_3 \)}\label{tab:ex:s3}
  \end{table}
\end{example}

\begin{definition}\label{def:alternating_group}
  We define the \term[bg=алтернативна група (\cite[379]{Обрешков1962ВисшаАлгебра})]{alternating group} \( A_n \) on \( n \) letters as the subgroup of all \hyperref[def:permutation_parity]{even permutation} in the \hyperref[def:symmetric_group]{symmetric group} \( S_n \).
\end{definition}

\begin{example}\label{ex:s3_and_a3}
  In the \hyperref[def:symmetric_group]{symmetric group} \( S_3 \) discussed in \fullref{ex:s3}, the \hyperref[def:alternating_group]{alternating group} \( A_3 \) consists of:
  \begin{itemize}
    \item The identity, which is a product of zero transpositions.
    \item The odd-length cycle \( \cycle{ 1, 2, 3 } = \cycle{ 1, 3 } \bincirc \cycle{ 1, 2 } \).
    \item The odd-length cycle \( \cycle{ 1, 3, 2 } = \cycle{ 1, 2 } \bincirc \cycle{ 1, 3 } \).
  \end{itemize}
\end{example}

\begin{proposition}\label{thm:group_epimorphisms_are_surjective}\mcite[exerc. I.5.5]{MacLane1998CategoryTheory}
  Every \hyperref[def:morphism_invertibility/right_cancellative]{epimorphism} in \hyperref[def:group/category]{\( \cat{Grp} \)} is \hyperref[def:function_invertibility/surjective]{surjective}.
\end{proposition}
\begin{proof}
  Let \( \varphi: G \to H \) be an epimorphism and suppose that it is not surjective. Let \( M \) be the \hyperref[def:normal_closure]{normal closure} \( \img \varphi \).

  Aiming at a contradiction, suppose that \( M \) has \hyperref[def:subgroup_index]{index} \( 2 \) in \( H \), consider the quotient map \( \pi: H \to H / M \) and the constant map \( c(h) \coloneqq M \). Then
  \begin{equation*}
    \pi \bincirc \varphi = c \bincirc \varphi.
  \end{equation*}

  Since \( \varphi \) is an epimorphism, we have \( \pi = c \). But we have deliberately taken \( \pi \) and \( c \) so that \( \pi \neq c \). The obtained contradiction shows that \( M \) must have an index greater than \( 2 \).

  Thus, the index of \( M \) in \( G \) is greater than \( 2 \). Let \( M \), \( uM \) and \( vM \) be different cosets. Define \( \sigma: H \to H \) as the \hyperref[def:symmetric_group]{permutation} on \( H \) that exchanges \( xu \) with \( xv \) for every \( x \in M \). \Fullref{thm:group_conjugation_action} implies that the following is a homomorphism:
  \begin{equation*}
    \begin{aligned}
      &\theta: H \to S(H) \\
      &\theta(h) \coloneqq \sigma^{-1} \bincirc \psi(h) \bincirc \sigma.
    \end{aligned}
  \end{equation*}

  Consider also another homomorphism,
  \begin{equation*}
    \begin{aligned}
      &\psi: H \to S(H) \\
      &\psi(h) \coloneqq (x \mapsto hx),
    \end{aligned}
  \end{equation*}
  where \( S(H) \) is the \hyperref[def:symmetric_group]{symmetric group}. This is indeed a homomorphism by \fullref{thm:cayleys_theorem}.

  Since \( \sigma \) fixes the members of \( M \) in-place, we have \( \theta(h)\restr_M = \psi(h)\restr_M \). Since \( M \) contains the image of \( \varphi \), this implies
  \begin{equation*}
    \psi \bincirc \varphi = \theta \bincirc \varphi.
  \end{equation*}

  Since \( \varphi \) is an epimorphism, we have \( \psi = \theta \). But we have deliberately constructed \( \psi \) and \( \theta \) such that \( \psi \neq \theta \). The obtained contradiction shows that \( \img \varphi \) cannot be a strict subgroup of \( G \). Therefore, \( \varphi \) must be surjective.
\end{proof}
