\section{Measures}\label{sec:measures}

\paragraph{Additive functions on Boolean algebras}

\begin{definition}\label{def:disjoint_lattice_elements}\mcite[18]{Владимиров1969БулевыАлгебры}
  We say that two elements \( x \) and \( y \) in a \hyperref[def:lattice]{lattice} are \term[ru=дизъюнктные (элементы) (\cite[18]{Владимиров1969БулевыАлгебры}), en=disjoint (elements) (\cite[45]{Birkhoff1967LatticeTheory})]{disjoint} if \( x \wedge y = \bot \).

  We say that an indexed family \( \seq{ x_k }_{k \in \mscrK} \) is \term{disjoint} if its elements are pairwise disjoint.
\end{definition}

\begin{definition}\label{def:boolean_algebra_additive_function}\mimprovised
  Fix a \hyperref[def:boolean_algebra]{Boolean algebra} \( X \) and an \hyperref[con:additive_semigroup]{additive} \hyperref[rem:topological_first_order_structures]{topological} \hyperref[def:semigroup]{semigroup} \( Y \). We will introduce several notions related to \hyperref[def:additive_function]{additive functions}.

  \begin{thmenum}
    \thmitem{def:boolean_algebra_additive_function/finite}\mcite[\S 1.6.1]{Владимиров1969БулевыАлгебры} We say that \( f: X \to Y \) is \term[ru=(конечно) аддитивная (функция), en=finitely additive (\cite[289]{HalmosGivant2009BooleanAlgebras})]{(finitely) additive} if for any two \hyperref[def:disjoint_lattice_elements]{disjoint} elements \( x \) and \( y \) we have
    \begin{equation}\label{eq:def:boolean_algebra_additive_function/finite}
      f(x \vee y) = f(x) + f(y).
    \end{equation}

    \thmitem{def:boolean_algebra_additive_function/complete}\mcite[\S 1.6.4]{Владимиров1969БулевыАлгебры} Suppose that \( X \) is a \hyperref[def:complete_lattice]{complete lattice}. We say that \( f: X \to Y \) is \term[ru=вполне аддитивная (функция)]{completely additive} if, for every \hyperref[def:disjoint_lattice_elements]{disjoint} family \( \seq{ x_k }_{k \in \mscrK} \), we have
    \begin{equation}\label{eq:def:boolean_algebra_additive_function/complete}
      \sum_{k \in \mscrK} f(x_k) \T{converges to} f\parens[\Big]{ \bigvee_{k \in \mscrK} x_k }.
    \end{equation}

    \thmitem{def:boolean_algebra_additive_function/countable}\mcite[\S 1.6.4]{Владимиров1969БулевыАлгебры} Suppose that \( X \) is a \hyperref[def:countably_complete_lattice]{countably-complete lattice}. We say that \( f: X \to Y \) is \term[ru=счётно аддитивная (функция), en=countably additive (\cite[289]{HalmosGivant2009BooleanAlgebras})]{countably-additive} or \term[bg=\( \sigma \)-адитивно (изображение) (\cite[def. 3.7]{Драганов2022ТеорияНаМярката}), ru=\( \sigma \)-аддитивная (мера) (\cite[def. 2.1]{ДьяченкоУльянов1998МераИИнтеграл}), en=\( \sigma \)-additive (\cite[289]{HalmosGivant2009BooleanAlgebras})]{\( \sigma \)-additive} if \eqref{eq:def:boolean_algebra_additive_function/complete} holds for \hyperref[def:set_countability/countably_infinite]{countably infinite} disjoint families.
  \end{thmenum}

  Subadditivity and superadditivity from \cref{def:additive_function} generalize straightforwardly.
\end{definition}
\begin{comments}
  \item We can relax the domain from a Boolean algebra to a general lattice, but then we lose some important properties --- see our proof of \cref{thm:def:boolean_algebra_additive_function/nonnegative_order} for how we rely on complements and distributivity.

  Thus, following
  \incite[\S 1.6.4]{Владимиров1969БулевыАлгебры},
  \incite[\S 2.5.9]{КусраевКутателадзе2005БулевозначныйАнализ} and
  \incite[ch. 31]{HalmosGivant2009BooleanAlgebras},
  we stick with Boolean algebras.

  We do, however, generalize the codomain from the real numbers to topological additive semigroups. This is needed to handle all cases we will encounter --- see \cref{rem:lattice_additive_function_range} for a discussion.

  \item \incite[\S 11.37]{Schechter1997AnalysisHandbook} defines finitely-additive and countably-additive functions from arbitrary families of subsets to additive monoids. Unlike him, we use abstract Boolean algebras rather than concrete families of subsets, and require the codomain to have a topological structure.

  Furthermore, we allow the codomain not to have a neutral element due to \cref{thm:def:boolean_algebra_additive_function/finite_bot}, while Schechter requires additive functions to send \( \varnothing \) to the neutral element.

  \item See \cref{rem:additive_function_terminology} regarding the general usage of \enquote{additivity} in the literature.
\end{comments}

\begin{remark}\label{rem:lattice_additive_function_range}
  We have required the codomain of an \hyperref[def:boolean_algebra_additive_function]{additive function} to be a \hyperref[rem:topological_first_order_structures]{topological} \hyperref[con:additive_semigroup]{semigroup}. In practice this should either be a \hyperref[def:topological_vector_space]{topological vector space}, or one of the \hyperref[def:extended_real_numbers]{extended real number} interval discussed in \cref{thm:extended_real_semigroup}.

  In case of \hyperref[def:finite_measure]{finite measures} bounded by \( a \), due to \cref{thm:def:boolean_algebra_additive_function/nonnegative_order}, we may regard the codomain as the interval \( [0, a] \).
\end{remark}

\begin{remark}\label{rem:set_function}
  Some authors refer to \enquote{set functions} --- functions defined on a family of sets. This is the definition given by \incite[30]{Halmos1976MeasureTheory}. \incite[def. 11.1]{Rudin1976AnalysisPrinciples} defines \enquote{set functions} as function from a \enquote{rings of sets}, closed under unions and differences, to the extended real numbers.

  Such a notion is meaningless from the perspective of set theory, but not so much from the perspective of analysis, where there is a clear distinction between points and sets of scalars.

  Set functions are studied in relation to measure theory, where we prefer working with abstract Boolean algebras. Thus, we will not find use for the term, but we must nevertheless acknowledge its existence.
\end{remark}

\begin{proposition}\label{thm:def:boolean_algebra_additive_function}
  \hyperref[def:boolean_algebra_additive_function]{Additive functions on lattices} have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:boolean_algebra_additive_function/finite_bot} For a topological group (or even a \hyperref[def:binary_operation/cancellative]{cancellative} \hyperref[def:monoid]{monoid}) \( Y \), if \( f: X \to Y \) is additive, then \( f(\bot) = 0_Y \).

    \thmitem{thm:def:boolean_algebra_additive_function/proper_bot} For \( Y = [-\infty, \infty] \), an additive function \( f: X \to Y \) is a \hyperref[def:effective_domain]{\hi{proper}} if and only if \( f(\bot) = 0 \).

    \thmitem{thm:def:boolean_algebra_additive_function/nonnegative_order} For \( Y = [0, \infty] \), if \( f: X \to Y \) is an additive function, then \( f: X \to Y \) \hyperref[def:order_function/preserving]{preserves order} --- if \( x \leq y \) in \( X \), then
    \begin{equation}\label{eq:thm:def:boolean_algebra_additive_function/nonnegative_order}
      \underbrace{0 \leq f(\bot)}_{\mathclap{\T*{equal if} f \T*{is proper}}} \leq f(x) \leq f(y) \leq f(\top).
    \end{equation}
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:boolean_algebra_additive_function/finite_bot} For any point \( x \) in \( X \), we can cancel \( f(x) \) in
  \begin{equation*}
    f(x) = f(x \vee \bot) = f(x) + f(\bot),
  \end{equation*}
  to conclude that \( f(\bot) = 0 \).

  \SubProofOf{thm:def:boolean_algebra_additive_function/proper_bot}
  \SufficiencySubProof* If \( f \) is a proper additive function, its effective domain has at least one point. We can the proceed as in \cref{thm:def:boolean_algebra_additive_function/finite_bot}.

  \NecessitySubProof* If \( f \) is an additive function with \( f(\bot) = 0 \), it is clearly proper.

  \SubProofOf{thm:def:boolean_algebra_additive_function/nonnegative_order} Fix an additive function \( f: X \to [0, \infty] \) and two elements \( x \) and \( y \) from \( X \) such that \( x \leq y \).

  \begin{itemize}
    \item If \( f(y) = \infty \), obviously \( f(x) \leq f(y) \).
    \item If \( f(x) = \infty \), then \( f(y) = \infty \) and thus \( f(x) \leq f(y) \).
    \item Otherwise, we have
    \begin{align*}
      f(y)
      &\reloset {\eqref{eq:thm:lattice_operation_characterization/compatibility/join}} =
      f(x \vee y)
      = \\ &\reloset {\ref{def:bounded_lattice/neutral}} =
      f((x \vee y) \wedge \top)
      = \\ &\reloset {\eqref{eq:def:boolean_algebra/join}} =
      f((x \vee y) \wedge (x \vee \oline x))
      = \\ &\reloset {\eqref{eq:def:distributive_lattice/meet_over_join}} =
      f(x \vee (y \wedge \oline x))
      = \\ &\reloset {\eqref{eq:def:boolean_algebra_additive_function/finite}} =
      f(x) + f(y \setminus x).
    \end{align*}

    Since \( 0 \leq f(y \setminus x) \) and since \( [0, \infty] \) is an ordered semiring, follows that
    \begin{equation*}
      f(x) \leq f(x) + f(y \setminus x) = f(y).
    \end{equation*}
  \end{itemize}
\end{proof}

\paragraph{Measures}

\begin{definition}\label{def:measurable_space}\mcite[def. 1.3]{Rudin1987RealAndComplexAnalysis}
  A \term[bg=измеримо пространство (\cite[def. 3.6]{Драганов2022ТеорияНаМярката}), ru=измеримое пространство (\cite[def. 1.2.3]{Богачёв2003ОсновыТеорииМерыТом1})]{measurable space} is a pair \( (\Omega, \mscrA) \), where \( \Omega \) is a set and \( \mscrA \) is a \hyperref[def:sigma_algebra]{\( \sigma \)-algebra} on \( \Omega \). We call the sets in \( \mscrA \) \term[bg=измеримо множество (\cite[def. 3.6]{Драганов2022ТеорияНаМярката}), ru=измеримое (множество) (\cite[52]{КанторовичАкилов1984ФункциональныйАнализ})]{measurable}.
\end{definition}
\begin{comments}
  \item This is no corresponding terminology for when \( \mscrA \) is an \hyperref[def:algebra_of_subsets]{algebra of subsets} rather than a \( \sigma \)-algebra.
\end{comments}

\begin{definition}\label{def:measure}\mimprovised
  Fix a \hyperref[def:measurable_space]{measurable space} \( (\Omega, \mscrA) \) and a \hyperref[con:additive_semigroup]{additive} \hyperref[rem:topological_first_order_structures]{topological} \hyperref[def:semigroup]{semigroup} \( Y \).

  We say that the function \( \mu: \mscrA \to Y \) is an \( Y \)-valued \term[bg=мярка (\cite[def. 3.7]{Драганов2022ТеорияНаМярката}), ru=мера (\cite[def. I.1.6]{Ширяев2007ВероятностьТом1}), en=measure (\cite[7]{Cohn2013MeasureTheory})]{measure} if it is \hyperref[def:boolean_algebra_additive_function/countable]{countably-additive}. We call the triple \( (\Omega, \mscrA, \mu) \) a \term[bg=пространство с мярка (\cite[def. 3.9]{Драганов2022ТеорияНаМярката}), ru=пространство с мерой (\cite[def. 1.3.5]{Богачёв2003ОсновыТеорииМерыТом1}), en=measure space (\cite[8]{Cohn2013MeasureTheory})]{measure space}.

  A more general notion is that of a \term[ru=конечно аддитивная мера (\cite[def. I.1.2]{Ширяев2007ВероятностьТом1}), en=finitely additive measure (\cite[7]{Cohn2013MeasureTheory})]{finitely-additive measure}, in which \( \mscrA \) is only an \hyperref[def:algebra_of_subsets]{algebra of subsets} of \( \Omega \) and \( \mu \) is only \hyperref[def:boolean_algebra_additive_function/countable]{finitely-additive}. To avoid ambiguity, we may refer to the usual notion of a measure as a \term[ru=счётно аддитивная мера (\cite[def. I.1.6]{Ширяев2007ВероятностьТом1}), en=countably additive measure (\cite[7]{Cohn2013MeasureTheory})]{countably-additive measure}.

  Based on \( Y \), we distinguish the following kinds of measures:
  \begin{thmenum}
    \thmitem{def:measure/positive}\mcite[def. 1.18(a)]{Rudin1987RealAndComplexAnalysis} If \( Y = [0, \infty] \) and \( \mu \) is \hyperref[def:effective_domain]{proper}, we call \( \mu \) a \term{positive measure}.

    \thmitem{def:measure/signed}\mcite[118]{Halmos1976MeasureTheory} If \( Y \) is one of the extended real intervals in \cref{thm:extended_real_semigroup} containing negative numbers, we call \( Y \) a \term[bg=знакопроменлива мярка (\cite[def. 10.1]{Драганов2022ТеорияНаМярката}), ru=знакопеременная мера (\cite[def. 20.1]{ДьяченкоУльянов1998МераИИнтеграл})]{signed measure}.

    \thmitem{def:measure/complex}\mcite[def. 1.18(d)]{Rudin1987RealAndComplexAnalysis} If \( Y = \BbbC \), we call \( \mu \) a \term{complex measure}.

    \thmitem{def:measure/vector}\mcite[def. I.1]{DiestelUhl1977VectorMeasures} If \( Y \) is a \hyperref[def:banach_space]{Banach space}, we call \( \mu \) a \term[ru=векторная мера (\cite[349]{ИоффеТихомиров1974ЭкстремальныеЗадачи})]{vector measure}.

    \thmitem{def:measure/two}\mcite[217]{Engelking1989GeneralTopology} If \( Y \) is the \hyperref[def:finite_field]{finite field} \( \BbbF_2 \), we call \( \mu \) a \term{two-valued measure}.
  \end{thmenum}
\end{definition}
\begin{comments}
  \item We give a very general definition; see \cref{rem:measure_terminology} for a discussion of terminology.
\end{comments}

\begin{remark}\label{rem:measure_terminology}
  As it often happens, terminology related to \hyperref[def:measure]{measures} is inconsistent.

  Different authors define measures on families of subsets as follows:
  \begin{itemize}
    \item \incite[\S 11.37]{Schechter1997AnalysisHandbook} defines \enquote{charges} as finitely-additive functions from algebras of subsets to additive monoids and \enquote{measures} as countably-additive functions from \( \sigma \)-algebras to additive monoids \enquote{with some convergence structure}. These are similar in levels of generality to our finitely-additive and countably-additive measures, except that we require a topology and impose no monoid structure requirement.

    Later, in \cite[\S 11.41]{Schechter1997AnalysisHandbook}, they use \enquote{vector charge} for our notion of vector measure and \enquote{positive measure} that coincides with our usage.

    \item \incite[def. 1.18(a)]{Rudin1987RealAndComplexAnalysis} defines \enquote{positive measures} as \hyperref[def:effective_domain]{proper} countably-additive functions from \( \sigma \)-algebras to the interval \( [0, \infty] \). Rudin also defines \enquote{complex measures} as countably-additive functions defined on \( \sigma \)-algebras. Both coincide with our usage.

    \item \incite[238]{WheedenZygmund2015MeasureAndIntegral} uses \enquote{measure} for what Rudin calls \enquote{positive measure}.

    \item \incite[def. 1.6.1]{Богачёв2003ОсновыТеорииМерыТом1}, \incite[7]{Cohn2013MeasureTheory}, \incite[24]{Folland1999RealAnalysis}, \incite[14]{Çinlar2011ProbabilityAndStochastics} and \incite[def. 1.4.27]{Tao2011MeasureTheory} define \enquote{measures} as countably-additive functions from \( \sigma \)-algebras to \( [0, \infty] \) mapping \( \varnothing \) to \( 0 \). All of them also define finitely-additive measures similarly. Due to \cref{thm:def:boolean_algebra_additive_function/proper_bot}, this coincides with our notion of positive measures.

    \item \incite[51]{КанторовичАкилов1984ФункциональныйАнализ} defines \enquote{measures} as countably-additive functions from \( \sigma \)-algebras to \( [0, \infty] \) mapping \( \varnothing \) to \( 0 \). This again coincides with our notion of positive measures.

    \item \incite[30]{Halmos1976MeasureTheory} provides a similar definition, but instead of defining measures on \( \sigma \)-algebras, he defines them on his concept of \enquote{ring} discussed in \cref{rem:sigma_algebra_terminology}, that is, families of sets closed under unions and set differences. This generalizes our positive measures.

    Later, in \incite[118]{Halmos1976MeasureTheory}, he defines \enquote{signed measures} as functions from \( \sigma \)-rings to either \( (-\infty, \infty] \) or \( [\infty, \infty) \). This again generalizes our usage, but only by considering a more general domain than \( \sigma \)-algebras.

    \item \incite[13]{Malliavin1995IntegrationAndProbability} defines \enquote{measures} as countably-additive functions from \( \sigma \)-algebras to \( [0, \infty] \) satisfying the \hyperref[def:sigma_finite_measure]{\( \sigma \)-finiteness} condition. Thus coincides with our notion of \( \sigma \)-finite measures.

    \item \incite[def. I.1.2]{Ширяев2007ВероятностьТом1} defines \enquote{finitely additive measures} (\enquote{конечно аддитивные меры}) as finitely-additive from algebras of subsets to \( [0, \infty] \). Later, in \cite[def. I.1.6]{Ширяев2007ВероятностьТом1}, he defines \enquote{countably additive measures} (\enquote{счётно аддитивные меры}) as countably-additive measures. Both definitions generalize our corresponding notions of positive measures by allowing improper measures.

    \item \incite[15]{Yoshida1980FunctionalAnalysis} defines \enquote{measures} as countably-additive functions from \( \sigma \)-algebras to \( [0, \infty] \). This generalizes our usage for positive measures by allowing improper measures.

    \item \incite[3]{Bobrowski2005FunctionalAnalysis} defines \enquote{measures} as countably-additive functions on either algebras of subsets or \( \sigma \)-algebras. This also generalizes our usage for positive measures by allowing improper measures.

    \item \incite[1]{DiestelUhl1977VectorMeasures} define \enquote{finitely additive vector measures} as functions from algebras of subsets (what they call \enquote{fields}) to a Banach space, and then proceed to define \enquote{countably additive vector measure} analogously. Other than them considering (vector) measures to be finitely-additive by default, their definitions coincide with ours.

    \item \incite[def. 2.1]{ДьяченкоУльянов1998МераИИнтеграл} define \enquote{measures} (\enquote{меры}) as finitely-additive nonnegative-valued functions on what they call \enquote{semirings of sets}. They also define \enquote{\( \sigma \)-additive measures} (\enquote{\( \sigma \)-аддитивные меры}) as secondary notions.

    They define a \enquote{semiring of sets} as a family containing \( \varnothing \), closed under binary intersections and, for every two sets \( A \subseteq B \) in it, having a finite family of sets whose union with \( A \) is \( B \). Thus, this definition generalizes our notion of finite measures, which we restrict to \( \sigma \)-algebras.

    Later, in \cite[def. 20.1]{ДьяченкоУльянов1998МераИИнтеграл}, they define \enquote{charges} (\enquote{заряды}) as countably-additive real-valued functions on \( \sigma \)-algebras. The latter coincides with our notion of signed measures.

    \item \incite[88]{Вулих1973ВещественныйАнализ} defines \enquote{measures} (\enquote{меры}) as countably-additive functions from what he calls \enquote{semirings of sets} to \( [0, \infty] \) mapping \( \varnothing \) to \( 0 \).

    Vulikh defines \enquote{semirings of sets}\fnote{Semirings are also discussed by Halmos and Bogachev, who however give different definitions.} as families containing \( \varnothing \), closed under binary intersections and, for every two sets \( A \) and \( B \) in it, having a finite or countable family whose union is \( A \setminus B \). This definition thus generalizes our notion of positive measures.

    \item \incite[217]{Engelking1989GeneralTopology} defines \enquote{two-valued measures} as \hyperref[def:boolean_function]{Boolean-valued} countably-additive functions defined on families on sets closed under countable unions. This definition generalizes our two-valued measures, which are restricted to \( \sigma \)-algebras.
  \end{itemize}

  Rather than working with families of subsets, the following authors define measures on abstract Boolean algebras:
  \begin{itemize}
    \item \incite[260]{Birkhoff1967LatticeTheory} defines \enquote{finite measures} as nonnegative real-valued countably-additive functions on (abstract) \hyperref[def:boolean_algebra]{Boolean algebras}.

    \item \incite[288]{HalmosGivant2009BooleanAlgebras} use \enquote{measures} for what Birkhoff calls \enquote{finite measures}.

    \item \incite[55]{Владимиров1969БулевыАлгебры} defines \enquote{quasi-measures} as nonnegative real-valued finitely-additive functions on (abstract) Boolean algebras. Later in \cite[58]{Владимиров1969БулевыАлгебры}, he defines \enquote{measures} as \hyperref[def:real_function_definiteness]{positive definite} completely additive quasi-measures.
  \end{itemize}
\end{remark}

\begin{concept}\label{con:measure_zero_set}
  \todo{Remarks on sets of measure zero}
\end{concept}

\paragraph{Counting measure}

\begin{definition}\label{def:counting_measure}\mcite[def. 1.20(a)]{Rudin1987RealAndComplexAnalysis}
  The \term[ru=считающая мера (\cite[exerc. 4.7.78]{Богачёв2003ОсновыТеорииМерыТом1})]{counting measure} on a set \( S \) is the \hyperref[def:measure/positive]{positive measure}
  \begin{equation}\label{eq:def:counting_measure}
    \begin{aligned}
      &\mu: \pow(S) \to [0, \infty] \\
      &\mu(A) \coloneqq \begin{cases}
        \card(A), &A \T{is finite}, \\
        \infty,   &\T{otherwise.}
      \end{cases}
    \end{aligned}
  \end{equation}
\end{definition}
\begin{comments}
  \item Strictly peaking, rather than \( \card(A) \), we must consider the embedding of the latter into \( \BbbR \). Such formalities usually do not concern us, however, since we use some set-theoretic considerations in the proof of correctness, we should generally be careful.
\end{comments}
\begin{defproof}
  We must show that \( \mu \) is countably-additive and that it is \hyperref[def:effective_domain]{proper}, i.e. takes at least one finite value. The latter is trivial because \( \mu(\varnothing) = 0 \).

  Now fix a sequence of disjoint subsets \( A_1, A_2, \ldots \) of \( S \) and denote their union by \( A \).

  \begin{itemize}
    \item If one of the sets, say \( A_i \), is infinite, then
    \begin{equation*}
      \mu(A) \geq \mu(A_i) = \infty
    \end{equation*}
    due to \cref{thm:cardinality_order_compatibility}.

    Furthermore,
    \begin{equation*}
      \mu(A_i) + \sum_{k \neq i}^\infty A_k \geq \mu(A_i) = \infty.
    \end{equation*}

    \item Otherwise, let \( A_{i_1}, A_{i_2}, \ldots \) be the subsequence of all nonempty subsets. If they are countably many, \cref{thm:countably_infinite_disjoin_union_of_nonempty_sets} implies that their union is at least countable. Then
    \begin{equation*}
      \mu(A) \geq \mu\parens[\Big]{ \bigcup_{k=1}^\infty A_{i_k} } = \infty.
    \end{equation*}

    Furthermore, \cref{thm:positive_series_comparison/a_diverges} implies that the series
    \begin{equation*}
      \sum_{k=1}^\infty \underbrace{\mu(A_{i_k})}_{\geq 1}
    \end{equation*}
    diverges, thus
    \begin{equation*}
      \sum_{k=1}^\infty \mu(A_k) \geq \sum_{k=1}^\infty \mu(A_{i_k}) = \infty.
    \end{equation*}

    \item Otherwise, let \( A_{i_1}, \ldots, A_{i_n} \) be the nonempty sets. \Cref{thm:finite_unions_and_products_are_finite} implies that their union \( A \) is finite. Then \fullref{thm:cardinality_sum_rule} implies that
    \begin{equation*}
      \mu(A) = \mu\parens[\Big]{ \bigcup_{k=1}^n A_{i_k} } = \sum_{k=1}^n \mu(A_{i_k}).
    \end{equation*}
  \end{itemize}
\end{defproof}
