\ExplSyntaxOn

\tl_new:N \l_nb_subproof_tl

\NewDocumentCommand \SubProof {sm}
  {
    \item
    \IfBooleanTF {#1}
      { \textit{ \textbf{#2}. } }
      { \textbf{#2.} }
    \space
  }

\NewDocumentCommand \SubProofOf {som}
  {
    \tl_set:Nn \l_nb_subproof_tl
    {
      Proof~of~
      \IfValueTF {#2} { \hyperref[#2]{#3} }{ \ref{#3} }
    }

    \IfBooleanTF {#1}
      { \SubProof*{ \tl_use:N \l_nb_subproof_tl } }
      { \SubProof{ \tl_use:N \l_nb_subproof_tl } }
  }

\NewDocumentCommand \EquivalenceSubProof {somom}
  {
    \tl_set:Nn \l_nb_subproof_tl
    {
      Proof~of~equivalence~of~
      \IfValueTF {#2} { \hyperref[#2]{#3}~ } { \ref{#3}~ }
      and~
      \IfValueTF {#4} { \hyperref[#4]{#5} } { \ref{#5} }
    }

    \IfBooleanTF {#1}
      { \SubProof*{ \tl_use:N \l_nb_subproof_tl } }
      { \SubProof{ \tl_use:N \l_nb_subproof_tl } }
  }

\NewDocumentCommand \ImplicationSubProof {somom}
  {
    \tl_set:Nn \l_nb_subproof_tl
    {
      Proof~that~
      \IfValueTF {#2} { \hyperref[#2]{#3}~ } { \ref{#3}~ }
      implies~
      \IfValueTF {#4} { \hyperref[#4]{#5} } { \ref{#5} }
    }

    \IfBooleanTF {#1}
      { \SubProof*{ \tl_use:N \l_nb_subproof_tl } }
      { \SubProof{ \tl_use:N \l_nb_subproof_tl } }
  }

\NewDocumentCommand \SufficiencySubProof {s}
  {
    \tl_set:Nn \l_nb_subproof_tl { Proof~of~sufficiency }

    \IfBooleanTF {#1}
      { \SubProof*{ \tl_use:N \l_nb_subproof_tl } }
      { \SubProof{ \tl_use:N \l_nb_subproof_tl } }
  }

\NewDocumentCommand \NecessitySubProof {s}
  {
    \tl_set:Nn \l_nb_subproof_tl { Proof~of~necessity }

    \IfBooleanTF {#1}
      { \SubProof*{ \tl_use:N \l_nb_subproof_tl } }
      { \SubProof{ \tl_use:N \l_nb_subproof_tl } }
  }

\NewDocumentCommand \UniquenessSubProof {s}
  {
    \tl_set:Nn \l_nb_subproof_tl { Proof~of~uniqueness }

    \IfBooleanTF {#1}
      { \SubProof*{ \tl_use:N \l_nb_subproof_tl } }
      { \SubProof{ \tl_use:N \l_nb_subproof_tl } }
  }

\NewDocumentCommand \ExistenceSubProof {s}
  {
    \tl_set:Nn \l_nb_subproof_tl { Proof~of~existence }

    \IfBooleanTF {#1}
      { \SubProof*{ \tl_use:N \l_nb_subproof_tl } }
      { \SubProof{ \tl_use:N \l_nb_subproof_tl } }
  }

\ExplSyntaxOff
