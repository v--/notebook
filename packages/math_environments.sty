% Based on https://tex.stackexchange.com/a/162895
\NewDocumentEnvironment {balign*} {}
  {
    \begingroup
    \allowdisplaybreaks
    \start@align\@ne\st@rredtrue\m@ne
  }
  {
    \endalign
    \endgroup
  }

\NewDocumentEnvironment {balign} {}
  {
    \begingroup
    \allowdisplaybreaks
    \align
  }
  {
    \endalign
    \endgroup
  }

% Two-column layout
\NewDocumentCommand \BeginSecondColumn {} {\switchcolumn[1]}

\NewDocumentEnvironment {TwoColumns} {}
  {
    \begin{paracol}{2}
  }
  {
    \end{paracol}
  }

\NewDocumentEnvironment {TwoColumns*} {}
  {
    % This reverts the newline set by \mcite
    \vspace*{-\baselineskip-\itemsep}
    \begin{TwoColumns}
  }
  {
    \end{TwoColumns}
  }

% Three-column layout
\NewDocumentCommand \BeginThirdColumn {} {\switchcolumn[2]}

\NewDocumentEnvironment {ThreeColumns} {}
  {
    \begin{paracol}{3}
  }
  {
    \end{paracol}
  }

\NewDocumentEnvironment {ThreeColumns*} {}
  {
    % This reverts the newline set by \mcite
    \vspace*{-\baselineskip-\itemsep}
    \begin{ThreeColumns}
  }
  {
    \end{ThreeColumns}
  }
