% New fields based on https://tex.stackexchange.com/a/452629
\DeclareFieldFormat{eudml}
  {%
    \mkbibacro{EUDML}\addcolon\space
    \href{https://eudml.org/doc/#1}{\nolinkurl{#1}}
  }

\DeclareFieldFormat{jstor}
  {%
    \mkbibacro{JSTOR}\addcolon\space
    \href{https://www.jstor.org/stable/#1}{\nolinkurl{#1}}
  }

\DeclareFieldFormat{gutenberg}
  {%
    \mkbibacro{Gutenberg}\addcolon\space
    \href{https://www.gutenberg.org/ebooks/#1}{\nolinkurl{#1}}
  }

\DeclareFieldFormat{hal}
  {%
    \mkbibacro{HAL}\addcolon\space
    \href{https://hal.archives-ouvertes.fr/#1}{\nolinkurl{#1}}
  }

\DeclareFieldFormat{handle}
  {%
    \mkbibacro{Handle}\addcolon\space
    \href{http://hdl.handle.net/#1}{\nolinkurl{#1}}
  }

\DeclareFieldFormat{mathnet}
  {%
    \mkbibacro{mathnet}\addcolon\space
    \href{https://mi.mathnet.ru/#1}{\nolinkurl{#1}}
  }

\DeclareFieldFormat{mathscinet}
  {%
    \mkbibacro{MathSciNet}\addcolon\space
    \href{https://mathscinet.ams.org/mathscinet-getitem?mr=#1}{\nolinkurl{MR#1}}
  }

\DeclareFieldFormat{numdam}
  {%
    \mkbibacro{Numdam}\addcolon\space
    \href{http://www.numdam.org/item/#1}{\nolinkurl{#1}}
  }

\DeclareFieldFormat{scopus}
  {%
    \mkbibacro{Scopus}\addcolon\space
    \href{https://www.scopus.com/record/display.url?origin=inward&eid=#1}{\nolinkurl{#1}}
  }

\DeclareFieldFormat{zbmath}
  {%
    zb\mkbibacro{MATH}\addcolon\space
    \href{https://zbmath.org/?q=an:#1}{\nolinkurl{#1}}
  }

\DeclareFieldAlias{eprint:HAL}{hal}

\renewbibmacro*{eprint}
  {
    \printfield{eudml}
    \newblock\newunit
    \printfield{jstor}
    \newblock\newunit
    \printfield{handle}
    \newblock\newunit
    \printfield{mathnet}
    \newblock\newunit
    \printfield{mathscinet}
    \newblock\newunit
    \printfield{numdam}
    \newblock\newunit
    \printfield{scopus}
    \newblock\newunit
    \printfield{zbmath}
    \newblock\newunit
    \iffieldundef{eprint}
      {}
      {
        \iffieldundef{eprinttype}
          {\printfield{eprint}}
          {\printfield[eprint:\strfield{eprinttype}]{eprint}}
      }
  }

% Filters for distinct bibliography lists
\defbibfilter{books}
  {
    type=book or
    type=booklet
  }

\defbibfilter{papers}
  {
    type=article or
    type=inbook or
    type=inproceedings or
    type=unpublished or
    % BibLaTeX maps mastersthesis and phdthesis to thesis and techreport to report;
    % Search for \DeclareDriverSourcemap in the documentation
    type=thesis
  }

\defbibfilter{online}
  {
    type=online
  }

\defbibfilter{standards}
  {
    type=report
  }

\defbibfilter{misc}
  {
    not type=book and
    not type=booklet and
    not type=article and
    not type=inbook and
    not type=inproceedings and
    not type=unpublished and
    not type=thesis and
    not type=online and
    not type=report
  }
