\documentclass{../tikzcd}

\begin{document}
  \begin{tikzcd}
                                                               & A \ar[ld, swap, "f"] \ar[r, "\varphi"] & X \ar[rd, "g"] & \\
    B \ar[rrr, dashed, "g \bincirc* \varphi \bincirc* f^{-1}"] &                                        &                & Y
  \end{tikzcd}

  \begin{tikzcd}
                                                                                                &                                                                               & A \ar[ld, swap, "f"] \ar[r, "\varphi"] & X \ar[rd, "g"] &                & \\
                                                                                                & B \ar[ld, swap, "p"] \ar[rrr, dashed, "g \bincirc* \varphi \bincirc* f^{-1}"] &                                        &                & Y \ar[rd, "q"] & \\
    C \ar[rrrrr, dashed, "q \bincirc* (g \bincirc* \varphi \bincirc* f^{-1}) \bincirc* p^{-1}"] &                                                                               &                                        &                &                & Z
  \end{tikzcd}
\end{document}
