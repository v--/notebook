\subsection{Magma ideals}\label{sec:magma_ideals}

\begin{definition}\label{def:magma_ideal}
  Let \( \CM \) be a \hyperref[def:magma]{magma} and \( I \) be a subset of \( \CM \). We say that \( I \) is a \Def{left ideal} of \( \CM \) if the inclusion \( I\CM \subseteq I \) holds, where we use the convention in \fullref{rem:magma_set_operations}, that is,
  \begin{equation*}
    I \CM = \Set{ x \cdot y | x \in \CM, y \in I }.
  \end{equation*}

  Right ideals are defined analogously. If \( I \) is both a left ideal and a right ideal, we say that it is a \Def{two-sided ideal}.
\end{definition}

\begin{proposition}\label{thm:magma_ideal_is_submagma}
  Every two-sided magma ideal is a submagma.
\end{proposition}
\begin{proof}
  Let \( I \) be a two-sided ideal for the magma \( \CM \). For \( x, y \in I \), since \( I \) is a left ideal, we have \( xy \in I \) and similarly \( yx \in I \) since \( I \) is a right ideal. Thus \( II = I \) and \( I \) is a submagma of \( \CM \).
\end{proof}

\begin{example}\label{ex:subgroup_is_not_ideal}
  We explicitly give a counterexample to the converse of \fullref{thm:magma_ideal_is_submagma}. Define \( \CG \coloneqq \BZ \times \BZ \) to be the \hyperref[def:group_direct_sum]{direct sum} of two copies of the \hyperref[def:integers]{integers}. Define
  \begin{equation*}
    \CH \coloneqq \{ (n, n) \colon n \in \BZ \}.
  \end{equation*}

  The set \( \CH \) is a subgroup of \( \CG \) since it is closed under addition and it contains the identity element \( (0, 0) \). It is not an ideal, however, since
  \begin{equation*}
    (n, n) + (n, 0) = (2n, n) \not\in \CH.
  \end{equation*}
\end{example}

\begin{proposition}\label{thm:proper_ideals_containing_identity}
  A left or right ideal of a \hyperref[def:unital_magma]{unital magma} contains the identity if and only if it is not proper.
\end{proposition}
\begin{proof}
  Let \( \CM \) be a unital magma and \( I \) be a left ideal of \( \CM \). We will prove that \( e \in I \iff I = \CM \).

  \Sufficiency Let \( e \in I \). Then \( ex = x \) for any \( x \in \CM \), thus \( I\CM = \CM \). But \( I \) is an ideal, hence we have that \( I\CM = I \), thus \( I = I\CM = \CM \).

  \Necessity If \( I = \CM \), then obviously \( e \in I \).

  An analogous proof follows for the case when \( I \) is a right ideal.
\end{proof}

\begin{corollary}\label{thm:unital_magma_ideal_is_submagma_iff_contains_identity}
  A two-sided ideal of a unital magma is a unital submagma if and only if it contains the identity.
\end{corollary}
\begin{proof}
  Follows from \fullref{thm:magma_ideal_is_submagma} and \fullref{thm:proper_ideals_containing_identity}.
\end{proof}

\begin{proposition}\label{thm:commutative_magma_ideals}
  In a \hyperref[def:magma/commutative]{commutative magma} \( \CM \), a subset \( I \subseteq \CM \) is a left ideal if and only if it is a right ideal. That is, in commutative magmas, it makes no sense to distinguish between left, right and two-sided ideals.
\end{proposition}
\begin{proof}
  For \( x \in \CM \) and \( y \in I \), by commutativity we have \( yx = xy \), thus \( \CM I = I \CM \) and \( I \) is a left ideal if and only if it is a right ideal.
\end{proof}

\begin{proposition}\label{thm:product_of_semigroup_ideals_is_in_intersection}
  Fix a \hyperref[def:magma/associative]{semigroup} \( \CM \). If \( I \) and \( J \) are two-sided ideals, so are \( IJ \) and \( I \cap J \) and, furthermore,
  \begin{equation*}
    IJ \subseteq I \cap J.
  \end{equation*}
\end{proposition}
\begin{proof}
  We first show that \( IJ \) is an ideal.

  Take \( x \in I \), \( y \in J \). If \( z \in \CM \), then associativity gives us
  \begin{equation*}
    z(xy) = (zx)y \in (zx)J \subseteq IJ
  \end{equation*}
  and
  \begin{equation*}
    (xy)z = x(yz) \in I(yz) \subseteq IJ.
  \end{equation*}

  Hence \( IJ \) is closed under the semigroup operation. This makes \( IJ \) a two-sided ideal.

  If \( x \in I \cap J \) and \( z \in \CM \), obviously \( xz \in I \) and \( xz \in J \), hence \( xz \in I \cap J \). Then \( I \cap J \) is also a two-sided ideal.

  To obtain the inclusion
  \begin{equation*}
    IJ \subseteq I \cap J,
  \end{equation*}
  observe that \( xy \in IJ \) means that \( xy \in xJ = J \) and \( xy \in Iy = I \), thus \( xy \in I \cap J \).
\end{proof}
