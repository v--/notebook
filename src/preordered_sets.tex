\subsection{Preordered sets}\label{subsec:preordered_sets}

\begin{definition}\label{def:preordered_set}\mcite[def. 2.14]{OpenLogicFull}
  A \term{preordered set} is a set \( \mscrP \) endowed with a \hyperref[def:binary_relation/reflexive]{reflexive} and \hyperref[def:binary_relation/transitive]{transitive} \hyperref[def:binary_relation]{binary relation} \( \leq \). The relation itself is called a \term{preorder}.

  It is conventional to use the same symbol \( \leq \) as for \hyperref[def:poset]{partial orders}, however the lack of \hyperref[def:binary_relation/antisymmetric]{antisymmetry} may be confusing --- see \fullref{ex:preorder_nonuniqueness}.

  We define \( \geq \) as the \hyperref[def:binary_relation/converse]{converse relation} of \( \leq \).

  \begin{thmenum}[series=def:preordered_set]
    \thmitem{def:preordered_set/theory} Consider a \hyperref[def:first_order_language]{first-order language} \( \mscrL \) with two \hyperref[rem:first_order_formula_conventions/infix]{infix} binary predicate symbols --- \( \leq \) and \( \geq \).

    The theory of preordered sets is a \hyperref[def:first_order_theory]{first-order theory} in \( \mscrL \) consisting of the axioms \eqref{eq:def:binary_relation/reflexive} and \eqref{eq:def:binary_relation/transitive} for \( \leq \) and the compatibility axiom
    \begin{equation}\label{eq:def:preordered_set/theory}
      (\xi \leq \eta) \leftrightarrow (\eta \geq \xi).
    \end{equation}

    \thmitem{def:preordered_set/homomorphism} A \hyperref[def:first_order_homomorphism]{homomorphism} between the preordered sets \( \mscrP \) and \( \mscrQ \) is, explicitly, a function \( \varphi \) from \( \mscrP \) to \( \mscrQ \) such that
    \begin{equation}\label{eq:def:preordered_set/homomorphism}
      x \leq_\mscrP y \T{implies} \varphi(x) \leq_\mscrQ \varphi(y)
    \end{equation}

    Such a function is called \term{monotone} or \term{order-preserving} or simply an \term{order homomorphism}.

    If
    \begin{equation*}
      x \neq y \T{implies} \varphi(x) \neq \varphi(y),
    \end{equation*}
    we call the function \( \varphi \) \term{strictly monotone}.

    In particular, if \( \mscrP \) is the preordered set of \hyperref[rem:peano_arithmetic_zero/nonnegative]{nonnegative integers}, then we speak of \term{monotone sequences}
    \begin{equation*}
      \{ x_k \}_{k=1}^\infty,
    \end{equation*}
    where \( x_{k-1} \leq_Q x_k \) for all \( k \in \set{ 1, 2, 3, \ldots } \).

    \thmitem{def:preordered_set/submodel} Since the theory contains only positive formulas over a language with no functional symbols, any subset \( A \) of the domain of a preordered set \( \mscrP \) becomes a preordered set with the induced preorder \( \leq_A \) defined as the \hyperref[def:binary_relation/restriction]{restriction} of \( \leq_\mscrP \) to only elements of \( A \).

    \thmitem{def:preordered_set/trivial} The \hyperref[thm:substructures_form_complete_lattice/bottom]{trivial preordered set} is the empty set (see \fullref{rem:empty_models} regarding allowing empty sets as first-order structures).

    \thmitem{def:preordered_set/category} We give no special name for the \hyperref[def:category_of_first_order_models]{category of models} for the theory of preordered sets.

    \thmitem{def:preordered_set/duality} We define the \term{dual preordered set} of \( (\mscrP, \leq) \) as \( (\mscrP, \geq) \).

    The \term{principle of duality} states that a \( \varphi \) belongs to the \hyperref[def:preordered_set/theory]{theory of preordered sets} if and only if the dual formula \( \varphi^{-1} \), in which we swap all instances of \( \leq \) and \( \geq \), also belongs to the theory. Observe that \( \varphi \) is valid in a preordered set if and only if \( \varphi^{-1} \) is valid in the dual preordered set.

    There is a actually a very simple proof. If \( \varphi \) belongs to the theory, it is valid for every preordered set. Let \( \mscrP \) be a preordered set. Then \( \varphi \) is valid in both \( (\mscrP, \leq) \) and its dual \( (\mscrP, \geq) \). But if \( \varphi \) is valid for the dual preordered set \( (\mscrP, \geq) \), its dual formula \( \varphi^{-1} \) is valid for the the double dual preordered set, which is \( (\mscrP, \leq) \). Since \( (\mscrP, \leq) \) was chosen arbitrarily, the dual formula \( \varphi^{-1} \) is valid for every preordered set and so it belongs to the theory of preordered sets.

    The dual of the dual formula of \( \varphi \) is obviously \( \varphi \). The actual replacement can be formalized by performing the \hyperref[def:first_order_substitution/term_in_formula]{simultaneous substitution}
    \begin{equation*}
      \begin{aligned}
        \varphi^{-1} \coloneqq \varphi[
          &\xi_1 \leq \eta_1 \mapsto \xi_1 \geq \eta_1, &&\xi_1 \geq \eta_1 \mapsto \xi_1 \leq \eta_1, \\
          &\vdots                                       &&\vdots \\
          &\xi_n \leq \eta_n \mapsto \xi_n \geq \eta_n, &&\xi_n \geq \eta_n \mapsto \xi_n \leq \eta_n]
      \end{aligned}
    \end{equation*}
    for all pairs \( (\xi_k, \eta_k) \) of free variables in \( \varphi \).

    Another form of this duality is formalized in \fullref{thm:preorder_category_correspondence}.
  \end{thmenum}
\end{definition}

\begin{definition}\label{def:directed_set}\mcite[8]{Engelking1989}
  A \hyperref[def:preordered_set]{preordered set} \( \mscrP \) is called a \term{directed set} if every finite subset of \( \mscrP \) has an \hyperref[def:poset_extremal_points/upper_and_lower_bounds]{upper bound}, i.e. for all \( x, y \in \mscrP \) there must exist \( z \in \mscrP \) such that \( x \leq z \) and \( y \leq z \). We do not care how many upper bounds exist and how they are related, we simply need one upper bound to exist for every pair of elements of \( \mscrP \).

  There is no established name for the relation itself.

  Directed sets are used to define nets in topological spaces, see \fullref{def:topological_net}.
\end{definition}

\begin{definition}\label{def:thin_category}\mcite{nLab:thin_category}
  A \hyperref[def:category]{category} \( \cat{P} \) is called a \term{thin category} if, for every two objects \( A, B \in \boldop{P} \), whenever \( f, g \in \boldop{P}(A, B) \), we have \( f = g \).

  If \( \cat{P} \) is locally small, this is equivalent to saying that any set of morphisms \( \boldop{P}(A, B) \) is at most a singleton.
\end{definition}

\begin{proposition}\label{thm:preorder_category_correspondence}
  To every \hyperref[def:preordered_set]{preordered set} there corresponds exactly one \hyperref[def:small_and_large_categories]{small} \hyperref[def:thin_category]{thin} category.

  Furthermore, \hyperref[def:poset_extremal_points/supremum_and_infimum]{infima} correspond to categorical \hyperref[def:categorical_product]{products}, suprema to \hyperref[def:categorical_coproduct]{coproducts} and dual \hyperref[def:preordered_set/duality]{preordered sets} correspond to dual \hyperref[def:opposite_category]{categories}.

  Compare this result to \fullref{thm:partial_order_category_correspondence}.
\end{proposition}
\begin{proof}
  \SufficiencySubProof Let \( (\mscrP, \leq) \) be a preordered set. We define the category \( \cat{P} \) as follows:
  \begin{itemize}
    \item The \hyperref[def:category/C1]{class of objects} in \( \cat{P} \) is the set \( \mscrP \).
    \item The \hyperref[def:category/C2]{set of morphisms} between two elements \( x, y \in \cat{P} \) is the singleton \( \{ (x, y) \} \) when \( x \leq y \) and the empty set otherwise.
    \item The \hyperref[def:category/C3]{composition} of two morphisms \( (x, y) \) and \( (y, z) \) is simply \( (x, z) \) (such a morphism exists due to the transitivity of \( \leq \)).

    The axiom \ref{def:category/identity} follows from reflexivity of \( \leq \) and the axiom \ref{def:category/associativity} is trivial.
  \end{itemize}

  We showed that \( \cat{P} \) is indeed a category. We will only prove the equivalence of products and infima since the argument for suprema and coproducts is completely analogous.

  Let \( p \) be the categorical product of the set \( A \subseteq \mscrP \). Then \( p \leq x \) for all \( x \in A \), hence it is a lower bound. If \( q \) is another lower bound, then by definition of product, there exists a unique morphism \( q \leq p \). Therefore \( p = q \) is the infimum.

  \NecessitySubProof Now assume that \( \cat{P} \) is a thin small category. Denote by \( P \) the set of objects of \( \cat{P} \). Define the relation \( \leq \) on \( P \) as
  \begin{equation*}
    x \leq y \T{if and only if} \cat{P}(x, y) \neq \varnothing.
  \end{equation*}

  This is indeed a preorder because
  \begin{itemize}
    \item \( \leq \) is \hyperref[def:binary_relation/reflexive]{reflexive} because of the existence of identity morphisms.
    \item \( \leq \) is \hyperref[def:binary_relation/transitive]{transitive} since if \( x \leq y \) and \( y \leq z \), composition of morphisms gives us \( x \leq z \).
  \end{itemize}

  Hence \( (P, \leq) \) is a preordered set.

  Note that the infimum of a set \( A \subseteq P \) (if it exists) has a unique morphism \( \inf A \) such that \( \inf A \leq x \) for any \( x \in A \). If \( y \leq x \) for all \( x \in A \) is another \hyperref[def:categorical_cone]{cone}, then necessarily \( y \leq \inf A \). Therefore the infimum is the categorical product.

  We proved that for each partially ordered set there corresponds at least one thin small category and vice versa. The fact that to each poset corresponds at most one category \( \cat{P} \) is obvious. Therefore we have a correspondence between the two.

  Duality is also obvious from our constructions.
\end{proof}
