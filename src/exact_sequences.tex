\subsection{Exact sequences}\label{subsec:exact_sequences}

\begin{definition}\label{def:short_exact_sequence}\mcite[196]{MacLane1994}
  In an \hyperref[def:abelian_category]{abelian category} \( \cat{C} \), the tower \hyperref[def:tower_diagram]{diagram}
  \begin{equation}\label{def:short_exact_sequence/diagram}
    0
    \reloset \iota \longrightarrow
    A
    \reloset f \longrightarrow
    B
    \reloset g \longrightarrow
    C
    \reloset \pi \longrightarrow
    0
  \end{equation}
  is called a \term{short exact sequence} (SES) if it is exact at \( A \), \( B \) and \( C \) (in the sense of \fullref{def:exact_morphism_pair}).

  Equivalently, \fullref{def:short_exact_sequence/diagram} is short exact if and only if \( f \cong \ker g \) as subobjects of \( B \) and \( g \cong \co\ker f \) as subobjects of \( C \).
\end{definition}

\begin{remark}\label{rem:short_exact_sequence_factorization}
  Since \( 0 \) is an initial object, the morphism \( \iota: 0 \to A \) exists and is unique. Analogously, \( \pi: C \to 0 \) exists and is unique (up to an isomorphism). This is why \( \iota \) and \( \pi \) can be skipped entirely when defining short exact sequences.

  The morphism \( f \) is necessarily a monomorphism (\enquote{f} stands for \enquote{injection}) since it is equivalent to a kernel and \( g \) is necessarily an epimorphism (\enquote{g} stands for \enquote{projection}). When either \( f \) or \( g \) is obvious, they may also be skipped.

  This makes SES a good framework for describing factorization of algebraic structures, as can be seen in \fullref{ex:short_exact_sequences}.
\end{remark}

\begin{definition}\label{def:exact_sequence_morphisms}\mcite[198]{MacLane1994}
  Consider the two short exact sequences over the same category \( \cat{C} \):
  \begin{equation*}
    \text{\todo{Add diagram}}\iffalse\begin{mplibcode}
      beginfig(1);
      input metapost/graphs;

      v1 := thelabel("$0$", origin);
      v2 := thelabel("$A$", (1, 0) scaled u);
      v3 := thelabel("$B$", (2, 0) scaled u);
      v4 := thelabel("$C$", (3, 0) scaled u);
      v5 := thelabel("$0$", (4, 0) scaled u);

      v6 := thelabel("$0$", (0, -1) scaled u);
      v7 := thelabel("$A'$", (1, -1) scaled u);
      v8 := thelabel("$B'$", (2, -1) scaled u);
      v9 := thelabel("$C'$", (3, -1) scaled u);
      v10 := thelabel("$0$", (4, -1) scaled u);

      a1 := straight_arc(v1, v2);
      a2 := straight_arc(v2, v3);
      a3 := straight_arc(v3, v4);
      a4 := straight_arc(v4, v5);

      a5 := straight_arc(v6, v7);
      a6 := straight_arc(v7, v8);
      a7 := straight_arc(v8, v9);
      a8 := straight_arc(v9, v10);

      draw_vertices(v);
      draw_arcs(a);

      label.top("$f$", straight_arc_midpoint of a2);
      label.top("$g$", straight_arc_midpoint of a3);

      label.top("$f'$", straight_arc_midpoint of a6);
      label.top("$g'$", straight_arc_midpoint of a7);
      endfig;
    \end{mplibcode}\fi
  \end{equation*}
  We say that the triple
  \begin{equation*}
    \varphi = (\varphi_A: A \to A', \varphi_B: B \to B', \varphi_C: C \to C')
  \end{equation*}
  is a \term{homomorphism} of short exact sequences if the following diagram commutes:
  \begin{equation*}
    \text{\todo{Add diagram}}\iffalse\begin{mplibcode}
      beginfig(1);
      input metapost/graphs;

      v1 := thelabel("$0$", origin);
      v2 := thelabel("$A$", (1, 0) scaled u);
      v3 := thelabel("$B$", (2, 0) scaled u);
      v4 := thelabel("$C$", (3, 0) scaled u);
      v5 := thelabel("$0$", (4, 0) scaled u);

      v6 := thelabel("$0$", (0, -1) scaled u);
      v7 := thelabel("$A'$", (1, -1) scaled u);
      v8 := thelabel("$B'$", (2, -1) scaled u);
      v9 := thelabel("$C'$", (3, -1) scaled u);
      v10 := thelabel("$0$", (4, -1) scaled u);

      a1 := straight_arc(v1, v2);
      a2 := straight_arc(v2, v3);
      a3 := straight_arc(v3, v4);
      a4 := straight_arc(v4, v5);

      a5 := straight_arc(v6, v7);
      a6 := straight_arc(v7, v8);
      a7 := straight_arc(v8, v9);
      a8 := straight_arc(v9, v10);

      a9 := straight_arc(v2, v7);
      a10 := straight_arc(v3, v8);
      a11 := straight_arc(v4, v9);

      draw_vertices(v);
      draw_arcs(a);

      label.top("$f$", straight_arc_midpoint of a2);
      label.top("$g$", straight_arc_midpoint of a3);

      label.bot("$f'$", straight_arc_midpoint of a6);
      label.bot("$g'$", straight_arc_midpoint of a7);

      label.rt("$\varphi_A$", straight_arc_midpoint of a9);
      label.rt("$\varphi_B$", straight_arc_midpoint of a10);
      label.rt("$\varphi_C$", straight_arc_midpoint of a11);
      endfig;
    \end{mplibcode}\fi
  \end{equation*}

  If each component of \( \varphi \) is an isomorphism, we say that the short exact sequences are \term{isomorphic}.
\end{definition}

\begin{definition}\label{def:split_exact_sequence}\mcite{nLab:split_exact_sequence}
  A short exact sequence
  \begin{equation}\label{def:split_exact_sequence/short_diagram}
    0
    \longrightarrow
    A
    \reloset f \longrightarrow
    B
    \reloset g \longrightarrow
    C
    \longrightarrow
    0
  \end{equation}
  is said to be \term{splitting} or \term{split exact} if any of the following equivalent conditions hold:
  \begin{thmenum}
    \item \( f \) has a left inverse
    \item \( g \) has a right inverse
    \item the sequence \fullref{def:split_exact_sequence/short_diagram} is isomorphic to the SES
    \begin{equation}\label{def:short_exact_sequence/split_diagram}
      0
      \longrightarrow
      A
      \longrightarrow
      A \otimes C
      \longrightarrow
      C
      \longrightarrow
      0
    \end{equation}
    with the canonical embedding and projection morphisms
  \end{thmenum}

  The equivalence of the three conditions is called the \term{splitting lemma}.
\end{definition}

\begin{example}\label{ex:short_exact_sequences}
  \hfill
  \begin{thmenum}
    \thmitem{ex:short_exact_sequences/cyclic_groups} Fix a natural number \( n > 0 \) and consider the category of \( \cat{Ab} \) of abelian groups and the following short exact sequence:
    \begin{equation*}
      0
      \longrightarrow
      \BbbZ
      \reloset {n \cdot} \longrightarrow
      \BbbZ
      \reloset {\lbrack \cdot \rbrack_n} \longrightarrow
      \BbbZ_n
      \longrightarrow
      0
    \end{equation*}
    where
    \begin{itemize}
      \item \( i(x) \coloneqq nx \) multiplies any integer by \( n \) to obtain the subgroup \( n \BbbZ \).
      \item \( p(x) \coloneqq [x]_n \) projects any integer into the corresponding remainder when divided by \( n \) (see \fullref{def:group_of_integers_modulo}).
    \end{itemize}

    The (group-theoretic) image \( n \BbbZ \) of \( f \) is precisely the (group-theoretic) kernel of \( [\cdot]_n \). The sequence does not split since \( f \) does not have a left inverse.

    \thmitem{ex:short_exact_sequences/real_number_splitting} Consider the additive groups \( \BbbZ \), \( \BbbR \) and the unit circle group \( S_{\BbbR^2} \) with the group operation given by addition of polar angles and with the vector \( (1, 0)^T \) as a unit.
    \begin{equation*}
      0
      \longrightarrow
      \BbbZ
      \reloset f \longrightarrow
      \BbbR
      \reloset g \longrightarrow
      S_{\BbbR^2}
      \longrightarrow
      0
    \end{equation*}
    where
    \begin{itemize}
      \item \( f \) is the canonical embedding of \( \BbbZ \) is \( \BbbR \)
      \item \( g(x) \coloneqq (\cos(\op{frac}(x)), \sin(\op{frac}(x)))^T \) (see \fullref{def:floor_ceiling_functions} and \fullref{def:quadratic_plane_curve/ellipse/parametric_equations}).
    \end{itemize}

    Since each integer has fractional part \( 0 \) and \( p(0) = (1, 0)^T \), the image \( \cat{Z} \) of \( \cat{Z} \) under \( f \) is the kernel of the group homomorphism \( g \).

    The sequence does not split since \( f \) is not left-invertible.

    \thmitem{ex:short_exact_sequences/vector_space_sum} The following SES of real vector spaces splits
    \begin{equation*}
      0
      \longrightarrow
      A
      \reloset {\left(\begin{smallmatrix}1 \\ 0\end{smallmatrix}\right)} \longrightarrow
      B
      \reloset {\left(\begin{smallmatrix}0 & 1\end{smallmatrix}\right)} \longrightarrow
      C
      \longrightarrow
      0
    \end{equation*}
    since all of the following equivalent conditions hold
    \begin{itemize}
      \item \( \left(\begin{smallmatrix}1 & 0\end{smallmatrix}\right) \) is a left inverse to \( \left(\begin{smallmatrix}1 \\ 0\end{smallmatrix}\right) \)
      \item \( \left(\begin{smallmatrix}0 \\ 1\end{smallmatrix}\right) \) is a right inverse to \( \left(\begin{smallmatrix}0 & 1\end{smallmatrix}\right) \)
      \item \( \BbbR^2 \) is a direct product and a biproduct of two copies of \( \BbbR \)
    \end{itemize}

    \thmitem{ex:short_exact_sequences/fundamental_theorem_of_calculus} The fundamental theorem of calculus is a splitting of the SES of vector spaces
    \begin{equation*}
      0
      \longrightarrow
      \BbbR
      \longrightarrow
      C^n(\BbbR, \BbbR)
      \reloset {\frac d {dx}} \longrightarrow
      C^{n-1}(\BbbR, \BbbR)
      \longrightarrow
      0
    \end{equation*}
  \end{thmenum}
\end{example}

\begin{definition}\label{def:chain_complex}\mcite{nLab:chain_complex}
  In an abelian category \( \cat{C} \), the tower \hyperref[def:tower_diagram]{diagram} with objects \( \{ C_n \}_{n \in \BbbZ} \) and morphisms \( \partial_n: C_n \to C_{n-1} \)
  \begin{equation}\label{def:chain_complex/chain_diagram}
    \cdots
    \reloset {\partial_2} \longrightarrow
    C_1
    \reloset {\partial_1} \longrightarrow
    C_0
    \reloset {\partial_0} \longrightarrow
    C_{-1}
    \reloset {\partial_{-1}} \longrightarrow
    \cdots
  \end{equation}
  is called a \term{chain complex} if for every \( n \),
  \begin{equation*}
    \partial_n \circ \partial_{n+1} = 0_{C_{n+1},C_{n-1}}.
  \end{equation*}

  Chain complexes may be finite or infinite in one or both directions. The morphisms \( \partial_n \) are called \term{boundary maps}.

  A \term{cochain complex} is a chain complex on \( \cat{C}^{-1} \), i.e.
  \begin{equation}\label{def:chain_complex/cochain_diagram}
    \cdots
    \reloset {\partial_1} \longleftarrow
    C_1
    \reloset {\partial_0} \longleftarrow
    C_0
    \reloset {\partial_{-1}} \longleftarrow
    C_{-1}
    \reloset {\partial_{-2}} \longleftarrow
    \cdots
  \end{equation}
  such that for any \( n \),
  \begin{equation*}
    \partial_{n+1} \circ \partial_n = 0_{C_{n-1},C_{n+1}}.
  \end{equation*}
\end{definition}
