\subsection{Prime ideals}\label{subsec:prime_ideals}

\begin{definition}\label{def:prime_ring_ideal}\mcite[384]{Knapp2016BasicAlgebra}
  An ideal \( P \) is called \term{prime} if it is proper and satisfies any of the equivalent conditions:
  \begin{thmenum}
    \thmitem{def:prime_ring_ideal/direct} If \( x, y \in R \) are such that \( xy \in P \), then either \( x \in P \) or \( y \in P \).
    \thmitem{def:prime_ring_ideal/ideals} If \( I, J \subseteq R \) are ideals such that \( IJ \subseteq P \), then either \( I \subseteq P \) or \( J \subseteq P \).
    \thmitem{def:prime_ring_ideal/quotient} The quotient \( R / P \) is an integral domain.
  \end{thmenum}

  An element \( r \in R \) is called \term{prime} if the ideal \( \braket r \) is prime.
\end{definition}
\begin{proof}
  \ImplicationSubProof{def:prime_ring_ideal/direct}{def:prime_ring_ideal/ideals} Fix ideals \( I, J \) of \( R \) such that \( IJ \subseteq P \).

  Assume that neither \( I \not\subseteq P \) nor \( J \not\subseteq P \). Take \( x \in I \setminus P \) and \( y \in J \setminus P \). It follows that \( xy \in P \) and either \( x \in P \) or \( y \in P \). This contradicts our assumption.

  The obtained contradiction proves that either \( I \subseteq P \) or \( J \subseteq P \).

  \ImplicationSubProof{def:prime_ring_ideal/ideals}{def:prime_ring_ideal/quotient} Fix an ideal \( P \) such that if \( I, J \subseteq R \) are ideals and \( IJ \subseteq P \), then either \( I \subseteq P \) or \( J \subseteq P \).

  We will prove that \( R / P \) is an integral domain. If \( R \) is an integral domain, this is obvious. If not, we fix nonzero \( x, y \in R \), so that \( xy = 0 \). Thus, \( [x][y] = (x + P)(y + P) = xy + P = P = [0] \). We will show that either \( x = 0 \) or \( y = 0 \).

  Consider the ideals
  \begin{balign*}
    \braket{x} & = xR, \\
    \braket{y} & = yR.
  \end{balign*}

  By \fullref{thm:def:semiring_ideal/properties/product_of_principal_ideals}, we have \( \braket{x} \braket{y} = \braket{xy} = \braket{0} = \{ 0 \} \).

  Since \( \braket{x} \braket{y} \subseteq P \), then either \( \braket{x} \subseteq P \) or \( \braket{y} \subseteq P \). That is, either \( [x] = 0 \) or \( [y] = 0 \).

  Thus, \( R / P \) is an integral domain.

  \ImplicationSubProof{def:prime_ring_ideal/quotient}{def:prime_ring_ideal/direct} Suppose that \( R / P \) is an integral domain. Fix \( x, y \in R \), so that \( xy \in P \). If \( x = 0 \), obviously \( x = 0 \in R \) and similarly for \( y \). Suppose that both \( x \) and \( y \) are nonzero. We will show that either \( x \in P \) or \( y \in P \).

  We have
  \begin{equation*}
    [x][y] = [xy] = xy + P = P = [0].
  \end{equation*}

  Since \( R / P \) is an integral domain, either \( [x] = [0] \) or \( [y] = [0] \). That is, either \( x \in P \) or \( y \in P \).
\end{proof}

\begin{proposition}\label{thm:prime_ideal_iff_prime_quotient_ideal}
  If \( J \subseteq I \) are ideals of \( R \), then \( I \) is a \hyperref[def:prime_ring_ideal]{prime ideal} in \( R \) if and only if \( I / J \) is a prime ideal in  \( R / J \).
\end{proposition}

\begin{definition}\label{def:irreducible_ring_element}
  A nonzero element \( r \in R \) of an integral domain is called \term{reducible} if there exist non-invertible elements \( r_1, r_2 \in R \) such that
  \begin{equation*}
    r = r_1 r_2.
  \end{equation*}

  If \( r \) is not reducible, we say that it is \term{irreducible}.
\end{definition}

\begin{definition}\label{def:coprime_ring_ideals}
  Two ring ideals \( I \subseteq R \) and \( J \subseteq R \) are said to be \term{coprime} if \( I + J = R \).
\end{definition}

\begin{proposition}\label{thm:prime_implies_irreducible}\mcite[389]{Knapp2016BasicAlgebra}
  All \hyperref[def:prime_ring_ideal]{prime} elements in an integral domain are \hyperref[def:irreducible_ring_element]{irreducible}.
\end{proposition}
\begin{proof}
  Let \( p \) be prime. Assume that \( p \) is reducible, that is, there exist non-invertible elements \( r_1, r_2 \in R \) such that
  \begin{equation*}
    p = r_1 r_2.
  \end{equation*}

  Since \( p \) is prime, it must divide either \( r_1 \) or \( r_2 \). Without loss of generality, assume that \( p | r_1 \) and \( r_1 = pc \) for some \( c \in R \).

  Then \( p = r_1 r_2 = pc r_2 \). By \fullref{thm:semiring_cancellative_iff_no_zero_divisors}, \( 1 = c r_2 \), which implies that \( r_2 \) is invertible with inverse \( c \). This contradicts our assumption that both \( r_1 \) and \( r_2 \) are invertible.

  The obtained contradiction proves that \( p \) is irreducible.
\end{proof}

\begin{definition}\label{def:maximal_ring_ideal}
  A two-sided ideal \( M \) is called \term{maximal} if it is proper and satisfies any of the equivalent conditions:
  \begin{thmenum}
    \thmitem{def:maximal_ring_ideal/maximality} \( M \) is maximal with respect to set inclusion among proper two-sided ideals.
    \thmitem{def:maximal_ring_ideal/quotient} The quotient \( R / M \) is a field.
  \end{thmenum}
\end{definition}
\begin{proof}
  \ImplicationSubProof{def:maximal_ring_ideal/maximality}{def:maximal_ring_ideal/quotient} Suppose that \( M \) is maximal among proper ideals. We will prove that every nonzero element of \( R / M \) is invertible.

  Fix \( x \not\in M \), so that \( [x] = x + M \neq M = [0] \). Define the set
  \begin{equation*}
    I \coloneqq Rx + M.
  \end{equation*}

  It is a ideal since both \( Rx \) and \( M \) are ideals. Furthermore, it contains \( M \) strictly because \( M \subseteq I \) and \( x \in I \). Since \( M \) is maximal, we have that \( I = R \).

  Hence, there exists \( y \in R \) such that \( 1 = yx + M \). Hence, \( [y] = y + M \) is an inverse of \( [x] \) in \( R / M \).

  Since \( [x] \in R / M \) was an arbitrary nonzero element, we conclude that \( R / M \) is a field.

  \ImplicationSubProof{def:maximal_ring_ideal/quotient}{def:maximal_ring_ideal/maximality} Suppose that \( R / M \) is a field. Assume that \( M \) is not maximal. Then there exists a proper ideal \( I \supsetneq M \).

  Assume that \( I \neq M \) and take \( x \in I \setminus M \). Then \( x \not\in M \) and hence \( [x] \neq [0] \) and is invertible in \( R / M \). Denote by \( y \) any representative of this inverse. Thus, \( [xy] - [1] = [0] \), that is, \( xy - 1 \in M \).

  Note that \( xy \in I \) because \( x \in I \) and \( y \in R \). Since \( I \) is closed under addition, it follows that \( 1 \in I \) and hence \( I = R \). But this contradicts our assumption that \( I \) is proper.

  The obtained contradiction proves that \( M \) is maximal.
\end{proof}

\begin{theorem}[Krull's theorem]\label{thm:krulls_theorem}\mcite{Hodges1979}
  Every nontrivial \hyperref[def:ring/commutative]{commutative unital ring} has a \hyperref[def:maximal_ring_ideal]{maximal ideal}.

  In \hyperref[def:zfc]{\logic{ZF}} this theorem is equivalent to the \hyperref[def:zfc/choice]{axiom of choice} --- see \fullref{thm:axiom_of_choice_equivalences/krull}.
\end{theorem}

\begin{proposition}\label{thm:maximal_ideals_are_prime}
  Maximal ring \hyperref[def:maximal_ring_ideal]{ideals} are \hyperref[def:prime_ring_ideal]{prime}.
\end{proposition}
\begin{proof}
  If \( M \) is a maximal ideal of \( R \), by \fullref{def:maximal_ring_ideal/quotient} \( R / M \) is a field. Thus, \( R / M \) is an integral domain, which by \fullref{def:prime_ring_ideal/quotient} means that \( M \) is a prime ideal.
\end{proof}

\begin{proposition}\label{thm:field_maximal_ideal_representation}\mcite[exer. 8.1]{КоцевСидеров2016}
  If \( r_1, \ldots, r_n \) are elements of the field \( \BbbK \), then \( \braket{X_1 - r_1, \ldots, X_n - r_n} \) is a maximal ideal of \( \BbbK[X_1, \ldots, X_n] \).
\end{proposition}

\begin{proposition}\label{thm:ufd_prime_iff_irreducible}
  An element in a unique factorization domain is \hyperref[def:prime_ring_ideal]{prime} if and only if it is \hyperref[def:irreducible_ring_element]{irreducible}.
\end{proposition}
\begin{proof}
  \SufficiencySubProof Follows from \fullref{thm:prime_implies_irreducible}.

  \NecessitySubProof Let \( r \) be an irreducible element and let \( p_1 p_2 \in \braket{r} \). We will show that either  \( p_1 \in \braket{r} \) or \( p_2 \in \braket{r} \).

  Since \( \braket{r} \) is an ideal, there exists an element \( q \in R \) such that \( qr = p_1 p_2 \). Because of unique factorization, there exists a unit \( u \in R \) such that \( uqr = p_1 p_2  \).

  Therefor either
  \begin{itemize}
    \item \( p_1 = 1 \), in which case \( p_2 = uqr \in \braket{r} \).
    \item \( p_1 = u \), in which case \( p_2 = qr \in \braket{r} \).
    \item \( p_1 = uq \), in which case \( p_2 = r \in \braket{r} \).
    \item \( p_1 = ur \in \braket{r} \).
    \item \( p_1 = qr \in \braket{r} \).
    \item \( p_1 = uqr \in \braket{r} \).
  \end{itemize}
\end{proof}

\begin{proposition}\label{thm:prime_ideals_are_maximal_in_pid}
  Prime ring \hyperref[def:prime_ring_ideal]{ideals} in a principal ideal domain are \hyperref[def:maximal_ring_ideal]{maximal}.
\end{proposition}
\begin{proof}
  Let \( P \) be a prime ideal of \( R \) and let \( I \supsetneq P \) be an ideal strictly containing \( P \). We will show that \( I = R \).

  Since \( R \) is a principal ideal domain, both \( P \) and \( I \) are principal. Let \( p \) and \( i \) be their respective generators. Since \( I \) contains \( P \), there exists \( r \in R \) such that
  \begin{equation*}
    p = ir.
  \end{equation*}

  But \( p \) is prime, and thus irreducible by \fullref{thm:ufd_prime_iff_irreducible}, and hence either \( i \) or \( r \) must be a unit. If \( r \) is a unit, then \( \braket i = \braket {ir} = \braket p \), which contradicts our choice of \( I \supsetneq P \). It remains for \( i \) to be a unit.

  Therefore, \( I = \braket i = \braket 1 = R \). This proves that \( P \) is maximal with respect to inclusion of ideals.
\end{proof}

\begin{definition}\label{def:krull_dimension}\mcite[67]{КоцевСидеров2016}
  Consider chains
  \begin{equation*}
    P_0 \subsetneq P_1 \subsetneq \cdots
  \end{equation*}
  of prime \hyperref[def:prime_ring_ideal]{ideals} in \( R \) under strict inclusion. The length of this chain is defined as the zero-based index of its last element and is allowed to be infinite. Zero-based means that a chain with only one ideal has length zero.

  We call the supremum of the lengths of these chains the \term{Krull dimension} of the ring \( R \) and denote it by \( \dim R \).
\end{definition}

\begin{proposition}\label{thm:def:krull_dimension/properties}
  The Krull \hyperref[def:krull_dimension]{dimension} of a ring \( R \) has the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:krull_dimension/properties/monotone} If \( R = T / S \) is the quotient of some rings \( S \subseteq T \), \( \dim R \leq \dim T \).
    \thmitem{thm:def:krull_dimension/properties/pid} If \( R \) is a principal ideal domain, \( \dim R \in \{ 0, 1 \} \).
    \thmitem{thm:def:krull_dimension/properties/field} If \( R \) is a \hyperref[def:field]{field}, \( \dim R = 0 \).
    \thmitem{thm:def:krull_dimension/properties/polynomials_over_field}\cite[exercise 8.19]{КоцевСидеров2016} If \( R = \BbbK[X_1, \ldots, X_n] \) for some \hyperref[def:field]{field} \( \BbbK \), \( \dim R = n \).
  \end{thmenum}
\end{proposition}

\begin{corollary}\label{thm:multivariate_polynomial_rings_are_not_pid}
  Multivariate polynomial rings are not principal ideal domains.
\end{corollary}
\begin{proof}
  Follows from \fullref{thm:def:krull_dimension/properties/pid} and \fullref{thm:def:krull_dimension/properties/polynomials_over_field}.
\end{proof}

\begin{definition}\label{def:radical_ideal}
  We define the \term{radical ideal} of the ideal \( I \) of \( R \) as
  \begin{equation*}
    \sqrt I \coloneqq \{ x \in R \colon \exists n: x^n \in I \}.
  \end{equation*}
\end{definition}
\begin{proof}
  We verify that the set \( \sqrt I \) is an ideal of \( R \).

  It is closed under addition because if \( x^n \in I \) and \( y^m \in I \), then by \fullref{thm:binomial_theorem},
  \begin{equation*}
    (x + y)^{n+m}
    =
    \sum_{k=0}^{n+m} \binom n k x^k y^{n+m-k}
  \end{equation*}

  In this sum, either \( k \geq n \) and thus the product \( x^k y^{n+m-k} \in I \), or \( k < n \), in which case \( n + m - k > n + m - n = m \) and the same holds. Thus,
  \begin{equation*}
    (x + y)^{n+m} \in I
  \end{equation*}
  and \( x + y \in \sqrt I \).

  The radical is also closed under multiplication with \( R \) since if \( x^n \in I \), then \( (rx)^n = r^n x^n \in I \).

  Therefore, it is an ideal of \( R \).
\end{proof}

\begin{definition}\label{def:primary_ring_ideal}\mcite[74]{КоцевСидеров2016}
  We call the proper ideal \( P \) of \( R \) \term{primary} if \( xy \in P \) implies that \( x \in P \) or \( y \in \sqrt P \).
\end{definition}

\begin{theorem}[Chinese remainder theorem]\label{thm:chinese_remained_theorem}\mcite[thm. 8.27]{Knapp2016BasicAlgebra}
  Let \( I_1, \ldots, I_n \) be pairwise \hyperref[def:coprime_ring_ideals]{coprime} ideals. Then
  \begin{equation*}
    R / \bigcap_{i=1}^n I_n \cong R / I_1 \times \cdots \times R / I_n.
  \end{equation*}
\end{theorem}

\begin{definition}\label{def:spectrum_of_ring}
  The set of all prime ideals on a ring \( R \) is called the \term{spectrum} of \( R \) denoted by \( \op{Spec}(R) \).
\end{definition}
