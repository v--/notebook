\subsection{Totally bounded sets}\label{subsec:totally_bounded_sets}

Let \( (X, \rho) \) be a \hyperref[def:metric_space]{metric space}.

\begin{definition}\label{def:epsilon_net}
  We say that \( E \subseteq X \) is an \( \varepsilon \)-\term{net} for the set \( A \subseteq X \) if
  \begin{equation}
    A \subseteq \bigcup_{x \in E} B(x, \varepsilon).
  \end{equation}
\end{definition}

\begin{definition}\label{def:totally_bounded_set}
  The space \( A \subseteq X \) is called \term{totally bounded} if any of the following equivalent conditions hold:

  \begin{thmenum}
    \labitem{def:totally_bounded_set/sets} For every \( \varepsilon > 0 \) there exists a finite cover of \( A \) with sets with diameter at most \( \varepsilon \).
    \labitem{def:totally_bounded_set/epsilon_net} For every \( \varepsilon > 0 \) there exists a finite \hyperref[def:epsilon_net]{\( \varepsilon \)-net} of \( A \).
    \labitem{def:totally_bounded_set/zero_noncompactness/sets} \hyperref[def:noncompactness_measures/sets]{Kuratowski's noncompactness measure} \( \alpha(A) \) is zero.
    \labitem{def:totally_bounded_set/zero_noncompactness/balls} The \hyperref[def:noncompactness_measures/balls]{ball noncompactness measure} \( \beta(A) \) is zero.
    \labitem{def:totally_bounded_set/fundamental_subsequences} Every sequence in \( A \) admits a \hyperref[def:fundamental_net]{fundamental subsequence}.
  \end{thmenum}

  Totally bounded sets are sometimes called \term{\hyperref[def:compact_space]{precompact}} because of \fullref{thm:metric_compact_iff_sequentially_compact}. This equivalence requires the metric space to be complete, however.
\end{definition}
\begin{proof}
  \EquivalenceSubProof{def:totally_bounded_set/sets}{def:totally_bounded_set/zero_noncompactness/sets} Straightforward.

  \EquivalenceSubProof{def:totally_bounded_set/epsilon_net}{def:totally_bounded_set/zero_noncompactness/balls} Straightforward.

  \ImplicationSubProof{def:totally_bounded_set/epsilon_net}{def:totally_bounded_set/sets} Given \( \varepsilon > 0 \), any cover of \( A \) with balls of radius \( \frac \varepsilon 2 \) is a cover with sets of diameter \( \varepsilon \).

  \ImplicationSubProof{def:totally_bounded_set/sets}{def:totally_bounded_set/epsilon_net} Fix \( \varepsilon > 0 \) and \( \rho \in (0, \varepsilon) \) and let \( A_1, \ldots, A_n \subseteq \pow X \) be a finite cover of \( A \) with sets of diameter at most \( \rho \).

  Choose\AOC a point \( x_k \) from every \( A_k \), \( k = 1, \ldots, n \). We then have that for every \( k = 1, \ldots, n \),
  \begin{balign*}
    A_k \subseteq \cl B(x_k, \rho) \subsetneq B(x_k, \varepsilon)
    \\
    \implies A \subseteq \bigcup_{k=1}^n A_k \subseteq \bigcup_{k=1}^n B(x_k, \rho) \subsetneq \bigcup_{k=1}^n B(x_k, \varepsilon),
  \end{balign*}
  hence \( x_1, \ldots, x_n \) are centers of \( \varepsilon \)-balls that cover \( A \).

  \ImplicationSubProof{def:totally_bounded_set/epsilon_net}{def:totally_bounded_set/fundamental_subsequences} Let \( \{ x_n \} \subseteq A \) be any sequence.

  If we assume\LEM that \( \{ x_n \} \) has no fundamental subsequence, then there exists \( \varepsilon_0 > 0 \) such that \( \rho(x_k, x_m) > \varepsilon_0 \) for any \( n, m \in \BbbZ_{>0} \).

  Consider a finite cover of \( A \) with \( \varepsilon_0 \)-balls. By the pigeonhole principle, at least one of the balls contains more than one element of the sequence, which contradicts the assumption that all elements of the sequence have a distance of at least \( \varepsilon_0 \).

  Hence an arbitrary sequence in \( A \) has a fundamental subsequence.

  \ImplicationSubProof{def:totally_bounded_set/fundamental_subsequences}{def:totally_bounded_set/epsilon_net} Assume\LEM that there exists \( \varepsilon_0 > 0 \), such that \( A \) admits no finite cover by \( \varepsilon_0 \)-balls.

  Define \( x_1 \in X, x_2 \in X \setminus B(x_1, \varepsilon_0), \ldots \), so that every two elements of the sequence \( \{ x_n \} \) have a distance of at least \( \varepsilon_0 \). But then the sequence is does not admit a fundamental subsequence, which contradicts our assumption.

  This contradiction proves that \( A \) admits a finite cover by \( \varepsilon \)-balls for every \( \varepsilon > 0 \).
\end{proof}

\begin{corollary}\label{thm:metric_space_compact_iff_closed_totally_bounded}
  Assume that \( X \) is complete. The set \( A \subseteq X \) is sequentially compact if and only if it is closed and totally bounded.
\end{corollary}
\begin{proof}
  The property that every sequence has a fundamental subsequence is equivalent to sequential compactness for a closed set in a complete metric space.
\end{proof}

\begin{proposition}\label{thm:totally_bounded_sets_are_bounded}
  Totally bounded sets are bounded.
\end{proposition}
\begin{proof}
  Fix a totally bounded set \( A \subseteq X \). Let \( \varepsilon > 0 \) and let \( x_1, x_2, \ldots, x_n \) be a finite \hyperref[def:totally_bounded_set/epsilon_net]{\( \varepsilon \)-net} of \( A \). The distance between two points of the \( \varepsilon \)-net is at most \( 2\varepsilon \). Then
  \begin{equation*}
    A \subseteq \bigcup_{i=1}^n B(x_i, \varepsilon) \subseteq B(x_i, 2 n \varepsilon).
  \end{equation*}

  Hence \( A \) is \hyperref[def:metric_space/bounded_set]{bounded}.
\end{proof}

\begin{proposition}\label{thm:closure_of_totally_bounded_is_totally_bounded}
  If a set \( A \subseteq X \) is totally bounded, then so is its closure \( \cl A \).
\end{proposition}
\begin{proof}
  Let \( \varepsilon > 0 \) and \( \rho \in (0, \varepsilon) \) and let \( x_1, \ldots, x_n \in X \) be the centers of a cover of \( A \) with \( \rho \)-balls.

  If \( y \) is a point in \( \cl A \setminus A \), there exists a point \( z \in A \) with \( \rho(y, z) < \varepsilon - \rho \). Let \( x_k \in A \) be one of the centers whose \( \rho \)-balls contain \( z \). We then have that \( y \in B(x_k, \varepsilon) \) since
  \begin{equation*}
    \rho(x_k, z) \leq \rho(x_k, y) + \rho(y, z) < \rho + \varepsilon - \rho = \varepsilon.
  \end{equation*}

  Hence the balls \( \cl B(x_k, \varepsilon) \) cover \( \cl A \), i.e.
  \begin{equation*}
    \cl A \subseteq \bigcup_{k=1}^n B(x_k, \varepsilon).
  \end{equation*}
\end{proof}

\begin{lemma}[Lebesgue's covering lemma]\label{thm:lebesgues_covering_lemma}
  Assume that \( X \) is complete. Let \( A \subseteq X \) be sequentially compact. Given an open cover \( \mathcal{F} \subseteq \pow A \), there exists a number \( \delta > 0 \) such that every \( \delta \)-ball with a center in \( A \) is contained in some set of the cover \( \mathcal{F} \).
\end{lemma}
\begin{proof}
  Assume\LEM that no such number \( \delta > 0 \) exists. Then for any natural number \( n \in \BbbZ_{>0} \), there exists an element \( x_n \in A \) such that the ball \( B(x_n, \frac 1 n) \) is not contained in any set of the cover \( \mathcal{F} \). Since \( A \) is sequentially compact, the sequence \( \{ x_n \}_n \) contains a convergent subsequence \( \{ x_{n_k} \}_k \).

  Define
  \begin{equation*}
    x \coloneqq \lim_{k \to \infty} x_{n_k}.
  \end{equation*}

  Let\AOC \( E \) be a set in \( \mathcal{F} \) that contains \( x \). Since \( E \) is open, there exists some radius \( r > 0 \) such that \( B(x, r) \subseteq E \).

  Choose any \( k_0 > \frac 2 r \) such that \( \rho(x_{n_{k_0}}, x) < \frac r 2 \). By the triangle inequality,
  \begin{equation*}
    B \left(x_{n_k}, \frac 1 k \right) \subsetneq B \left(x_k, \frac r 2 \right) \subseteq B(x, r) \subseteq E,
  \end{equation*}
  which contradicts the choice of the sequence \( \{ x_n \}_n \).

  Hence there exists a \( \delta > 0 \) such that for every \( x \in A \), the ball \( B(x, \delta) \) is contained in some element \( E \) of the cover \( \mathcal{F} \).
\end{proof}

\begin{theorem}\label{thm:metric_compact_iff_sequentially_compact}
  Assume that \( X \) is complete. The set \( A \subseteq X \) is compact if and only if it is sequentially compact.
\end{theorem}
\begin{proof}
  \SufficiencySubProof Let \( \mathcal{F} \subseteq \pow X \) be an open cover of \( A \).

  By \fullref{thm:lebesgues_covering_lemma}, there exists \( \delta > 0 \) such that for every \( x \in A \), the ball \( B(x, \delta) \) is contained in some set of the cover \( \mathcal{F} \). Let \( x_1, \ldots, x_n \) be a cover of \( A \) with \( \delta \)-balls.

  For each \( k = 1, \ldots, n \) we have that the ball \( B(x_k, \delta) \) is contained in some set \( E_k \in \mathcal{F} \). Hence \( E_1, \ldots, E_n \) is a finite subcover of \( A \), because
  \begin{equation*}
    A \subseteq \bigcup_{k=1}^\infty B(x_k, \delta) \subseteq \bigcup_{k=1}^\infty E_k.
  \end{equation*}

  Thus \( A \) is compact.

  \NecessitySubProof Let \( A \) be compact. Fix \( \varepsilon > 0 \) and take the cover
  \begin{equation*}
    \mathcal{F} \coloneqq \{ B(a, \varepsilon) \colon a \in A \}.
  \end{equation*}

  By compactness of \( A \), there exists a finite subcover. Thus a finite cover of \( A \) with \( \varepsilon \)-balls exists for every \( \varepsilon > 0 \). \Fullref{def:totally_bounded_set} then implies that total boundedness is equivalent to sequential compactness because \( X \) is complete and \( A \) is closed.
\end{proof}

\begin{corollary}\label{thm:complete_metric_space_compact_conditions}
  The following are equivalent for a set \( A \) in complete metric space:
  \begin{thmenum}
    \labitem{thm:complete_metric_space_compact_conditions/compact} \( A \) is \hyperref[def:compact_space]{compact}
    \labitem{thm:complete_metric_space_compact_conditions/sequentially_compact} \( A \) is sequentially \hyperref[def:compact_space/convergent_nets]{compact}.
    \labitem{thm:complete_metric_space_compact_conditions/closed_totally_bounded} \( A \) is closed and totally \hyperref[def:totally_bounded_set]{bounded}.
  \end{thmenum}
\end{corollary}
\begin{proof}
  \EquivalenceSubProof{thm:complete_metric_space_compact_conditions/compact}{thm:complete_metric_space_compact_conditions/sequentially_compact} The equivalence is given by \fullref{thm:metric_compact_iff_sequentially_compact}.

  \ImplicationSubProof{thm:complete_metric_space_compact_conditions/sequentially_compact}{thm:complete_metric_space_compact_conditions/closed_totally_bounded} The equivalence is given by \fullref{thm:metric_space_compact_iff_closed_totally_bounded}.
\end{proof}
