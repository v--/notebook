\subsection{Real series}\label{subsec:real_series}

\begin{proposition}\label{thm:almost_all_terms_positive_implies_absolute_convergent}
  If only finitely many coefficients in a real \hyperref[def:convergent_series]{convergent} series are negative, then the series converges absolutely.
\end{proposition}
\begin{proof}
  Let \( N \) be the index of the last negative coefficient in \eqref{def:convergent_series/series}. Then the series
  \begin{equation*}
    \sum_{k={N+1}}^\infty a_k
  \end{equation*}
  is absolutely convergent since every coefficient is positive. Then
  \begin{equation*}
    \sum_{k=0}^\infty \abs{a_k} = \sum_{k=0}^N \abs{a_k} + \sum_{k=N+1}^\infty \abs{a_k}
  \end{equation*}
  is convergent since the first term on the right side is a finite sum and the second is a convergent series. Hence the series \eqref{def:convergent_series/series} converges absolutely.
\end{proof}

\begin{corollary}\label{thm:almost_all_terms_negative_implies_absolute_convergent}
  If only finitely many coefficients in a real \hyperref[def:convergent_series]{convergent} series are positive, then the series converges absolutely.
\end{corollary}

\begin{theorem}[Riemann's series permutation theorem]\label{thm:riemanns_series_permutation_theorem}\mcite[\textnumero 247]{Фихтенгольц1968Том2}
  If the real series
  \begin{equation*}
    \sum_{k=0}^\infty a_k
  \end{equation*}
  is \hyperref[def:convergent_series]{convergent} but not absolutely convergent, then for any extended real number \( x \in \BbbR \cup \{ -\infty, +\infty \} \) there exists a \hyperref[def:symmetric_group]{permutation} \( p \) of the coefficients \( a_0, a_1, a_2 \)
  such that
  \begin{equation*}
    \sum_{k=0}^\infty p(a_k) = x.
  \end{equation*}
\end{theorem}
\begin{proof}
  If the series is not absolutely convergent, then there exist both infinitely many positive and infinitely many negative coefficients.

  First, assume that \( x \) is finite.

  Define the permuted series
  \begin{equation*}
    \sum_{k=0}^\infty b_k
  \end{equation*}
  as follows:
  \begin{thmenum}
    \thmitem{thm:riemanns_series_theorem/positive} Assign to \( b_n \) only nonnegative elements of the sequence \( \{ a_k \}_{k=0}^\infty \) until \( \sum_{k=0}^n b_k \geq x \). Then go to \ref{thm:riemanns_series_theorem/negative}.
    \thmitem{thm:riemanns_series_theorem/negative} Assign to \( b_n \) only negative elements of the sequence \( \{ a_k \}_{k=0}^\infty \) until \( \sum_{k=0}^n b_k \geq x \). Then go to \ref{thm:riemanns_series_theorem/positive}.
  \end{thmenum}

  This mutual recursion builds a series that converges to \( x \) because the coefficients \( \{ a_k \}_{k=0}^\infty \) get arbitrarily close to each other.

  If \( x = +\infty \), we can add positive coefficients until \( \sum_{k=0}^n b_k \geq 1 \), then add a single negative coefficient, then continue adding positive coefficients until \( \sum_{k=0}^n b_k \geq 2 \) and so on.

  If \( x = -\infty \), we use the same process but with milestones of \( -1, -2, -3, \ldots \).
\end{proof}

\begin{example}\label{ex:riemanns_series_permutation_theorem/alternating_harmonic_series}\cite[\textnumero 247]{Фихтенгольц1968Том2}
  Consider the \term{alternating harmonic series}
  \begin{equation}\label{ex:riemanns_series_permutation_theorem/alternating_harmonic_series/series}
    \sum_{k=1}^\infty \frac {(-1)^k} k
    =
    \sum_{m=1}^\infty \left( \frac 1 {2m - 1} - \frac 1 {2m} \right)
    =
    1 - \frac 1 2 + \frac 1 3 - \frac 1 4 + \cdots.
  \end{equation}

  Compare the series with \fullref{def:harmonic_progression/series}. Note that by \fullref{leibniz_alternating_series_test} the series is convergent, however it is not absolutely convergent because the harmonic series \fullref{def:harmonic_progression/series} is divergent.

  Denote the sum by \( a \).

  We can rearrange this series by repeating two negative terms and a single positive term as follows:
  \begin{equation}\label{ex:riemanns_series_permutation_theorem/alternating_harmonic_series/rearranged}
    1 - \frac 1 2 - \frac 1 4 + \frac 1 3 - \frac 1 6 - \frac 1 8 + \cdots
    =
    \sum_{m=1}^\infty \left( \frac 1 {2m - 1} - \frac 1 {4m - 2} - \frac 1 {4m} \right).
  \end{equation}

  Note that \fullref{ex:riemanns_series_permutation_theorem/alternating_harmonic_series/rearranged} is equivalent to
  \begin{equation*}
    \sum_{m=1}^\infty \left( \frac 1 {2m - 1} - \frac 1 {4m - 2} - \frac 1 {4m} \right)
    =
    \sum_{m=1}^\infty \left( \frac 1 {4m - 2} - \frac 1 {4m} \right)
    =
    \frac 1 2 \sum_{m=1}^\infty \left( \frac 1 {2m - 1} - \frac 1 {42} \right)
    =
    \frac a 2.
  \end{equation*}
\end{example}

\begin{proposition}\label{thm:positive_series_comparison}\mcite[\textnumero 237]{Фихтенгольц1968Том2}
  Fix two nonnegative series
  \begin{equation}\label{def:positive_series_comparison/a}
    \sum_{k=0}^\infty a_k
  \end{equation}
  and
  \begin{equation}\label{def:positive_series_comparison/b}
    \sum_{k=0}^\infty b_k
  \end{equation}
  that is, series with nonnegative real coefficients. Assume that there exists an index \( K \) such that
  \begin{equation*}
    a_k \leq b_k \quad\forall k \geq K.
  \end{equation*}

  We say that the series \fullref{def:positive_series_comparison/b} \term{dominates} the series \fullref{def:positive_series_comparison/a}.

  Then
  \begin{thmenum}
    \thmitem{thm:positive_series_comparison/b_converges} If \fullref{def:positive_series_comparison/b} converges, so does \fullref{def:positive_series_comparison/a}.

    \thmitem{thm:positive_series_comparison/a_diverges} If \fullref{def:positive_series_comparison/a} diverges, so does \fullref{def:positive_series_comparison/b}.
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:positive_series_comparison/b_converges} Suppose that \fullref{def:positive_series_comparison/b} converges. Then by \fullref{thm:real_monotone_sequence_converges_iff_bounded}, the sequence of partial sums is bounded. Therefore the sequence of partial sums of \fullref{def:positive_series_comparison/a} is also bounded and, by \fullref{thm:real_monotone_sequence_converges_iff_bounded} again, the series is convergent.

  \SubProofOf{thm:positive_series_comparison/a_diverges} Analogous to \fullref{thm:positive_series_comparison/b_converges}, but using the negation of \fullref{thm:real_monotone_sequence_converges_iff_bounded}.
\end{proof}

\begin{proposition}[Cauchy's root test]\label{thm:cauchys_root_test}\mcite[thm. 3.33]{Rudin1976Principles}
  Consider the nonnegative series \fullref{def:positive_series_comparison/a}. Put
  \begin{equation*}
    q \coloneqq \limsup_{k \to \infty} \sqrt[k]{a_k},
  \end{equation*}
  where \( q = \infty \) if the limit does not exist. Then
  \begin{itemize}
    \item If \( q < 1 \), the series converges.
    \item If \( q > 1 \), the series diverges.
    \item If the limit does not exist (e.g. if \( a_k = k^k \)), the series diverges.
    \item If \( q = 1 \), the series may either converge or diverge.
  \end{itemize}
\end{proposition}
\begin{proof}
  The case when the limit \( q \) does not exist is obvious by the contraposition to \fullref{thm:convergent_series_terms_vanish}.

  Suppose that the limit exists. Therefore there exists an index \( K \) such that
  \begin{equation*}
    \sqrt[k]{a_k} \leq q \quad\forall k \geq K.
  \end{equation*}

  Thus we have the inequality
  \begin{equation*}
    a_k \leq q^k \quad\forall k \geq K.
  \end{equation*}

  The statement of the theorem now follows from comparison (\fullref{thm:positive_series_comparison}) with the \hyperref[def:geometric_progression/series]{geometric series}.
\end{proof}

\begin{proposition}[d'Alambert's ratio test]\label{thm:dalamberts_ratio_test}\mcite[thm. 3.33]{Rudin1976Principles}
  Consider the nonnegative series \fullref{def:positive_series_comparison/a}. Put
  \begin{equation*}
    q \coloneqq \limsup_{k \to \infty} \frac {a_{k+1}} {a_k},
  \end{equation*}
  where \( q = \infty \) if the limit does not exist. Then
  \begin{itemize}
    \item If \( q < 1 \), the series converges.
    \item If there exists an index \( k_0 \) such that \( \frac {a_{k+1}} {a_k} \geq 1 \) for all \( k \geq k_0 \), the series diverges.
    \item If the limit does not exist (e.g. if \( a_k = k! \)), the series diverges.
  \end{itemize}
\end{proposition}
\begin{proof}
  All cases except for \( q < 1 \) are obvious by the contraposition to \fullref{thm:convergent_series_terms_vanish}.

  Suppose that the limit exists. Therefore there exists an index \( k_0 \) such that
  \begin{equation*}
    a_{k+1} \leq q a_k \quad\forall k \geq k_0.
  \end{equation*}

  Thus
  \begin{equation*}
    a_{k_0 + m} \leq q^m a_{k_0} \quad\forall m \geq \BbbZ^{\geq 0}.
  \end{equation*}

  Convergence now follows from comparison (\fullref{thm:positive_series_comparison}) of the \hyperref[def:geometric_progression/series]{geometric series} with the subseries of \fullref{def:positive_series_comparison/a} obtained by trimming the first \( k_0 \) elements.
\end{proof}

\begin{proposition}\label{rem:nonnegative_series_convergence_test_equivalence}
  The values of \( q \) in \fullref{thm:cauchys_root_test} and in \fullref{thm:dalamberts_ratio_test} are equal.
\end{proposition}
\begin{proof}
  If we assume\DNE that they are not equal, then the same series would have to be convergent and divergent simultaneously in some region.
\end{proof}

\begin{definition}\label{def:alternating_series}
  Series of the form
  \begin{equation}\label{def:alternating_series/series}
    \pm \sum_{k=0}^\infty (-1)^k a_k,
  \end{equation}
  where all \( a_k, k = 0, 1, \ldots \) are nonnegative, are called \term{alternating}.
\end{definition}

\begin{proposition}[Leibniz' alternating series test]\label{leibniz_alternating_series_test}
  Consider the alternating series \fullref{def:alternating_series}. If the sequence of terms \( \{ a_k \}_{k=0}^\infty \) decreases monotonically and if \( \lim_{k \to \infty} a_k = 0 \), then the series converges.
\end{proposition}

\begin{theorem}\label{thm:weierstrass_series_criterion_nessessity}\mcite[\textnumero 268]{Фихтенгольц1968Том2}
  \Fullref{thm:weierstrass_series_criterion} is a necessary condition for nonnegative real functions.
\end{theorem}
