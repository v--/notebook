\subsection{Triangles}\label{subsec:triangles}

We will work in the \hyperref[def:euclidean_plane]{Euclidean plane}.

\begin{definition}\label{def:triangle}
  A \hyperref[def:simplex]{\( 2 \)-simplex} is called a \term{triangle}. This definition holds more generally than Euclidean spaces, however we restrict it because we have not defined \hyperref[def:angle]{angles} more generally.

  \begin{figure}[!ht]
    \centering
    \includegraphics[align=c]{output/def__triangle.pdf}
    \caption{An \hyperref[def:triangle/acute]{acute triangle}.}\label{fig:def:triangle}
  \end{figure}

  Given a triangle with vertices \( A \), \( B \) and \( C \), we usually consider its \hyperref[def:angle]{\hi{undirected} angles}
  \begin{align*}
    \alpha &\coloneqq \sphericalangle(\vect{AB}, \vect{AC}), \\
    \beta  &\coloneqq \sphericalangle(\vect{BA}, \vect{BC}), \\
    \gamma &\coloneqq \sphericalangle(\vect{CA}, \vect{CB}).
  \end{align*}

  We say that the segment \( [B, C] \) and the angle \( \sphericalangle(\vect{AB}, \vect{AC}) \) are \term{opposite} to \( A \), and similarly for the other segments and angles.

  We can classify triangles based on their sides as
  \begin{thmenum}
    \thmitem{def:triangle/isosceles} \term{isosceles} if at least two of its sides have equal length
    \thmitem{def:triangle/equilateral} \term{equilateral} if all of its sides have equal length
  \end{thmenum}
  or based on their angles as
  \begin{thmenum}
    \thmitem{def:triangle/acute} \term{acute} if all of its angles are \hyperref[def:angle/measure/acute]{acute}.
    \thmitem{def:triangle/right} \term{right} if at least one of the angles is \hyperref[def:angle/measure/straight]{straight}.
    \thmitem{def:triangle/obtuse} \term{obtuse} if at least one of its angles is \hyperref[def:angle/measure/obtuse]{obtuse}.
  \end{thmenum}
\end{definition}

\begin{proposition}\label{thm:sum_of_triangle_angles}
  The sum of the (measures of) the angles of any \hyperref[def:triangle]{triangle} is \( \pi \).
\end{proposition}
\begin{proof}
  \begin{figure}[!ht]
    \centering
    \includegraphics[align=c]{output/thm__sum_of_triangle_angles.pdf}
    \caption{The construction in the proof of \fullref{thm:sum_of_triangle_angles}.}\label{fig:thm:sum_of_triangle_angles}
  \end{figure}

  Consider a triangle with vertices \( A \), \( B \) and \( C \). Let \( g \) be the line containing \( A \) and \( B \) given by \fullref{thm:lines_intersect_in_plane}, and let \( h \) be the line through \( C \) parallel to \( g \) given by \fullref{thm:parallel_subspace_through_point}.

  Finally, let \( A' \) be the \hyperref[def:rigid_motion/projection]{projection} of \( A \) onto \( h \) and \( B' \) be the projection of \( B \) onto \( h \).

  \Fullref{thm:angles_of_transversal} implies that the angles \( \sphericalangle(\vect{AB}, \vect{AC}) \) and \( \sphericalangle(\vect{CA'}, \vect{CA}) \) both have measure \( \alpha \). Similarly, \( \sphericalangle(\vect{BA}, \vect{BC}) \) and \( \sphericalangle(\vect{CB'}, \vect{CB}) \) both have measure \( \beta \).

  From \fullref{thm:adjacent_angles} it follows that
  \begin{equation*}
    \pi
    =
    \sphericalangle(\vect{CA'}, \vect{CB'})
    =
    \sphericalangle(\vect{CA'}, \vect{CA}) + \sphericalangle(\vect{CA}, \vect{CB}) + \sphericalangle(\vect{CB}, \vect{CB'})
    =
    \alpha + \gamma + \beta.
  \end{equation*}
\end{proof}

\begin{corollary}\label{thm:right_triangle}
  A \hyperref[def:triangle/right]{right triangle} has exactly one \hyperref[def:angle/measure/right]{right angle}.

  \begin{figure}[!ht]
    \centering
    \includegraphics[align=c]{output/thm__right_triangle.pdf}
    \caption{A \hyperref[def:triangle/right]{right triangle} with hypotenuse \( [A, B] \).}\label{fig:thm:right_triangle}
  \end{figure}

  We call the opposite side of the right angle the \term[bg=хипотенуза,ru=гипотенуза]{hypotenuse} and the other two sides --- \term[bg=катет,ru=катет]{legs}.
\end{corollary}
\begin{proof}
  There can be only one right angle because, by \fullref{thm:sum_of_triangle_angles}, the other two angles must sum to \( \ifrac \pi 2 \), and one of the angles being zero would violate affine independence of the vertices.
\end{proof}

\begin{remark}\label{rem:polar_coordinate_system}
  A \term{polar coordinate system} given by the ray \( r(t) = O + td \) assigns to each point \( P \neq O \) a unique pair \( (l, \rho) \) of real numbers, where \( l \) is the distance between \( O \) and \( P \) and \( \rho \) is the \hyperref[def:angle]{angle} between \( d \) and \( \vect{OP} \). The number \( l \) is also called the \term{radius} of \( O \).

  \begin{figure}[!ht]
    \centering
    \includegraphics[align=c]{output/rem__polar_coordinate_system.pdf}
    \caption{The \hyperref[rem:polar_coordinate_system]{polar coordinates} of the point \( P \) with respect to the ray \( r \).}\label{fig:rem:polar_coordinate_system}
  \end{figure}

  For simplicity, suppose that \( \norm d = 1 \). Then \fullref{thm:cosine_of_angle_measure} implies that
  \begin{equation*}
    l \cdot \cos \rho = l \cdot \frac {\inprod d {\vect{OP}}} {\norm{\vect{OP}}} = \inprod d {\vect{OP}}.
  \end{equation*}

  Let \( e \) be a rotation of the normed ordinate directional vector by \( \varphi \). Then it is a rotation of the normed abscissa directional vector by \( \varphi + \ifrac \pi 2 \). We have
  \begin{equation*}
    l \cdot \sin \rho
    \reloset {\eqref{eq:thm:trigonometric_function_period_identities/half/sin}} =
    l \cdot \cos(\rho + \ifrac \pi 2)
    =
    \inprod e {\vect{OP}}.
  \end{equation*}

  Therefore, the coordinates of \( P \) with respect to the \hyperref[def:affine_coordinate_system]{affine coordinate system} \( Ode \) are
  \begin{equation}\label{eq:rem:polar_coordinate_system/simple}
    \begin{cases}
      x = l \cdot \cos(\varphi), \\
      y = l \cdot \sin(\varphi).
    \end{cases}
  \end{equation}

  The polar coordinates are unique up to a choice of interval for \( \varphi \).
\end{remark}

\begin{proposition}\label{thm:right_triangle_trigonometric_functions}
  Consider the \hyperref[def:triangle/right]{right triangle} with vertices \( A \), \( B \) and \( C \) and angles \( \alpha \), \( \beta \), \( \gamma \). Without loss of generality, suppose that \( [A, B] \) is the \hyperref[thm:right_triangle]{hypotenuse} .

  \begin{figure}[!ht]
    \centering
    \includegraphics[align=c]{output/thm__right_triangle_trigonometric_functions.pdf}
    \caption{The construction from \fullref{thm:right_triangle_trigonometric_functions}.}\label{fig:thm:right_triangle_trigonometric_functions}
  \end{figure}

  Then
  \begin{align*}
    \sin \alpha = \frac {\norm{\vect{BC}}} {\norm{\vect{AB}}}
    &&
    \cos \alpha = \frac {\norm{\vect{AC}}} {\norm{\vect{AB}}}.
  \end{align*}

  These are the geometric definitions of the trigonometric functions.
\end{proposition}
\begin{proof}
  Let
  \begin{equation*}
    D \coloneqq A + B - C = 2 \frac {A + B} 2 - C
  \end{equation*}
  be the \hyperref[def:rigid_motion/point_reflection]{point reflection} of \( C \) through the \hyperref[def:midpoint]{midpoint} of \( [A, B] \).

  We have \( \vect{AD} = B - C = \vect{BC} \). Since \( \gamma \) is a right angle, we have
  \begin{equation*}
    0
    =
    \inprod{\vect{AC}} {\vect{BC}}
    =
    \inprod{\vect{AC}} {\vect{AD}}.
  \end{equation*}

  Therefore, the angles \( \sphericalangle(\vect{AC},\vect{AD}) \) and \( \sphericalangle(\vect{BC},\vect{BD}) \) are right.

  Furthermore, \Fullref{thm:angles_of_transversal} implies that
  \begin{equation*}
    \alpha = \sphericalangle(\vect{AB},\vect{AC}) = \sphericalangle(\vect{BA},\vect{BD}).
  \end{equation*}

  Then, considering the \hyperref[rem:polar_coordinate_system]{polar coordinate system} with origin \( A \) and directional vector \( \vect{AC} \), we obtain
  \begin{equation*}
    \norm{AC} = \norm{AB} \cdot \cos \alpha
  \end{equation*}
  and similarly
  \begin{equation*}
    \norm{BC} = \norm{AD} = \norm{AB} \cdot \sin \alpha.
  \end{equation*}
\end{proof}

\begin{definition}\label{def:triangle_median}\mimprovised
  The \term{median} of the side \( [A, B] \) of a triangle \( \conv\set{ A, B, C } \) is the segment from \( C \) to the \hyperref[def:midpoint]{midpoint} \( M_C \coloneqq \ifrac {A + B} 2 \) of \( [A, B] \). This generalizes in an obvious way to the other sides.
\end{definition}

\begin{proposition}\label{thm:medicenter}
  The \hyperref[def:triangle_median]{medians} of the triangle \( \conv\set{ A, B, C } \) intersect in the point
  \begin{equation*}
    M \coloneqq \frac {A + B + C} 3,
  \end{equation*}
  which we call the \term{medicenter} of the triangle.

  \begin{figure}[!ht]
    \centering
    \includegraphics[align=c]{output/thm__medicenter.pdf}
    \caption{The \hyperref[thm:medicenter]{medicenter} of an \hyperref[def:triangle/acute]{acute triangle}.}\label{fig:thm:medicenter}
  \end{figure}
\end{proposition}
\begin{defproof}
  The median of \( [A, B] \) has directional vector
  \begin{equation*}
    \frac {A + B} 2 - C
    =
    \frac {A + B - 2C} 2
    =
    \frac {(A - C) + (B - C)} 2
    =
    \frac {\vect{AC} + \vect{BC}} 2.
  \end{equation*}

  We take \( \vect{AC} + \vect{BC} \) for simplicity. Then we must find a scalar \( t \) such that
  \begin{equation*}
    M = C + t \vect{AC} + t \vect{BC} = t A + t B + (1 - 2t) C.
  \end{equation*}

  This is obviously satisfied by \( t = \ifrac 1 3 \). Furthermore, generalizing this on the other medians, we obtain that \( M \) is indeed their intersection.
\end{defproof}

\begin{definition}\label{def:triangle_altitude}
  The \term{altitude} of a vertex in a triangle is the \hyperref[def:perpendicularity]{perpendicular} from the vertex to its opposite line. We call the projection the \term{foot} of the altitude.

  For the triangle \( \conv\set{ A, B, C } \), the projection of \( A \) onto the line through \( B \) and \( C \) is
  \begin{equation*}
    O_A
    \coloneqq
    B + \frac {\inprod {\vect{BA}} {\vect{BC}}} {\norm{\vect{BC}}^2} \cdot \vect{BC}
    \reloset {\ref{thm:right_triangle_trigonometric_functions}} =
    B + \cos \beta \cdot \frac {\norm{\vect{BA}}} {\norm{\vect{BC}}} \cdot \vect{BC}.
  \end{equation*}

  The corresponding altitude is the segment \( [A, O_A] \).
\end{definition}

\begin{proposition}\label{thm:orthocenter}\mimprovised
  The \hyperref[def:triangle_altitude]{altitudes} of a triangle intersect in a point, which we call the \term{orthocenter}.

  \begin{figure}[!ht]
    \centering
    \includegraphics[align=c]{output/thm__orthocenter.pdf}
    \caption{The \hyperref[thm:orthocenter]{orthocenter} of an \hyperref[def:triangle/acute]{acute triangle}.}\label{fig:thm:orthocenter}
  \end{figure}
\end{proposition}
\begin{defproof}
  Consider the triangle \( \conv\set{ A, B, C } \).

  We will first show that the vectors \( \vect{A O_A} \) and \( \vect{B O_B} \) are linearly independent. Note that \( \vect{B O_B} \) must be perpendicular to the line through \( A \) and \( C \). If \( \vect{A O_A} \) and \( \vect{B O_B} \) are linearly dependent, then  \( \vect{A O_A} \) must be perpendicular to both the line through \( A \) and \( C \) and the line through \( B \) and \( C \). This implies that the lines are parallel, which contradicts the affine independence of \( A \), \( B \) and \( C \).

  Therefore, it follows from \fullref{def:crossing_lines} that the lines \( A + t \vect{A O_A} \) and \( B + t \vect{B O_B} \) intersect in exactly one point.

  Let \( O \) be the intersection point
  \begin{equation*}
    O = A + t_0 \vect{A O_A} = B + r_0 \vect{B O_B}.
  \end{equation*}

  It remains to show that the vector \( \vect{CO} \) is orthogonal to \( \vect{AB} \). We have
  \begin{align*}
    \vect 0 - \vect 0
    &=
    \inprod {\vect{AO}} {\vect{BC}} - \inprod {\vect{BO}} {\vect{AC}}
    = \\ &=
    \inprod {\vect{CA}} {\vect{BC}} + \inprod {\vect{AO}} {\vect{BC}} - \inprod {\vect{CA}} {\vect{BC}} - \inprod {\vect{BO}} {\vect{AC}}
    = \\ &=
    \inprod {\vect{CA} + \vect{AO}} {\vect{BC}} - \inprod {\vect{CB} + \vect{BO}} {\vect{AC}}
    = \\ &=
    \inprod {\vect{CO}} {\vect{BC}} - \inprod {\vect{CO}} {\vect{AC}}
    = \\ &=
    \inprod {\vect{CO}} {\vect{BC} - \vect{AC}}
    = \\ &=
    \inprod {\vect{CO}} {\vect{BA}}.
  \end{align*}

  Therefore, \( O \) is the intersection of the altitudes.
\end{defproof}

\begin{proposition}\label{thm:acute_triangle_orthocenter}
  In an \hyperref[def:triangle/acute]{acute triangle}, the \hyperref[def:orthocenter]{orthocenter} lies in the interior of the triangle.

  In particular, the foot of each \hyperref[def:triangle_altitude]{altitude} lies on its opposite side.
\end{proposition}
\begin{proof}
  Consider the acute triangle \( \conv\set{ A, B, C } \) with angles \( \alpha \), \( \beta \) and \( \gamma \). The cosine of each angles is positive because the angles are acute.

  Consider the projection
  \begin{equation*}
    O_C = A + \cos \alpha \cdot \frac {\norm{\vect{AC}}} {\norm{\vect{AB}}} \cdot \vect{AB}.
  \end{equation*}

  The corresponding altitude \( \vect{A O_C} \) is unidirectional with \( \vect{AB} \) because
  \begin{equation*}
    \cos \alpha = \frac {\inprod{ \vect{AB} } { \vect{AC}} } { \norm{\vect{AB}} \cdot \norm{\vect{AC}} } > 0.
  \end{equation*}

  Furthermore, analogously we obtain that \( \vect{B O_C} \) is unidirectional with \( \vect{BA} \). Therefore, \( O_C \) lies on \( [A, B] \).

  It also follows similarly that \( O_A \) belongs to \( [B, C] \) and \( O_B \) belongs to \( [A, C] \).

  The interior of the segments \( [A, A_C] \), \( [B, B_C] \) and \( [C, O_C] \) entirely belong to the interior of the triangle. Their intersection must then also belong to the interior.
\end{proof}

\begin{definition}\label{def:perimeter}
  Consider a \hyperref[rem:geometric_shape]{geometric shape}, i.e. a set of points in an Euclidean space; usually the Euclidean plane. Suppose that the \hyperref[def:topological_boundary]{boundary} of the shape is an \hyperref[def:parametric_curve]{implicit parametric curve}. Suppose also that the curve is \hyperref[def:parametric_curve_length]{rectifiable}.

  We then call the length of this curve the \term{perimeter} of the shape.
\end{definition}

\begin{proposition}\label{thm:perimeter_of_triangle}
  The \hyperref[def:perimeter]{perimeter} of a \hyperref[def:triangle]{triangle} is the sum of the lengths of its sides.
\end{proposition}
\begin{proof}
  Denote the triangle by \( T \) and its vertices by \( A \), \( B \) and \( C \). We will first determine the \hyperref[def:topological_boundary]{topological boundary} \( \fr T \).

  Consider a point \( P \) of \( T \). Let \( P_a \) be the \hyperref[def:orthogonal_projection]{orthogonal projection} of \( P \) onto the line through \( B \) and \( C \), \( P_b \) --- onto the line through \( A \) and \( C \) and \( P_c \) --- onto the line through \( A \) and \( B \).

  If \( P = P_a \), then \( P \) lies on the segment \( [B, C] \). One of the half-spaces separated by the line through \( B \) and \( C \) contains \( T \), the other one doesn't. Hence, every ball around \( P \) contains points from both half-spaces, and hence a point from \( T \) and a point outside \( T \). Thus, \( P \) lies on the boundary of \( T \).

  The cases \( P = P_b \) and \( P = P_c \) are identical. We conclude that the segments \( [A, B] \), \( [B, C] \) and \( [C, A] \) lie on the boundary.

  If \( P \not\in \set{ P_a, P_b, P_c } \), then \( T \) entirely contains the ball with center \( P \) and radius
  \begin{equation*}
    \varepsilon < \min\set{ \norm{\vect{P P_a}}, \norm{\vect{P P_b}}, \norm{\vect{P P_c}} }.
  \end{equation*}

  Indeed, if \( \norm{\vect{PQ}} < \varepsilon \) for some point \( Q \), then
  \begin{equation*}
    \norm{\vect{P P_a}}
    =
    \norm{\vect{P Q} + \vect{Q P_a}}
    \leq
    \norm{\vect{P Q}} + \norm{\vect{Q P_a}}
    <
    \varepsilon + \norm{\vect{Q P_a}}.
  \end{equation*}

  Hence,
  \begin{equation*}
    \norm{\vect{Q P_a}} < \norm{\vect{P P_a}} - \varepsilon < \norm{\vect{P P_a}},
  \end{equation*}
  implying that \( P \) and \( Q \) lie in the same half-plane with respect to the line through \( B \) and \( C \).

  By considering the other sides of \( T \), we conclude that \( Q \) is in \( T \), making \( P \) an interior point.

  Therefore, the topological boundary of \( T \) is \( [A, B] \cup [B, C] \cup [C, A] \). It can be described as the parametric curve
  \begin{equation*}
    \gamma(t) \coloneqq \begin{cases}
      A + t \vect{AB},       &0 \leq t < 1, \\
      B + (t - 1) \vect{BC}, &1 \leq t < 2, \\
      C + (t - 2) \vect{CA}, &2 \leq t \leq 3.
    \end{cases}
  \end{equation*}

  \Fullref{thm:length_of_piecewise_smooth_curves} implies that the perimeter of this curve is
  \begin{equation*}
    \norm{\vect{AB}} + \norm{\vect{BC}} + \norm{\vect{CA}}.
  \end{equation*}
\end{proof}

\begin{definition}\label{def:trapezoid}\mimprovised
  A \term[bg=трапец,ru=трапеция]{trapezoid} is the \hyperref[def:convex_hull]{convex hull} of four points \( A \), \( B \), \( C \) and \( D \) called \term{vertices}, no three of which are \hyperref[def:collinear_points]{collinear}, such that, up to a relabeling,
  \begin{equation*}
    \frac {\vect{AB}} {\norm{\vect{AB}}} = -\frac {\vect{CD}} {\norm{\vect{CD}}}.
  \end{equation*}

  \begin{figure}[!ht]
    \centering
    \includegraphics[align=c]{output/def__trapezoid.pdf}
    \caption{A \hyperref[def:trapezoid]{trapezoid}.}\label{fig:def:trapezoid}
  \end{figure}

  We call the \hyperref[def:line_segment]{line segments} \( [A, B] \), \( [B, C] \), \( [C, D] \) and \( [D, A] \) \term{sides}, the sides \( [A, B] \) and \( [C, D] \) --- \term{bases} of the trapezoid, and the segments \( [A, C] \) and \( [B, D] \) --- \term{diagonals}.

  \begin{equation*}
    \vect{AB} = -\frac {\norm{\vect{AB}}} {\norm{\vect{CD}}} \vect{CD}.
  \end{equation*}
\end{definition}

\begin{proposition}\label{thm:diagonal_trapezoid_triangulation}
  Consider a \hyperref[def:trapezoid]{trapezoid} with vertices \( A \), \( B \), \( C \) and \( D \). Then
  \begin{equation*}
    \underbrace{\conv\set{ A, B, C, D }}_{\T{trapezoid}} = \conv\set{ A, B, C } \cup \conv\set{ A, D, C }.
  \end{equation*}

  We call this decomposition the \term{main diagonal triangulation} of the trapezoid.

  \begin{figure}[!ht]
    \centering
    \includegraphics[align=c]{output/thm__trapezoid_diagonal_triangulation.pdf}
    \caption{\hyperref[thm:diagonal_trapezoid_triangulation]{Diagonal trapezoid triangulation}.}\label{fig:thm:diagonal_trapezoid_triangulation}
  \end{figure}
\end{proposition}
\begin{proof}
  No three vertices of the trapezoid are collinear, hence \( \conv\set{ A, B, C } \) and \( \conv\set{ A, D, C } \) are indeed triangles. Obviously every convex combination of a subset of the vertices belongs to the trapezoid, hence
  \begin{equation*}
    \conv\set{ A, B, C } \cup \conv\set{ A, D, C } \subseteq \conv\set{ A, B, C, D }.
  \end{equation*}

  For the converse, first note that
  \begin{equation*}
    \vect{CD} = -\frac {\norm{\vect{CD}}} {\norm{\vect{AB}}} \vect{AB},
  \end{equation*}
  thus
  \begin{equation*}
    D = C + \vect{CD} = C - \frac {\norm{\vect{CD}}} {\norm{\vect{AB}}} \vect{AB} = \frac {\norm{\vect{CD}}} {\norm{\vect{AB}}} A - \frac {\norm{\vect{CD}}} {\norm{\vect{AB}}} B + C.
  \end{equation*}

  Then, for any convex combination
  \begin{equation*}
    P = aA + bB + cC + dD
  \end{equation*}
  we have
  \begin{equation*}
    P
    =
    \parens*{ a + d \frac {\norm{\vect{CD}}} {\norm{\vect{AB}}} } A +
    \parens*{ b - d \frac {\norm{\vect{CD}}} {\norm{\vect{AB}}} } B +
    (c + d) C.
  \end{equation*}

  This is a convex combination of \( A \), \( B \) and \( C \) if
  \begin{equation*}
    b < d \frac {\norm{\vect{CD}}} {\norm{\vect{AB}}}.
  \end{equation*}

  Otherwise, note that
  \begin{equation*}
    B = A + \vect{AB} = A - \frac {\norm{\vect{AB}}} {\norm{\vect{CD}}} \vect{CD} = A + \frac {\norm{\vect{AB}}} {\norm{\vect{CD}}} C - \frac {\norm{\vect{AB}}} {\norm{\vect{CD}}} D,
  \end{equation*}
  hence the following is a convex combination:
  \begin{equation*}
    P
    =
    (a + b) A +
    \parens*{ c + b \frac {\norm{\vect{AB}}} {\norm{\vect{CD}}} } C +
    \parens*{ d - b \frac {\norm{\vect{AB}}} {\norm{\vect{CD}}} } D.
  \end{equation*}

  Therefore, every point in \( \conv\set{ A, B, C, D } \) is either in \( \conv\set{ A, B, C } \) or in \( \conv\set{ A, D, C } \).
\end{proof}

\begin{proposition}\label{thm:trapezoid_is_polytope}
  A \hyperref[def:trapezoid]{trapezoid} is a \hyperref[def:convex_polytope]{convex polytope} whose \hyperref[def:extremal_point]{extremal points} are its vertices.
\end{proposition}
\begin{proof}
  \Fullref{thm:extremal_points_of_convex_hull} implies that the extremal points are a subset of the vertices. \Fullref{thm:diagonal_trapezoid_triangulation} implies that all the vertices are extremal points of the triangles in the main diagonal triangulation. If we assume that a vertex belongs to the interior of an edge, then we would obtain that the three points are collinear. Hence, all four vertices are extremal points.

  We must also show that trapezoids are convex polytopes. Triangles are simplices and simplices are convex polytopes. Both of the half-planes corresponding to the main diagonal line are used, one for each triangle. The union of the two triangles is the intersection of all half-planes except those two. Therefore, the trapezoid is a convex polytope.
\end{proof}

\begin{proposition}\label{thm:perimeter_of_trapezoid}
  The \hyperref[def:perimeter]{perimeter} of a \hyperref[def:trapezoid]{trapezoid} is the sum of the lengths of its sides.
\end{proposition}
\begin{proof}
  \Fullref{thm:diagonal_trapezoid_triangulation} and \fullref{thm:perimeter_of_triangle} imply that the boundary of the trapezoid consists of its sides. The diagonal, which is a side of both triangles in the main diagonal triangulation, now lies in the interior.

  Therefore, the perimeter is the sum of the sides.
\end{proof}

\begin{definition}\label{def:parallelogram}
  A \term[bg=успоредник,ru=параллелограмм]{parallelogram} is a \hyperref[def:trapezoid]{trapezoid} whose two non-base sides are also parallel.

  \begin{figure}[!ht]
    \centering
    \includegraphics[align=c]{output/def__parallelogram.pdf}
    \caption{A generic \hyperref[def:parallelogram]{parallelogram}.}\label{fig:def:parallelogram}
  \end{figure}

  \begin{thmenum}
    \thmitem{def:parallelogram/rhombus} A \term{rhombus} is a parallelogram whose sides all have equal lengths.

    \thmitem{def:parallelogram/rectangle} A \term{rectangle} is a parallelogram where the sides with common vertices are \hyperref[def:perpendicularity]{perpendicular}.

    \thmitem{def:parallelogram/square} A \term{square} is a parallelogram that is both a rhombus and a rectangle.

    \begin{figure}[!ht]
      \hfill
      \includegraphics[align=c]{output/def__parallelogram__rhombus.pdf}
      \hfill
      \hfill
      \includegraphics[align=c]{output/def__parallelogram__rectangle.pdf}
      \hfill
      \hfill
      \includegraphics[align=c]{output/def__parallelogram__square.pdf}
      \hfill
      \hfill
      \caption{A \hyperref[def:parallelogram/rhombus]{rhombus}, \hyperref[def:parallelogram/rectangle]{rectangle} and \hyperref[def:parallelogram/square]{square}.}\label{fig:def:parallelogram/rhombus}
    \end{figure}
  \end{thmenum}
\end{definition}

\begin{definition}\label{def:figure_area}
  The \term{area} of a \hyperref[rem:geometric_shape]{geometric figure} is its \hyperref[def:lebesgue_measure]{Lebesgue measure}.
\end{definition}

\begin{proposition}\label{thm:area_of_triangle}
  The \hyperref[def:figure_area]{area} of a \hyperref[def:triangle]{triangle} with vertices \( A \), \( B \) and \( C \) and angles \( \alpha \), \( \beta \) and \( \gamma \) is
  \begin{equation}\label{eq:thm:area_of_parallelogram}
    \frac 1 2 \cdot \norm{\vect{AB}} \cdot \norm{\vect{AC}} \cdot \sin \alpha = \frac 1 2 \cdot \norm{\vect{BA}} \cdot \norm{\vect{BC}} \cdot \sin \beta = \frac 1 2 \cdot \norm{\vect{CA}} \cdot \norm{\vect{CB}} \cdot \sin \gamma.
  \end{equation}
\end{proposition}
\begin{proof}
  We will only prove the theorem for \( \alpha \). The other cases follow automatically by simply relabeling the vertices.

  \SubProof{Proof when \( \alpha \) is right} Consider the \hyperref[def:rigid_motion/point_reflection]{point reflection}
  \begin{equation*}
    A' \coloneqq B + C - A
  \end{equation*}
  of the \hyperref[def:midpoint]{midpoint} \( \ifrac {B + C} 2 \) of \( [B, C] \) through \( A \).

  Then the vertices \( A \), \( B \), \( C \) and \( A' \) form a \hyperref[def:parallelogram/rectangle]{rectangle}. Indeed,
  \begin{equation*}
    \vect{BA'} = \vect{BB} + \vect{BC} - \vect{BA} = \vect{AB} + \vect{BC} = \vect{AC}
  \end{equation*}
  and
  \begin{equation*}
    \vect{CA'} = \vect{CB} + \vect{CC} - \vect{CA} = \vect{AC} + \vect{CB} = \vect{AB}.
  \end{equation*}

  \Fullref{thm:angles_of_transversal} then implies that the angles of the corners are right. Hence, this is indeed a rectangle.

  The Lebesgue measure is invariant under rotations and translations as a consequence of \fullref{thm:lebesgue_measure_invariant_under_rigid_motions}. Hence, we can translate our rectangle by \( -A \) and rotate by \( -\sphericalangle(\vect{AB}, (1, 0)) \) to obtain the rectangle as the Cartesian product of intervals
  \begin{equation*}
    \bracks*{ 0, \norm{\vect{AB}} } \times \bracks*{ 0, \norm{\vect{AC}} }.
  \end{equation*}

  This rectangle has Lebesgue measure \( \norm{\vect{AB}} \cdot \norm{\vect{AC}} \).

  The triangle \( \conv\set{ A', B, C } \) is the \hyperref[def:rigid_motion/householder_reflection]{Householder reflection} of \( \conv\set{ A, B, C } \) about the line through \( B \) and \( C \). Hence, both triangles have equal measures, and the sum of their measures is the measure of the rectangle \( \conv\set{ A, B, A', C } \). Therefore, the area of \( \conv\set{ A, B, C } \) is
  \begin{equation*}
    \frac 1 2 \cdot \norm{\vect{AB}} \cdot \norm{\vect{AC}} \cdot \underbrace{ \sin(\alpha) }_{1}.
  \end{equation*}

  \begin{figure}[!ht]
    \centering
    \includegraphics[align=c]{output/thm__area_of_triangle__right.pdf}
    \caption{Finding the \hyperref[def:figure_area]{area} of a triangle via a \hyperref[def:angle/right]{right angle}.}\label{fig:thm:area_of_triangle/right}
  \end{figure}

  \SubProof{Proof when \( \alpha \) is acute} Let \( O_C \) be the foot of the \hyperref[def:triangle_altitude]{altitude} of \( C \). That is,
  \begin{equation*}
    \vect{A O_C}
    =
    \frac {\inprod {\vect{AC}} {\vect{AB}}} {\norm{\vect{AB}}^2} \cdot \vect{AB}
    =
    \frac {\norm{\vect{AC}}} {\norm{\vect{AB}}} \cdot \cos \alpha \cdot \vect{AB}.
  \end{equation*}

  The triangle \( \conv\set{ A, O_C, C } \) is right, hence its area is
  \begin{equation*}
    \frac 1 2 \cdot \norm{\vect{ O_CA}} \cdot \norm{\vect{O_C C}}.
  \end{equation*}

  Similarly, the area of the triangle \( \conv\set{ B, O_C, C } \) is
  \begin{equation*}
    \frac 1 2 \cdot \norm{\vect{O_C B}} \cdot \norm{\vect{O_C C}}.
  \end{equation*}

  \Fullref{thm:right_triangle_trigonometric_functions} implies that \( \norm{\vect{O_C C}} = \norm{\vect{AC}} \cdot \sin \alpha \).

  \begin{itemize}
    \item If \( \norm{A O_C} > \norm{A B} \), then \( O_C \) lies outside the triangle, and we need to subtract the area of \( \conv\set{ B, C, O_C } \) from that of \( \conv\set{ A, C, O_C } \). Both are right triangles, and we have already shown that \eqref{eq:thm:area_of_parallelogram} holds for right angles. The area of \( \conv\set{ A, B, C } \) is then
    \begin{equation*}
      \frac 1 2 \cdot \parens[\Big]{ \norm{\vect{A O_C}} - \norm{\vect{O_C B}} } \cdot \norm{\vect{O_C C}} = \frac 1 2 \cdot \norm{\vect{AB}} \cdot \norm{\vect{AC}} \cdot \sin \alpha.
    \end{equation*}

    \item If \( \norm{A O_C} \leq \norm{A B} \), then \( O_C \) lies in the triangle, and we need to add rather than subtract. The area of \( \conv\set{ A, B, C } \) is then
    \begin{equation*}
      \frac 1 2 \cdot \parens[\Big]{ \norm{\vect{A O_C}} + \norm{\vect{O_C B}} } \cdot \norm{\vect{O_C C}} = \frac 1 2 \cdot \norm{\vect{AB}} \cdot \norm{\vect{AC}} \cdot \sin \alpha.
    \end{equation*}
  \end{itemize}

  \begin{figure}[!ht]
    \hfill
    \hfill
    \includegraphics[align=c]{output/thm__area_of_triangle__acute__full.pdf}
    \hfill
    \includegraphics[align=c]{output/thm__area_of_triangle__acute__partial.pdf}
    \hfill
    \caption{Finding the \hyperref[def:figure_area]{area} of a triangle via an \hyperref[def:angle/acute]{acute angle}.}\label{fig:thm:area_of_triangle/acute}
  \end{figure}

  \SubProof{Proof when \( \alpha \) is obtuse} Consider the angle \( \sphericalangle(\vect{A O_C}, \vect{A C}) \). \Fullref{thm:adjacent_angles} implies that its measure is \( \pi - \alpha \). Then
  \begin{equation*}
    \sin \alpha
    \reloset {\eqref{eq:thm:trigonometric_function_period_identities/full/sin}} =
    -\sin(\pi - \alpha)
    =
    -\sin \sphericalangle(\vect{A O_C}, \vect{A C}).
  \end{equation*}

  \Fullref{thm:right_triangle_trigonometric_functions} in turn implies that
  \begin{equation*}
    \sin \sphericalangle(\vect{A O_C}, \vect{A C})
    =
    \frac {\norm{\vect{C O_C}}} {\norm{\vect{CA}}}.
  \end{equation*}

  The point \( O_C \) is outside the triangle, and \( \vect{O_C A} \) is unidirectional with \( \vect{AB} \). Therefore, the area of \( \conv\set{ A, B, C } \) is the area of \( \conv\set{ O_C, B, C } \) minus the area of \( \conv\set{ O_C, A, C } \). Both are right triangles, and we have already shown that \eqref{eq:thm:area_of_parallelogram} holds for right angles. Hence, the area of \( \conv\set{ A, B, C } \) is
  \begin{equation*}
    \frac 1 2 \cdot \parens[\Big]{ \norm{\vect{O_C B}} - \norm{\vect{O_C A}} } \cdot \norm{\vect{O_C C}}
    =
    \frac 1 2 \cdot \parens[\Big]{ -\norm{\vect{B A}} } \cdot \parens[\Big]{ -\sin \alpha \cdot \norm{\vect{CA}} }
    =
    \frac 1 2 \cdot \norm{\vect{AB}} \cdot \norm{\vect{AC}} \cdot \sin \alpha.
  \end{equation*}

  \begin{figure}[!ht]
    \centering
    \includegraphics[align=c]{output/thm__area_of_triangle__obtuse.pdf}
    \caption{Finding the \hyperref[def:figure_area]{area} of a triangle via an \hyperref[def:angle/obtuse]{obtuse angle}.}\label{fig:thm:area_of_triangle/obtuse}
  \end{figure}
\end{proof}

\begin{proposition}\label{thm:area_of_parallelogram}
  The \hyperref[def:figure_area]{area} of a \hyperref[def:parallelogram]{parallelogram} with vertices \( A \), \( B \), \( C \) and \( D \) is the product of the lengths of adjacent sides:
  \begin{equation}\label{eq:thm:area_of_parallelogram}
    \norm{\vect{AB}} \cdot \norm{\vect{AD}} \cdot \sin\sphericalangle(\vect{AB}, \vect{AD}).
  \end{equation}
\end{proposition}
\begin{proof}
  For a general parallelogram, we instead take the \hyperref[thm__trapezoid_diagonal_triangulation]{main diagonal triangulation} producing the triangles \( \conv\set{ A, B, C } \) and \( \conv\set{ A, D, C } \), and note that \( \conv\set{ A, D, C } \) is obtained from \( \conv\set{ A, B, C } \) through reflection about the line through \( A \) and \( C \). \Fullref{thm:lebesgue_measure_invariant_under_rigid_motions} implies that the two triangles have the same measure.

  \Fullref{thm:area_of_triangle} implies that the measure of \( \conv\set{ A, B, C } \) is
  \begin{equation*}
    \frac 1 2 \cdot \norm{\vect{AB}} \cdot \norm{\vect{AD}} \cdot \sin\sphericalangle(\vect{AB}, \vect{AD}).
  \end{equation*}

  Multiplying by \( 2 \), \eqref{eq:thm:area_of_parallelogram} follows.
\end{proof}

\begin{theorem}[Law of sines]\label{thm:law_of_sines}
  For any \hyperref[def:triangle]{triangle} with vertices \( A \), \( B \) and \( C \) and angles \( \alpha \), \( \beta \) and \( \gamma \), we have
  \begin{equation}\label{eq:thm:law_of_sines}
    \frac {\sin \alpha} {\norm{\vect{BC}}}
    =
    \frac {\sin \beta} {\norm{\vect{AC}}}
    =
    \frac {\sin \gamma} {\norm{\vect{AB}}}.
  \end{equation}
\end{theorem}
\begin{proof}
  Follows from \fullref{thm:area_of_triangle} because
  \begin{equation*}
    \frac 1 2 \cdot \norm{\vect{AB}} \cdot \norm{\vect{AC}} \cdot \sin \alpha
    =
    \frac 1 2 \cdot \norm{\vect{BA}} \cdot \norm{\vect{BC}} \cdot \sin \beta
  \end{equation*}
  implies
  \begin{equation*}
    \frac {\sin \alpha} {\norm{\vect{BC}}}
    =
    \frac {\sin \beta} {\norm{\vect{AC}}}.
  \end{equation*}
\end{proof}

\begin{theorem}[Law of cosines]\label{thm:law_of_cosines}
  For any \hyperref[def:triangle]{triangle} with vertices \( A \), \( B \) and \( C \) and angles \( \alpha \), \( \beta \) and \( \gamma \), we have
  \begin{equation}\label{eq:thm:law_of_cosines}
    \norm{\vect{BC}}^2 = \norm{\vect{AB}}^2 + \norm{\vect{AC}}^2 - 2 \cdot \norm{\vect{AB}} \cdot \norm{\vect{AC}} \cdot \cos \alpha,
  \end{equation}
  and similarly for the other sides and angles.

  The simplified case with a right angle is known as \enquote{Pythagoras' theorem}. We have stated \fullref{thm:pythagoras_theorem} in more generality.
\end{theorem}
\begin{proof}
  Clearly
  \begin{equation*}
    \norm{\vect{BC}}^2
    =
    \norm{\vect{AC} - \vect{AB}}^2
    =
    \norm{\vect{AC}}^2 - 2 \inprod{\vect{AC}}{\vect{AB}} + \norm{\vect{AB}}^2.
  \end{equation*}

  Then \eqref{eq:thm:law_of_cosines} follows from \fullref{thm:cosine_of_angle_measure}.
\end{proof}
