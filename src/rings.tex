\subsection{Rings}\label{subsec:rings}

\begin{definition}\label{def:ring}
  A \term{ring} is a \hyperref[def:semiring]{semiring} with additive inverses. More precisely, this means that the additive monoid is a group.

  As for semirings, rings can also be nonunital, with \hyperref[def:semiring_ideal]{ring ideals} being the main example.

  Rings have the following metamathematical properties:
  \begin{thmenum}
    \thmitem{def:ring/theory} We can construct a \hyperref[def:first_order_theory]{first-order theory} for rings by adding a unary functional symbol \( - \) and the group inversion axiom \eqref{eq:def:group/theory/inverse_axiom} to the \hyperref[def:semiring/theory]{theory of semirings}.

    \thmitem{def:ring/homomorphism} A \hyperref[def:first_order_homomorphism]{first-order homomorphism} between the rings \( R \) and \( S \) is a \hyperref[def:semiring/homomorphism]{semiring homomorphism} \( \varphi: R \to S \) that additionally preserves additive inverses.

    As shown in \fullref{thm:group_homomorphism_single_condition}, this condition is not only redundant, but the structure of a ring rather than semiring also automatically implies that \( \varphi(0_R) = 0_S \).

    \thmitem{def:ring/submodel} The set \( A \subseteq R \) is a \hyperref[thm:substructure_is_model]{submodel} of \( R \) if it is both a \hyperref[def:semiring]{sub-semiring} of \( R \) and an additive submonoid of \( R \).

    As a consequence of \fullref{thm:positive_formulas_preserved_under_homomorphism}, the \hyperref[def:multi_valued_function/image]{image} of a ring homomorphism \( \varphi: G \to H \) is a subring of \( H \).

    \thmitem{def:ring/trivial} The \hyperref[thm:substructures_form_complete_lattice/bottom]{trivial} ring is the \hyperref[def:pointed_set/trivial]{trivial pointed set} \( \set{ 0 } \).

    \thmitem{def:ring/commutative} If multiplication is commutative, we call the ring itself \term{commutative}. Unless multiplication corresponds to function composition, most rings we will encounter will be commutative.

    \Fullref{sec:commutative_algebra} is entirely devoted to commutative unital rings.

    \thmitem{def:ring/category} The corresponding \hyperref[def:category_of_small_first_order_models]{category of \( \mscrU \)-small models} \( \ucat{Ring} \) is \hyperref[def:concrete_category]{concrete} over \hyperref[def:monoid]{\( \ucat{SRing} \)}. We denote the category of commutative rings by \( \cat{CRing} \).

    Unlike the category \hyperref[def:group/category]{\( \cat{Grp} \)} of groups, \( \cat{Ring} \) is not as well-behaved. Nevertheless, kernels and quotients of rings are commonly established concepts.

    The category of unital rings does not have a zero object, but the category of nonunital rings does, and we will sometimes consider nonunital ring homomorphisms between unital rings. That is, ring homomorphisms that may not preserve the multiplicative identity.

    \thmitem{def:ring/kernel} The \term{kernel} of a ring homomorphism \( \varphi: R \to S \) is simply its \hyperref[def:zero_locus]{zero locus} \( \varphi^{-1}(0_S) \). This is precisely the kernel of the additive group in the sense of \fullref{def:group/kernel}, and the \hyperref[def:zero_morphisms/cokernel]{categorical kernel} in the category of nonunital rings.

    Furthermore, \( \ker \varphi \) is an ideal of \( R \) because, if \( x \in \ker \varphi \),
    \begin{equation*}
      \varphi(xy)
      =
      \varphi(x) \varphi(y)
      =
      0_S \varphi(y)
      =
      0_S,
    \end{equation*}
    and thus \( xy \in \ker \varphi \).

    Despite being categorical kernels only in the category of nonunital rings, the kernel is defined and used mainly for unital ring homomorphism.

    \thmitem{def:ring/quotient} The \hyperref[def:zero_morphisms/cokernel]{categorical cokernel} of homomorphism \( \varphi: R \to S \) in the category of nonunital rings is, similarly to the case for groups in \fullref{def:group/quotient}, a partition of \( S \) induced by the image of \( \varphi \).

    This is not merely the cokernel \( S / \img \varphi \) of the additive group, however. Multiplication induces an additional restriction on congruences: \( x_1 \cong x_2 \) and \( y_1 \cong y_2 \) together imply \( x_1 y_1 \cong x_2 y_2 \). Hence, \( [x][y] = [xy] \).  Denote the coset \( [0_S] \) by \( I \). We have \( I[x] = [0x] = I \), therefore the cokernel inherits absorption from \( S \).

    Additive subgroups of \( S \) that absorb multiplication are precisely the \hyperref[def:semiring_ideal]{ideals} of \( S \). Hence, \( I \) is the ideal generated by \( \img \varphi \). From the general case for groups it follows that quotient ring cosets have the form \( x + I \).

    Finally, given an ideal \( I \) of an arbitrary ring \( R \), we can define the \term{quotient ring} \( R / I \) as the cokernel of the inclusion \( \iota: I \to R \). That is, \( R / I \) consists of the cosets \( x + I \) for \( x \in R \). In practice, quotients are conveniently characterized by \fullref{thm:quotient_ring_universal_property}.

    Somewhat similarly to \fullref{thm:def:group/properties/kernel_cokernel_compatibility} for groups, the kernel \( \ker \pi \) of the canonical projection \( \pi(x) \coloneqq x + I \) is the ideal \( I \) itself.

    Despite being \hyperref[def:zero_morphisms/cokernel]{categorical cokernel} only in the category of nonunital rings, the quotient \( R / I \) is defined and used mainly for unital rings.

    Fortunately, for unital ring \( R \), the quotient \( R / I \) is also unital. The projection morphism is an epimorphism by \fullref{thm:equalizer_invertibility}, and hence \( R / I \) is a \hyperref[def:subobject_and_quotient]{categorical quotient object}.
  \end{thmenum}
\end{definition}

\begin{proposition}\label{thm:ring_characteristic_homomorphism}
  Similarly to how \( \BbbN \) is an \hyperref[def:universal_objects/initial]{initial object} in the category \hyperref[def:semiring/category]{\( \cat{SRing} \)} of semirings, \( \BbbZ \) is an initial object in the category \hyperref[def:ring/category]{\( \cat{Ring} \)} of rings.
\end{proposition}
\begin{proof}
  Follows from \fullref{thm:semiring_characteristic_homomorphism} with the addition of \( (-n)x = -nx \).
\end{proof}

\begin{proposition}\label{thm:ring_of_integers_modulo}
  For a positive integer \( n > 1 \), we extend the group \hyperref[thm:group_of_integers_modulo]{\( \BbbZ_n \)} of integers modulo \( n \) with the operation
  \begin{equation*}
    x \odot y \coloneqq \rem(xy, n).
  \end{equation*}

  Then \( \BbbZ_n \) is a \hyperref[def:ring/commutative]{commutative ring} called the \term{ring of integers modulo} \( n \).
\end{proposition}
\begin{proof}
  Note that
  \begin{balign*}
    &\phantom{{}\cong{}} \rem(x, n) \rem(y, n)
    &\cong \pmod n \\ &\cong
    (x - n \quot(x, n)) (y - n \quot(y, n))
    &\cong \pmod n \\ &\cong
    xy - n \quot(x, n) - n \quot(y, n) + n^2 \quot(x, n) \quot(y, n)
    &\cong \pmod n \\ &\cong
    xy
    &
  \end{balign*}

  The proof that multiplication in \( \BbbZ_n \) is associative, unital and commutative becomes trivial.

  We will prove that multiplication distributes over addition. Fix \( x, y, z \in \BbbZ_n \). We have
  \begin{balign*}
    (x \oplus y) \odot z
     & =
    \rem((x \oplus y) z, n)
    =    \\ &=
    \rem(\rem(x + y, n) z, n)
    =    \\ &=
    \rem((x + y - n \quot(x + y, n)) z, n)
    =    \\ &=
    \rem((x + y)z, n).
  \end{balign*}
  and
  \begin{balign*}
    (x \odot z) \oplus (y \odot z)
     & =
    \rem([(x \odot z) + (y \odot z)], n)
    =    \\ &=
    \rem([xz - n \quot(xz, n) + yz - n \quot(yz, n)], n)
    =    \\ &=
    \rem(xz + yz, n)
    =    \\ &=
    \rem((x + y)z, n).
  \end{balign*}

  Hence,
  \begin{equation*}
    (x \oplus y) \odot z = (x \odot z) \oplus (y \odot z).
  \end{equation*}
\end{proof}

\begin{theorem}[Quotient ring universal property]\label{thm:quotient_ring_universal_property}\mcite[thm. 7.12]{Aluffi2009}
  For every \hyperref[def:ring]{ring} \( R \) and \hyperref[def:semiring_ideal]{ideal} \( I \), the \hyperref[def:ring/quotient]{quotient ring} \( R / I \) has the following \hyperref[rem:universal_mapping_property]{universal mapping property}:
  \begin{displayquote}
    Every ring homomorphism \( \varphi: R \to S \) satisfying \( I \subseteq \ker \varphi \) \hyperref[def:factors_through]{uniquely factors through} \( R / I \). That is, there exists a unique homomorphism \( \widetilde{\varphi}: R / I \to S \) such that the following diagram commutes:
    \begin{equation}\label{eq:thm:quotient_ring_universal_property/diagram}
      \begin{aligned}
        \includegraphics[page=1]{output/thm__quotient_ring_universal_property.pdf}
      \end{aligned}
    \end{equation}

    In the case where \( I = \ker \varphi \), \( \widetilde{\varphi} \) is an \hyperref[def:first_order_homomorphism_invertibility/embedding]{embedding}.
  \end{displayquote}

  Compare this result to \fullref{thm:quotient_group_universal_property} and \fullref{thm:quotient_module_universal_property}.
\end{theorem}
\begin{proof}
  Simple refinement of \fullref{thm:quotient_group_universal_property}.
\end{proof}

\begin{proposition}\label{thm:semiring_grothendieck_completion}
  The \hyperref[def:monoid_grothendieck_completion]{Grothendieck completion} \( \overline{R} \) of the additive monoid of a \hyperref[def:semiring]{semiring} \( R \) becomes a \hyperref[def:ring/commutative]{commutative ring} with the operation
  \begin{equation*}
    [(x_1, x_2)] \odot [(y_1, y_2)] \coloneqq [(x_1 \cdot y_1 + x_2 \cdot y_2, x_1 \cdot y_2 + x_2 \cdot y_1)].
  \end{equation*}

  This definition is motivated in the proof of \fullref{thm:semiring_grothendieck_completion_universal_property}.
\end{proposition}
\begin{proof}
  Multiplication on \( R \) does not depend on the representative of the equivalence class. Indeed, let \( (x_1, x_2) \sim (x_1', x_2') \) and \( (y_1, y_2) \sim (y_1', y_2') \). Then there exist \( a \) and \( b \) such that
  \begin{align*}
    x_1 + x_2' + a &= x_1' + x_2 + a, \\
    y_1 + y_2' + b &= y_1' + y_2 + b.
  \end{align*}

  A tedious check, which is easily automated via software, reveals that there exists a constant \( c \) such that
  \begin{align*}
    &\phantom{{}={}}
    (x_1 \cdot y_1 + x_2 \cdot y_2) + (x_1' \cdot y_1' + x_2' \cdot y_2') + c
    = \\ &=
    \cdots
    = \\ &=
    \parens[\Big]{ (x_1 + x_2' + a) + (x_1' + x_2 + a) } \cdot \parens[\Big]{ (y_1 + y_2' + b) + (y_1' + y_2 + b) }
    = \\ &=
    \cdots
    = \\ &=
    (x_1 \cdot y_1 + x_2 \cdot y_2) + (x_1' \cdot y_1' + x_2' \cdot y_2') + c
  \end{align*}

  Therefore,
  \begin{equation*}
    (x_1 \cdot y_1 + x_2 \cdot y_2, x_1 \cdot y_2 + x_2 \cdot y_1) \sim (x_1' \cdot y_1' + x_2' \cdot y_2', x_1' \cdot y_2' + x_2' \cdot y_1').
  \end{equation*}

  All conditions imposed on multiplication in \( \overline{R} \) are inherited from \( R \) and are proved directly.
\end{proof}

\begin{proposition}\label{thm:semiring_grothendieck_completion_universal_property}\mcite[80]{OpenLogicFull}
  The \hyperref[thm:semiring_grothendieck_completion]{Grothendieck completion} \( \overline{R} \) of a commutative semiring \( R \) satisfies the following \hyperref[rem:universal_mapping_property]{universal mapping property}:
  \begin{displayquote}
    For every commutative ring \( S \) and every semiring homomorphism \( \varphi: R \to S \), there exists a unique ring homomorphism \( \widetilde{\varphi}: \overline{R} \to S \) such that the following diagram commutes:
    \begin{equation}\label{eq:thm:semiring_grothendieck_completion_universal_property/diagram}
      \begin{aligned}
        \includegraphics[page=1]{output/thm__semiring_grothendieck_completion_universal_property.pdf}
      \end{aligned}
    \end{equation}
  \end{displayquote}

  Via \fullref{rem:universal_mapping_property}, \( \overline{\anon} \) becomes \hyperref[def:category_adjunction]{left adjoint} to the \hyperref[def:concrete_category]{forgetful functor} \( U: \cat{CRing} \to \cat{CSRing} \).

  Compare this result to \fullref{thm:monoid_grothendieck_completion_universal_property}.
\end{proposition}
\begin{proof}
  \Fullref{thm:monoid_grothendieck_completion_universal_property} suggests the definition
  \begin{equation*}
    \overline{\varphi}([(x, y)]) \coloneqq \varphi(x) - \varphi(y).
  \end{equation*}

  We must only show that \( \overline{\varphi} \) is a ring homomorphism. Clearly
  \begin{equation*}
    \overline{\varphi}([(1, 0)]) = \varphi(1) - \varphi(0),
  \end{equation*}
  which implies that \( \varphi \) preserves multiplicative identities. Also,
  \begin{balign*}
    \overline{\varphi}\parens[\Big]{ [(x_1, x_2)] \odot [(y_1, y_2)] }
    &=
    \overline{\varphi}\parens[\Big]{ [(x_1 \cdot y_1 + x_2 \cdot y_2, x_1 \cdot y_2 + x_2 \cdot y_1)] }
    = \\ &=
    \varphi(x_1 \cdot y_1 + x_2 \cdot y_2) - \varphi(x_1 \cdot y_2 + x_2 \cdot y_1)
    = \\ &=
    \varphi(x_2) \parens[\Big]{ \varphi(y_2) - \varphi(y_1) } - \varphi(x_1) \parens[\Big]{ \varphi(y_2) - \varphi(y_1) }
    = \\ &=
    \parens[\Big]{ \varphi(x_2) - \varphi(x_1) } \parens[\Big]{ \varphi(y_2) - \varphi(y_1) }
    = \\ &=
    \overline{\varphi}\parens[\Big]{ [(x_1, x_2)] } \overline{\varphi}\parens[\Big]{ [(y_1, y_2)] }.
  \end{balign*}
\end{proof}

\begin{definition}\label{def:ring_commutator}
  Let \( R \) be an arbitrary ring. We define the \term{commutator} of the elements \( x \) and \( y \) as
  \begin{equation*}
    [x, y] \coloneqq xy - yx.
  \end{equation*}

  The \term{commutator ideal} \( [R, R] \) of \( R \) is the ideal \hyperref[def:generated_ring_ideal]{generated} by all the commutators in \( G \).
\end{definition}

\begin{proposition}\label{thm:ring_abelianization_universal_property}\mcite[prop. 7.4]{Knapp2016BasicAlgebra}
  The quotient \( R / [R, R] \) of a ring \( R \) by its commutator ideal \( [R, R] \) is a commutative ring, which we call the \term{abelianization} of \( R \), and satisfies the following \hyperref[rem:universal_mapping_property]{universal mapping property}:
  \begin{displayquote}
    For every commutative ring \( S \) and every ring homomorphism \( \varphi: R \to S \), \( \varphi \) \hyperref[def:factors_through]{uniquely factors through} \( R / [R, R] \). That is, there exists a unique ring homomorphism \( \widetilde{\varphi}: R / [R, R] \to S \) such that the following diagram commutes:
    \begin{equation}\label{eq:thm:ring_abelianization_universal_property/diagram}
      \begin{aligned}
        \includegraphics[page=1]{output/thm__ring_abelianization_universal_property.pdf}
      \end{aligned}
    \end{equation}
  \end{displayquote}

  Via \fullref{rem:universal_mapping_property}, the abelianization functor becomes \hyperref[def:category_adjunction]{left adjoint} to the \hyperref[def:concrete_category]{forgetful functor} \( U: \cat{CRing} \to \cat{Ring} \).

  Compare this result to \fullref{thm:group_abelianization_universal_property}.
\end{proposition}
\begin{proof}
  This is a refinement of \fullref{thm:group_abelianization_universal_property}, and we only need to show that \( R / [R, R] \) is a commutative ring. For \( x \) and \( y \) in \( R \), since \( yx - xy \in I \), we have
  \begin{equation*}
    (x + I) (y + I)
    =
    (xy + I)
    =
    (xy + yx - xy + I)
    =
    (yx + I)
    =
    (y + I) (x + I).
  \end{equation*}
\end{proof}
