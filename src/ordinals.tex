\subsection{Ordinals}\label{subsec:ordinals}

\begin{remark}\label{rem:ordinal_definition}
  Ordinals are generalizations of \hyperref[def:set_of_natural_numbers]{natural numbers}. We will find characterizing properties of the natural numbers (defined as members of \hyperref[thm:smallest_inductive_set_existence]{\( \omega \)}) so that it is clear what we want to generalize.

  Every natural number is defined as a set of other natural numbers:
  \begin{align*}
    &0 = \varnothing \\
    &1 = \set{ \varnothing } = \set{ 0 } \\
    &2 = \set{ \varnothing, \set{ \varnothing } } = \set{ 0, 1 } \\
    &3 = \set{ \varnothing, \set{ \varnothing }, \set{ \varnothing, \set{ \varnothing } } } = \set{ 0, 1, 2 }
  \end{align*}

  It just so happens that each natural number \( n \) is the set of natural numbers that are smaller with respect to the strict order relation \( < \) defined in \eqref{eq:def:natural_number_ordering/strict_predicate}.

  Therefore \( \in \) and \( < \) are equivalent on the set \( \omega \). It follows from \fullref{thm:natural_numbers_are_well_ordered} that \( \in \) is a \hyperref[def:totally_ordered_set]{strict total order} on \( \omega \). It is even \hyperref[def:well_ordered_set]{well-ordered} by \( \in \) but the latter condition is redundant due to \fullref{thm:set_membership_is_well_founded}.

  For an arbitrary set \( A \), set membership is not even a \hyperref[def:poset/strict]{strict partial order} --- irreflexivity is implied by \fullref{thm:set_membership_is_well_founded} but transitivity of \( \in \) as a binary relation on \( A \) fails to hold in general, not speaking about trichotomy.

  A very simple counterexample for transitivity of \( \in \) is a the set \( \set{ \varnothing, \set{ \varnothing }, \set{ \set{ \varnothing } } } \). Clearly \( \varnothing \in \set{ \varnothing } \) and \( \set{ \varnothing } \in \set{ \set{ \varnothing } } \) but \( \varnothing \not\in \set{ \set{ \varnothing } } \).

  In order for a set \( A \) to be a member of \( \omega \), it is not sufficient for \( \in \) to be a strict total ordered on \( A \). Except for the members of \( \omega \), another set that is totally ordered by \( \in \) is \( A = \set{ 0, 2, 4 } \).

  If we require \( A = \set{ 0, 2, 4 } \) to be a \hyperref[def:transitive_set]{transitive set}, however, it will be a natural number. Indeed, since \( 4 \) is a member of \( A \) and \( 1 \) and \( 3 \) are members of \( 4 \), then by adding \( 1 \) and \( 3 \) to \( A \) we obtain the set \( \set{ 0, 1, 2, 3, 4 } \), which by our definition of natural numbers is \( 5 \).

  Note that transitivity of the relation \( \in \) on \( A \) and transitivity of the set \( A \) itself are entirely different concepts, although we will use both. Every member of \( \omega \) is a transitive set by \fullref{thm:omega_is_transitive} and the relation \( \in \) is a strict total order by \fullref{thm:natural_numbers_are_well_ordered}.

  This is the reasoning behind our definition of an ordinal --- \fullref{def:ordinal}. From this definition it will follow that the ordinals are unique representatives of order-isomorphisms classes of well-ordered sets.

  As a final note, the above two conditions are not sufficient for \( A \) to be a member of \( \omega \) (they are too general) but if we additionally require \( A \) to be a \hyperref[def:infinite_set]{finite set}, then \( A \) will be a member of \( \omega \). We have yet to define finiteness, however.
\end{remark}

\begin{definition}\label{def:well_founded_relation}
  Let \( \prec \) be a \hyperref[def:binary_relation]{binary relation} on a set \( A \) (not necessarily satisfying any axioms).

  An \term{infinitely descending sequence} is a \hyperref[def:sequence]{sequence} \( \seq{ x_k }_{k=1}^\infty \) such that \( x_{k+1} \prec x_k \) for all \( k \in 1, 2, \ldots \). That is,
  \begin{equation*}
    \cdots \prec x_3 \prec x_2 \prec x_1.
  \end{equation*}

  The relation \( \prec \) is called \term{well-founded} if there exists no infinitely descending sequence.

  We cannot easily formulate the theory of well-founded relations as a \hyperref[def:first_order_theory]{first-order theory}. This is why we only study well-relations sets in the context of \logic{ZFC}.
\end{definition}

\begin{proposition}\label{thm:set_membership_is_well_founded}
  Set membership is \hyperref[def:well_founded_relation]{well-founded} in \logic{ZFC}. More precisely, given a set \( A \), if we regard \( \in \) as a binary relation between members of \( A \), then we would obtain that \( \in \) is a well-founded relation.

  This proposition generalizes \fullref{thm:simple_foundation_theorems}.
\end{proposition}
\begin{proof}
  The empty set is vacuously well-founded so suppose that \( A \) is nonempty. Suppose also that \( \in \) is not well-founded on \( A \). Then there exists an infinitely descending sequence \( \seq{ x_k }_{k=1}^\infty \subseteq A \) such that
  \begin{equation*}
    \cdots \in x_3 \in x_2 \in x_1.
  \end{equation*}

  Denote by \( B \) the set \( \set{ x_k \given k = 1, 2, \ldots } \). By the \hyperref[def:zfc/foundation]{axiom of foundation}, \( B \) contains a set \( C \) which is disjoint from \( B \).

  Clearly \( C \) coincides with at least one of \( x_1, x_2, \ldots \). Let \( C = x_{k_0} \). Since \( x_{k_0} \cap B = \varnothing \), then \( x_{k_0 + 1} \) is either not a member of \( x_{k_0} \) or of \( B \). But it is a member of both by our assumption that the sequence is infinitely descending.

  The obtained contradiction proves that \( \in \) is well-founded on \( A \).
\end{proof}

\begin{proposition}\label{thm:infinite_descent_partial_order}
  In a \hyperref[def:poset]{poset} \( (\mscrP, \leq) \), the strict relation \( < \) is \hyperref[def:well_founded_relation]{well-founded} if and only if every nonempty subset \( A \subseteq \mscrP \) has a \hyperref[def:poset_extremal_points/maximal_and_minimal_element]{minimal element}.
\end{proposition}
\begin{proof}
  \SufficiencySubProof Suppose that \( < \) is well-founded and let \( A \subseteq \mscrP \). Suppose that \( A \) has no minimal element.

  If \( A \) is finite, we cannot construct an infinitely descending sequence because of irreflexivity of \( < \). If \( A \) is infinite, then we can construct an infinitely descending sequence using well-founded recursion as follows:
  \begin{itemize}
    \item Let \( x_1 \) be any element of \( A \).
    \item Given \( x_k \), let \( x_{k+1} \) be any element of \( A \) such that \( x_{k+1} < x_k \). We know that such an element exists because \( x_k \) is not minimal in \( A \).
  \end{itemize}

  This construction contradicts the well-foundedness of  \( \leq \), hence \( A \) must have a minimal element.

  \NecessitySubProof Suppose that every subset of \( \mscrP \) has a minimal element. Suppose that there exists an infinitely descending sequence \( \seq{ x_k }_{k=1}^\infty \). Then the set \( \set{ x_k \given x \in \set{ 1, 2, \ldots } } \) has no minimal element, which contradicts our assumption. Hence no sequence in \( \mscrP \) is infinitely descending and \( < \) is well-founded.
\end{proof}

\begin{definition}\label{def:well_ordered_set}\mcite[def. 63.1]{OpenLogicFull}
  A \hyperref[def:totally_ordered_set]{totally ordered set} \( (\mscrP, \leq) \) is said to be \term{well-ordered} if either of the following equivalent conditions hold:
  \begin{thmenum}
    \thmitem{def:well_ordered_set/direct} Every nonempty subset of \( \mscrP \) has a \hyperref[def:poset_extremal_points/maximum_and_minimum]{minimum}.
    \thmitem{def:well_ordered_set/well_founded} The strict order \( < \) is \hyperref[def:well_founded_relation]{well-founded}.
  \end{thmenum}

  The \hyperref[def:binary_relation/irreflexive]{irreflexivity} of \( < \) is redundant because it follows from the well-foundedness --- if the strict relation is not irreflexive, then there exists some element \( x \in \mscrP \) such that \( x < x \) and thus \( \seq{ x }_{k=1}^\infty \) is an infinitely descending sequence.
\end{definition}
\begin{proof}
  The equivalence of the conditions follows from \fullref{thm:infinite_descent_partial_order} and \fullref{thm:totally_ordered_minimal_element_is_minimum}.
\end{proof}

\begin{theorem}[Well-founded induction]\label{thm:well_founded_induction}\mcite[prop. 63.3]{OpenLogicFull}
  Let \( \mscrL \) be the \hyperref[def:first_order_syntax]{first-order language} with no functional symbols and a single predicate symbol \( \prec \). We have already mentioned that we cannot formalize the concept of well-foundedness in first-order logic alone so we will work with \hyperref[def:first_order_structure]{structures} directly.

  Every \hyperref[def:well_founded]{well-founded} structure \( \mscrX = (A, I) \) over \( \mscrL \) satisfies an inductive axiom schema. For every formula \( \varphi \) over \( \mscrL \) not containing \( \eta \) nor \( \zeta \) as free variables, \( \mscrX \) satisfies
  \begin{equation}\label{eq:thm:well_founded_induction}
    \qforall \eta
    \parens[\Big]
      {
        \overbrace
          {
            \underbrace{ \parens[\Big]{ \qforall {\zeta \prec \eta} \varphi[\xi \mapsto \zeta] } }_{\mathclap{\substack{\T{inductive} \\ \T{hypothesis}}}}
            \rightarrow
            \underbrace{ \varphi[\xi \mapsto \eta] }_{\mathclap{\substack{\T{inductive step} \\ \T{conclusion}}}}
          }^{\T{inductive step}}
      }
    \rightarrow
    \underbrace{ \qforall \eta \varphi[\xi \mapsto \eta] }_{\T{conclusion}}.
  \end{equation}

  See the comments in \fullref{def:peano_arithmetic/PA3} regarding variables and quantification in axiom schemas.

  In the special case where \( \mscrX = \BbbN \), this is called \term{strong induction} compared to the usual natural number induction \eqref{eq:def:peano_arithmetic/PA3}. This is discussed in \fullref{rem:induction/well_founded}.
\end{theorem}
\begin{proof}
  Fix a formula \( \varphi \) in \( \mscrL \). Fix a variable assignment \( v \) in \( \mscrX \). We will show that the \hyperref[def:material_implication/contrapositive]{contraposition} of \eqref{eq:thm:well_founded_induction} holds in this model.

  Suppose that there exists a value \( x \in A \) such that \( \varphi\Bracks{v_{\xi \mapsto x}} = F \). That is,
  \begin{equation*}
    \qexists \eta \neg \varphi[\xi \mapsto \eta].
  \end{equation*}
  holds.

  Let \( x_0 \) be the smallest such value (which is guaranteed to exist because \( A \) is well-founded by \( \prec \)). Thus the inductive hypothesis \( \qforall {\zeta < x_0} \varphi[\xi \mapsto \zeta] \) holds but the inductive step conclusion \( \varphi[\xi \mapsto x_0] \) does not.

  Since \( v \) was chosen arbitrarily, this is true for all variable assignments in \( \mscrX \). Formally,
  \begin{equation}\label{eq:thm:well_founded_induction/contraposition}
    \mscrX
    \vDash
    \qexists \eta \neg \varphi[\xi \mapsto \eta]
    \rightarrow
    \qexists \eta
    \parens[\Big]
      {
        \qforall {\zeta \prec \eta} \varphi[\xi \mapsto \zeta] \wedge \neg \varphi[\xi \mapsto \eta]
      }
  \end{equation}

  This is precisely the contrapositive of \eqref{eq:thm:well_founded_induction}. Since we are working in classical logic, the contrapositive is semantically equivalent to its original implication, hence \( \mscrX \vDash \eqref{eq:thm:well_founded_induction} \).
\end{proof}

\begin{theorem}[Epsilon induction]\label{thm:epsilon_induction}
  For every formula \( \varphi \) in the language of set theory not containing \( \eta \) nor \( \zeta \) as free variables, the following is a theorem of \logic{ZFC}:
  \begin{equation*}
    \qforall \eta
    \parens[\Big]
      {
        \overbrace
          {
            \underbrace{ \parens[\Big]{ \qforall {\zeta \in \eta} \varphi[\xi \mapsto \zeta] } }_{\mathclap{\substack{\T{inductive} \\ \T{hypothesis}}}}
            \rightarrow
            \underbrace{ \varphi[\xi \mapsto \eta] }_{\mathclap{\substack{\T{inductive step} \\ \T{conclusion}}}}
          }^{\T{inductive step}}
      }
    \rightarrow
    \underbrace{ \qforall \eta \varphi[\xi \mapsto \eta] }_{\T{conclusion}}.
  \end{equation*}

  This induction schema is called \enquote{\( \varepsilon \)-induction} because the set membership symbol \( \in \) is derived from \( \varepsilon \) as explained in \fullref{rem:epsilon_and_set_membership}.

  See the comments in \fullref{def:peano_arithmetic/PA3} regarding variables and quantification in axiom schemas.
\end{theorem}
\begin{proof}
  Every model of \logic{ZFC} is well-founded by \( \in \) as shown in \fullref{thm:set_membership_is_well_founded}. The corollary then follows from \fullref{thm:well_founded_induction}.
\end{proof}

\begin{definition}\label{def:ordinal}\mcite[def. 63.12]{OpenLogicFull}
  An \term{ordinal}, also known as an \term{ordinal number}, is a \hyperref[def:transitive_set]{transitive set} \( A \) such that set membership (as a binary relation on \( A \)) is a \hyperref[def:totally_ordered_set]{strict total order}. In the absence of the \hyperref[def:zfc/foundation]{axiom of foundation}, we additionally require set membership to be a \hyperref[def:well_founded_relation]{well-founded relation} on \( A \) so that \( A \) is well-ordered.

  See \fullref{rem:ordinal_definition} for a further discussion of the definition, especially the different notions of transitivity.

  By tradition, ordinals are denoted by initial small Greek letters like \( \alpha \) and \( \beta \), however we often use \( \alpha \) and \( \beta \) in logical formulas and so we prefer \( \gamma \) and \( \delta \).

  We introduce the notation \( \gamma < \delta \) for \( \gamma \in \delta \) in analogy with natural numbers. This is not a binary relation since there is not set of all ordinals by \fullref{thm:burali_forti_paradox}, however it does satisfy the properties of a well-order as shown in \fullref{thm:ordinal_properties/trichotomy}.

  Finally, we introduce the following \hyperref[rem:predicate_formula]{predicate formula}
  \begin{equation*}\taglabel[\op{IsOrdinal}]{eq:def:ordinal/predicate}
    \begin{aligned}
      \ref{eq:def:ordinal/predicate}[\alpha] \coloneqq
        &\ref{eq:def:transitive_set/predicate}[\alpha]
        \wedge \\ \wedge&
        \parens[\Big]
        {
          \qforall {\xi \in \alpha}
          \qforall {\eta \in \alpha}
          \parens[\Big]
            {
              \eta \in \xi \vee \eta \doteq \xi \vee \xi \in \eta
            }
        }
        \wedge \\ \wedge&
        \parens[\Big]
        {
          \qforall {\xi \in \alpha}
          \qforall {\eta \in \alpha}
          \qforall {\zeta \in \alpha}
          \parens[\Big]
          {
            (\xi \in \eta \wedge \eta \in \zeta) \rightarrow \xi \in \zeta
          }
        }.
    \end{aligned}
  \end{equation*}
\end{definition}

\begin{proposition}\label{thm:omega_is_an_ordinal}
  The \hyperref[thm:smallest_inductive_set_existence_existence]{smallest inductive set \( \omega \)} is an \hyperref[def:ordinal]{ordinal}.
\end{proposition}
\begin{proof}
  From \fullref{thm:omega_is_transitive} it follows that \( \omega \) is a transitive set.

  Also, as discussed in \fullref{rem:ordinal_definition}, from \fullref{thm:natural_numbers_are_well_ordered} it follows that set membership is a strict total order on \( \omega \).

  Therefore both \( \omega \) is an \hyperref[def:ordinal]{ordinal}.
\end{proof}

\begin{proposition}\label{thm:element_of_ordinal_is_ordinal}\mcite[lemma 63.13]{OpenLogicFull}
  Every element of an ordinal is an ordinal.
\end{proposition}
\begin{proof}
  Let \( \gamma \) be an ordinal and let \( \delta \in \gamma \). We will show that \( \delta \) is an ordinal.

  By transitivity of \( \gamma \), we have \( \delta \subseteq \gamma \) and by \fullref{def:poset/submodel}, \( (\delta, \in) \) is a (strictly) totally ordered set as a \hyperref[def:first_order_substructure]{substructure} of \( (\gamma, \in) \).

  It remains to show that \( \delta \) is itself transitive. Let \( x \in \delta \). We have that \( \delta \subseteq \gamma \) since \( \gamma \) is transitive, hence \( x \in \gamma \).

  Fix \( y \in x \). Again from the transitivity of \( \gamma \) it follows that \( y \in \gamma \). Since \( \in \) is a total order on \( \gamma \), from \( y \in x \) and \( x \in \delta \) it follows that \( y \in \delta \).

  Since \( y \in x \) was chosen arbitrarily, it follows that \( x \subseteq \delta \). Since \( x \) was chosen arbitrarily, it follows that \( \delta \) is transitive.
\end{proof}

\begin{corollary}\label{thm:natural_numbers_are_ordinals}
  The natural numbers (defined as members of \hyperref[thm:smallest_inductive_set_existence]{\( \omega \)}) are ordinals.
\end{corollary}
\begin{proof}
  Follows from \fullref{thm:omega_is_an_ordinal} and \fullref{thm:element_of_ordinal_is_ordinal}.
\end{proof}

\begin{theorem}[Transfinite induction]\label{thm:transfinite_induction}\mcite[thm. 63.15]{OpenLogicFull}
  For every formula \( \varphi \) in the language of set theory not containing \( \eta \) nor \( \zeta \) as free variables, the following is a theorem of \logic{ZFC}:
  \small
  \begin{equation*}
    \qforall \eta
    \parens[\Bigg]
      {
        \ref{eq:def:ordinal/predicate}[\eta]
        \rightarrow
        \parens[\Big]
        {
          \overbrace
            {
              \underbrace{ \parens[\Big] { \qforall {\zeta \in \eta} \varphi[\xi \mapsto \zeta] } }_{\mathclap{\substack{\T{inductive} \\ \T{hypothesis}}}}
              \rightarrow
              \underbrace{ \varphi[\xi \mapsto \eta] }_{\mathclap{\substack{\T{inductive step} \\ \T{conclusion}}}}
            }^{\T{inductive step}}
        }
      }
    \rightarrow
    \qforall \eta \parens[\Bigg]
    {
      \ref{eq:def:ordinal/predicate}[\eta]
      \rightarrow
      \underbrace{ \varphi[\xi \mapsto \eta] }_{\T{conclusion}}
    }.
  \end{equation*}
  \normalsize

  This theorem could be a special case of \fullref{thm:well_founded_induction} but there exists no set of all ordinals as shown in \fullref{thm:burali_forti_paradox}.

  See the comments in \fullref{def:peano_arithmetic/PA3} regarding variables and quantification in axiom schemas.
\end{theorem}
\begin{proof}
  The proof is similar to the proof of \fullref{thm:well_founded_induction}.
\end{proof}

\begin{theorem}[Bounded transfinite induction]\label{thm:bounded_transfinite_induction}
  For every formula \( \varphi \) in the language of set theory not containing \( \eta \) nor \( \zeta \) as free variables, the following is a theorem of \logic{ZFC}:
  \small
  \begin{equation*}
    \qforall \alpha
    \parens[\Bigg]
    {
      \ref{eq:def:ordinal/predicate}[\alpha]
      \rightarrow
      \parens[\Big]
        {
          \qforall {\eta \in \alpha}
          \overbrace
            {
              \underbrace{ \parens[\Big]{ \qforall {\zeta \in \eta} \varphi[\xi \mapsto \zeta] } }_{\mathclap{\substack{\T{inductive} \\ \T{hypothesis}}}}
              \rightarrow
              \underbrace{ \varphi[\xi \mapsto \eta] }_{\mathclap{\substack{\T{inductive step} \\ \T{conclusion}}}}
            }^{\T{inductive step}}
        }
      \rightarrow
      \underbrace{ \qforall {\eta \in \alpha} \varphi[\xi \mapsto \eta] }_{\T{conclusion}}
    }.
  \end{equation*}
  \normalsize

  See the comments in \fullref{def:peano_arithmetic/PA3} regarding variables and quantification in axiom schemas.
\end{theorem}
\begin{proof}
  This theorem is a special case of \fullref{thm:transfinite_induction} with the formula \( \xi \in \alpha \rightarrow \varphi \) that is explicitly universally quantified by the parameter \( \alpha \) which ranges over all ordinals.

  Note that it is unnecessary to verify that \( \eta \) is an ordinal because \fullref{thm:element_of_ordinal_is_ordinal} ensures that \( \eta \) is only quantified over ordinals.
\end{proof}

\begin{theorem}[Bounded transfinite recursion]\label{thm:bounded_transfinite_recursion}\mcite[177]{Enderton1977Sets}
  Fix an \hyperref[def:ordinal]{ordinal} \( \gamma \) and a nonempty set \( A \). Suppose that we are given some transformation \( T: \pow(\gamma \times A) \to A \) whose value for any relation between \( \gamma \). Then there exists a unique function \( f: \gamma \to A \) such that for any \( \delta \in \gamma \) we have \( f(\delta) = T(f\restr_\delta) \).

  This is a vast generalization of \fullref{thm:omega_recursion}.
\end{theorem}
\begin{proof}
  The proof is analogous to that of \fullref{thm:omega_recursion} but we will give it anyway to highlight the difference between using \fullref{omega_induction} and \fullref{thm:bounded_transfinite_induction}.

  Let \( G \subseteq \pow(\gamma \times A) \) be the set of all \hyperref[def:partial_function]{partial single-valued functions} \( g: \gamma \to A \) such that
  \begin{itemize}
    \item There exists some \( \delta_g \in \gamma \) such that \( g \) is defined only in the \hyperref[def:poset_interval/ray]{open initial segment} \( \gamma_{< \delta_g} \). That is, \( g \) is defined for all \( \delta \) up to not including \( \delta_g \).

    \item \( g(\delta) = T(g\restr_\delta) \) for all \( \delta < \delta_g \).
  \end{itemize}

  Clearly \( G \) is nonempty because the function \( \set{ (\varnothing, T(\varnothing)) } \) belongs to \( G \).

  Define \( f \coloneqq \bigcup G \). At this point \( f \) is a \hyperref[def:multi_valued_function]{multi-valued function}. We must now show that \( f \) has all the properties that we want.

  \SubProofOf[def:multi_valued_function/total]{totality} First, we will use \fullref{thm:bounded_transfinite_induction} to show that \( f \) is total.

  Fix \( \delta \in \dom f \). Then there exists a function \( g \in G \) defined for all \( \varepsilon < \delta \).

  \begin{itemize}
    \item If \( g \) is also defined at \( \delta \) also, this directly proves that \( \delta \in \dom f \).
    \item If \( g \) is not defined at \( \delta \), consider
    \begin{equation*}
      \widehat g \coloneqq g \cup \set{ (\delta, T(g\restr_\delta) }.
    \end{equation*}

    The function \( \widehat g \) is again a single-valued partial function and thus it belongs to \( G \), hence \( \delta \in \dom f \).
  \end{itemize}

  Therefore \fullref{thm:bounded_transfinite_induction} allows us to conclude that \( f: \gamma \multto A \) is a total multi-valued function.

  \SubProofOf[def:function]{single-valuedness} Now that we know that \( f \) is total, we will prove that it is single-valued and thus is a function in the usual sense of the term.

  Fix \( \delta \in \gamma \). Suppose that \( f \) is single-valued for all \( \varepsilon < \delta \). Since \( f \) is total, there exist at least one partial function \( g \) in \( G \) that is defined at \( \delta \). Let \( g \) and \( h \) both be such (single-valued partial) functions.

  Then
  \begin{equation*}
    g(\delta) = T(g\restr_\delta)) = T(f\restr_\delta) = T(h\restr_\delta) = h(\delta),
  \end{equation*}
  hence \( g \) and \( h \) coincide at \( \delta \), which in turn implies that \( f \) is single-valued at \( \delta \).

  Therefore \fullref{thm:omega_induction} allows us to conclude that \( f \) is a single-valued total function.

  \SubProofOf[def:function]{uniqueness} Now that it is clear that \( f \) satisfies the theorem, we must verify that it is unique.

  Suppose that \( f_1 \) and \( f_2 \) both satisfy the theorem. Fix some \( \delta \in \gamma \) and suppose that for every \( \varepsilon < \delta \), we have \( f_1(\varepsilon) = f_2(\varepsilon) \). Then
  \begin{equation*}
    f_2(\delta) = T(f_1\restr_\delta)) = T(f_2\restr_\delta) = f_2(\delta).
  \end{equation*}

  Therefore \fullref{thm:omega_induction} allows us to conclude that \( f_1 = f_2 \). So there is at most one function that satisfies the theorem and we have already shown that \( f \) is such a function.
\end{proof}

\begin{theorem}[Structural recursion]\label{thm:structural_recursion}
  The most general recursion we will consider is \term{structural recursion}. See \fullref{thm:structural_recursion} for its corresponding induction principle.

  Let \( X \) be a set and let \( T: \pow(X) \to \pow(X) \) be a transformation. Then \( T \) has a \hyperref[def:poset_extremal_points/maximum_and_minimum]{smallest} \hyperref[def:fixed_point]{fixed point}. That is, there exists a unique subset \( A_0 \subseteq X \) such that \( T(A_0) = A_0 \) and no proper subset of \( A_0 \) has this property.

  See \fullref{rem:structural_recursion} for how this theorem is used.
\end{theorem}
\begin{proof}
  The result follows by applying \fullref{thm:knaster_tarski_theorem} to the \hyperref[thm:boolean_algebra_of_subsets]{Boolean algebra of all subsets} of \( X \) with \( R(A) \coloneqq A \cup T(A) \) as the monotone operator.
\end{proof}

\begin{remark}\label{rem:structural_recursion_and_induction}
  We will show how \fullref{thm:structural_recursion} is used in practice and will introduce an induction principle. Unlike the other induction principles we have considered, this one is meaningless without a recursively constructed set and cannot be formulated as easily.

  Let \( \mscrF \) be a set of functions, where each function \( f \) has a signature \( f: X^{\mscrK_f} \to X \) for some set \( \mscrK_f \). Thus \( \mscrF \) may include:
  \begin{itemize}
    \item Constant functions, i.e. \( f: X^0 \to X \) which contain only a single member of \( X \) in their image.
    \item Unary functions, i.e. \( f: X \to X \).
    \item Other finitary functions, i.e. \( f: X^n \to X \) for some \( n \in \mscrN \).
    \item Functions with sequences as arguments, i.e. \( f: X^\BbbN \to X \).
    \item Functions with uncountably many arguments, e.g. \( f: X^\BbbR \to X \).
  \end{itemize}

  Define the operator
  \begin{equation*}
    \begin{aligned}
      &T: \pow(X) \to \pow(X) \\
      &T(A) \coloneqq \set*{ x \in X \given \qexists{f \in \mscrF} \qexists{\seq{ x_k }_{k \in \mscrK_k} \subseteq A} f(\seq{ x_k }_{k \in \mscrK_f}) = x }.
    \end{aligned}
  \end{equation*}

  Now we can use \fullref{thm:structural_recursion} to obtain the smallest fixed point \( A_0 \) of \( T \). This set \( A_0 \) is now closed under all the functions in \( \mscrF \), i.e. \( f\parens*{ A_0^{\mscrK_f} } \subseteq A_0 \) for any \( f \in \mscrF \).

  If for some member \( x \in A_0 \) there exists a function \( f: X^{\mscrK_f} \to X \) and arguments \( \seq{ x_k }_{k \in \mscrK_f} \) such that \( f(\seq{ x_k }_{k \in \mscrK_f}) = x \), we say that \( x \) is \term{derived}. If a derived member \( x \) can be derived uniquely, that is if both the function \( f \) and its arguments are unique, we say that \( x \) is \term{uniquely derived}.

  The \term{base} members of \( A_0 \) are defined as those which are not derived. We can technically avoid base members entirely by encoding them as constant functions instead but we choose not to do it.

  If all derived members are uniquely derived, we can perform induction on \( A_0 \). Otherwise we have to introduce additional sanity checks, which will only complicate us. Let \( \varphi \) be a formula of \logic{ZFC} with a single free variable \( \xi \). Structural induction is performed as follows:
  \begin{thmenum}
    \thmitem{rem:structural_recursion_and_induction/base_step} The base step is to prove that \( \varphi\Bracks{x} = T \) for every base member \( x \).
    \thmitem{rem:structural_recursion_and_induction/inductive_step} The inductive step is to fix a derived member \( x = f(\seq{ x_k }_{k \in \mscrK_f}) \), suppose that \( \varphi\Bracks{x_k} = T \) for every \( k \in \mscrK \) and prove that this entails \( \varphi\Bracks{x} \).

    \thmitem{rem:structural_recursion_and_induction/conclusion} We have now shown that \( \varphi\Bracks{x} = T \) for all members \( x \) of \( A_0 \), both base and uniquely derived members.

    Note that if \( x \) is derived but not uniquely derived, we may be able to prove \( \varphi\Bracks{x} \) using one derivation of \( x \) and the negation \( \neg\varphi\Bracks{x} \) using another derivation, which would lead to a contradiction.
  \end{thmenum}

  In \fullref{subsec:first_order_satisfiability}, for example, we use structural recursion to define first-order substitution in \fullref{def:first_order_substitution} and then use structural induction to prove certain semantic equivalences like \fullref{thm:renaming_assignment_compatibility} and \fullref{thm:first_order_substitution_equivalence}.
\end{remark}

\begin{remark}\label{rem:induction}
  \term{Mathematical induction} is a very valuable proof technique for universal statements. The proof of \fullref{thm:nonzero_natural_numbers_have_predecessors} contains remarks regarding its usage and its difference from deduction principles that are formalized via \hyperref[def:proof_derivation_system]{proof derivation systems}. Although it is a logical tool, this remark belongs to this section because it contains five induction principles and two recursion principles.

  More generally, given a \hyperref[def:first_order_formula]{first-order formula} \( \varphi \) over some \hyperref[def:first_order_syntax]{first-order language}, certain \hyperref[def:first_order_theory]{logical theories} allow us to prove indirectly \( \qforall \xi \varphi[\xi \mapsto \eta] \) by proving simpler statements (\fullref{def:peano_arithmetic/PA3} contains very important remarks regarding the free variables of \( \varphi \)). This can be done in cases where every \hyperref[def:first_order_semantics/satisfiability]{model} \( \mscrX = (X, I) \) of the theory allows us to exhaust its universe \( X \) in a small finite number of steps. We can sometimes use the same steps to instead build objects. The latter principles is called \term{recursion}.

  It should be noted that induction and recursion are used interchangeably in the literature, especially regarding \hyperref[rem:structural_recursion_and_induction]{structural induction}, however we will aim to distinguish between the two.

  Not much more can be said at this level of generality so we list several induction principles and give examples of their usage:
  \begin{thmenum}
    \thmitem{rem:induction/peano_arithmetic} The most basic induction principles is the (weak) natural number induction. It is best described via the axiom schema \eqref{eq:def:peano_arithmetic/PA3}. \Fullref{thm:nonzero_natural_numbers_have_predecessors} contains detailed commentary regarding its usage and most of the proofs in \fullref{sec:natural_numbers} are performed inductively.

    It its set-theoretic form \fullref{thm:omega_induction} it is important as a tool for introducing a model of Peano arithmetic. It is used directly for proving \fullref{thm:omega_is_transitive} and \fullref{thm:omega_recursion}.

    \Fullref{thm:omega_recursion} is an important standalone tool that allows us to perform recursive definitions for natural numbers. The latter is used, often implicitly, in a great variety of places, from the ability to define natural number operations in \fullref{def:omega_operations} to the definition of magma exponentiation in \fullref{def:magma/exponentiation}. \Fullref{rem:natural_number_recursion} contains notes regarding its usage.

    \thmitem{rem:induction/well_founded} A vast generalization of natural number induction is \fullref{thm:well_founded_induction}. It is stated in a very general setting but is not frequently used. It can be used to prove \fullref{thm:epsilon_induction}, which however is even less frequently used. We do not use neither in practice, however the special case where \( \mscrX = \BbbN \) is called strong induction on natural numbers.

    The usual (weak) natural number induction which is performed by proving the statement for \( 0 \) and then proceeding to prove it for \( n + 1 \) by assuming that it holds for \( n \). Strong induction instead has no base cases and is performed by proving a statement for \( n \) by assuming that it holds for all natural numbers strictly smaller than \( n \).

    Well-founded induction and epsilon-induction have no corresponding recursion principle.

    \thmitem{rem:induction/transfinite} Another vast generalization of natural number induction is \fullref{thm:bounded_transfinite_induction}, which is further generalized by \fullref{transfinite induction}.

    Both principles are used to prove fundamental properties of the ordinals in \fullref{thm:ordinal_properties}. Outside of set theory, transfinite induction is immensely useful but it is rarely used directly. Instead, it is usually combined with the \hyperref[def:zfc/choice]{axiom of choice} via \fullref{thm:zorns_lemma}.

    Only bounded transfinite induction has a corresponding recursion principle --- \fullref{thm:bounded_transfinite_recursion}. Unbounded transfinite induction cannot define such a principle because that would easily lead to \fullref{thm:burali_forti_paradox}.

    Transfinite recursion is used to construct the cumulative hierarchy in \fullref{def:cumulative_hierarchy}.

    \thmitem{rem:induction/structural} A very general recursion principle is \fullref{thm:structural_recursion}. It is explained in \fullref{rem:structural_recursion_and_induction} how structural recursion is used and how in certain cases it leads to an induction principle.

    Within this document structural induction and recursion are mostly used for defining \hyperref[def:propositional_syntax/formula]{propositional} and \hyperref[def:first_order_syntax/formula]{first-order formulas} and proving their properties in \fullref{sec:logic}.
  \end{thmenum}
\end{remark}

\begin{proposition}\label{thm:ordinal_properties}
  \hyperref[def:ordinal]{Ordinals} have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:ordinal_properties/empty_set} The empty set \( \varnothing \) is an ordinal.

    \thmitem{thm:ordinal_properties/trichotomy}\mcite[thm. 63.16]{OpenLogicFull} The order of ordinals is \hyperref[def:binary_relation/trichotomic]{trichotomic}. That is, if \( \alpha \) and \( \beta \) are ordinals, either \( \alpha < \beta \), \( \beta > \alpha \) or \( \alpha = \beta \).

    \thmitem{thm:ordinal_properties/uniqueness} If two ordinal numbers are \hyperref[def:poset/homomorphism]{order-isomorphic}, they are equal.

    \thmitem{thm:ordinal_properties/descending_sequence_of_ordinals_is_finite}\mcite[prop. 63.20]{OpenLogicFull} Every strictly decreasing sequence of ordinals is finite.

    \thmitem{thm:ordinal_properties/set_of_ordinals_has_minimum} Every nonempty set of ordinals has a minimum.

    \thmitem{thm:ordinal_properties/set_of_smaller_ordinals} Any ordinal \( \alpha \) is equal to the set
    \begin{equation}\label{eq:thm:ordinal_properties/set_of_smaller_ordinals}
      \set{ \beta \in \cat{Ord} \given \beta < \alpha }
    \end{equation}
    of smaller than \( \alpha \) ordinals. As a consequence, this set is well-defined in \logic{ZFC}.

    \thmitem{thm:ordinal_properties/transitive_set_of_ordinals} The set \( A \) is an ordinal if and only if \( A \) is a transitive set of ordinals.
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:ordinal_properties/empty_set} This statement is vacuous since there are not elements nor subsets of \( \varnothing \).

  \SubProofOf{thm:ordinal_properties/trichotomy} Let \( \alpha_0 \) be an ordinal. We will first show that for any other ordinal \( \beta \), either \( \alpha_0 \in \beta \) or \( \beta \subseteq \alpha_0 \). We will use \fullref{thm:transfinite_induction} on \( \beta \).

  Fix an ordinal \( \beta_0 \). Since the inductive hypothesis holds for all \( \beta \in \beta_0 \), we have several possibilities:
  \begin{itemize}
    \item If there exists a \( \beta \in \beta_0 \) such that \( \alpha_0 \in \beta \), then by the transitivity of the \( \in \) relation, we have \( \alpha_0 \in \beta_0 \).
    \item Otherwise, if \( \beta \subseteq \alpha_0 \) for \( \beta \in \beta_0 \), we have that \( \beta_0 \subseteq \alpha_0 \).
  \end{itemize}

  \Fullref{thm:transfinite_induction} allows us to conclude that either \( \alpha_0 \in \beta \) or \( \beta \subseteq \alpha_0 \) independent on the choice of the ordinal \( \beta \). Furthermore, since \( \alpha_0 \) was chosen arbitrarily, this conclusion does not depend on \( \alpha_0 \) and holds for any two ordinals.

  Thus if \( \alpha \) and \( \beta \) are two ordinals, we have the following mutually exclusive possibilities:
  \begin{itemize}
    \item \( \alpha \in \beta \)
    \item \( \beta \in \alpha \)
    \item Neither \( \alpha \in \beta \) nor \( \beta \in \alpha \), in which case by what we have just proved, both \( \alpha \subseteq \beta \) and \( \beta \subseteq \alpha \) hold. Therefore \( \alpha = \beta \).
  \end{itemize}

  This is the desired trichotomy.

  \SubProofOf{thm:ordinal_properties/uniqueness} Let \( \alpha \cong \beta \) be order-isomorphic ordinals. By \fullref{thm:ordinal_properties/trichotomy}, either \( \alpha \in \beta \) or \( \beta \in \alpha \) or \( \alpha = \beta \). To show that the first two cases are impossible, without loss of generality assume that \( \alpha \in \beta \). Let \( h: \alpha \to \beta \) be an embedding. We have that \( h(\alpha) = \beta \) and \( h(\alpha) \in \beta \), hence \( \beta \in \beta \). But this contradicts trichotomy because \( \beta = \beta \).

  Thus we conclude that \( \alpha = \beta \).

  \SubProofOf{thm:ordinal_properties/descending_sequence_of_ordinals_is_finite} Suppose that there exists an infinite sequence of ordinals \( \seq{ \alpha_k }_{k=1}^\infty \) such that \( \alpha_{k+1} \in \alpha_k \) for all \( k \in 1, 2, \ldots \). Thus \( \alpha_1 \) itself as a set has no minimal element with respect to \( \in \), which contradicts the definition of an ordinal.

  The obtained contradiction proves the result.

  \SubProofOf{thm:ordinal_properties/set_of_ordinals_has_minimum} Let \( A \) be a set of ordinals. By \fullref{thm:ordinal_properties/trichotomy}, this set is totally ordered by \( \in \).

  Suppose that a minimum does not exist. Let \( \alpha_1 \in A \). Since \( \alpha_1 \) is not a minimum, there exists \( \alpha_2 \in A \) such that \( \alpha_2 \in \alpha_1 \). We thus build a sequence \( \seq{ \alpha_k }_{k=1}^\infty \subseteq A \) such that \( \alpha_{k+1} \in \alpha_k \) for all \( k \in 1, 2, \ldots \). But this contradicts \fullref{thm:ordinal_properties/descending_sequence_of_ordinals_is_finite}.

  The obtained contradiction shows that \( A \) has a minimum.

  \SubProofOf{thm:ordinal_properties/set_of_smaller_ordinals} Fix an ordinal \( \alpha \). By \fullref{thm:element_of_ordinal_is_ordinal}, every element of \( \alpha \) is again an ordinal and by \fullref{thm:ordinal_properties/trichotomy} all ordinals smaller than \( \alpha \) are elements of \( \alpha \). Therefore \eqref{eq:thm:ordinal_properties/set_of_smaller_ordinals} can be reduced to the set \( \set{ \beta \given \beta \in \alpha } \), which obviously equals \( \alpha \).

  \SubProofOf{thm:ordinal_properties/transitive_set_of_ordinals} If \( A \) is an ordinal, by \fullref{thm:ordinal_properties/set_of_smaller_ordinals}, it is the set of all smaller ordinals. Since \( A \) is transitive by definition, it is a transitive set of ordinals.

  Conversely, suppose that \( A \) is a transitive set of ordinals. We must only show that it is well-ordered by \( \in \). Let \( B \subseteq A \) be a nonempty set. By \fullref{thm:ordinal_properties/set_of_ordinals_has_minimum}, \( B \) has a minimum with respect to \( \in \), hence \( A \) is well-ordered by \( \in \). Since \( A \) is a transitive set, it follows that \( A \) is an ordinal.
\end{proof}

\begin{theorem}[Burali-Forti paradox]\label{thm:burali_forti_paradox}\mcite[thm. 63.19]{OpenLogicFull}
  Assuming \logic{ZFC}, there is no set of all ordinals.
\end{theorem}
\begin{proof}
  Aiming at a contradiction, suppose that \( A \) is a containing all ordinals. If \( \alpha \in A \) and \( \beta \in \alpha \), transitivity of \( \in \) implies that \( \beta \in A \) since \( \beta \) is again an ordinal by \fullref{thm:element_of_ordinal_is_ordinal}. Thus \( A \) is a transitive set of ordinals, which \fullref{thm:ordinal_properties/transitive_set_of_ordinals} is itself an ordinal. Hence \( A \in A \).

  But this contradicts \fullref{thm:zfc_existence_theorems/member_of_itself}. Hence there is no set of all ordinals.
\end{proof}

\begin{proposition}\label{thm:order_type_existence}\mcite[thm. 63.25]{OpenLogicFull}
  Any \hyperref[def:well_ordered_set]{well-ordered set} \( (\mscrP, \leq) \) is \hyperref[def:poset/homomorphism]{order-isomorphic} to a unique ordinal. This ordinal is called the \term{order type} of \( (\mscrP, \leq) \) and is denoted by \( \ord(\mscrP) \).
\end{proposition}
\begin{proof}
  Suppose that \( (\mscrP, \leq) \) is not isomorphic to any ordinal.

  If for at least one element \( x \in P \) the \hyperref[def:poset_interval/ray]{initial segment} \( \mscrP_{<x} \) of \( \mscrP \) is not isomorphic to any ordinal, denote the smallest such element by \( x_0 \) and denote \( \mscrQ \coloneqq \mscrP_{<x_0} \) end endow it with the induced by \( \leq \) order.

  Otherwise, let \( \mscrQ \coloneqq \mscrP \).

  Then any initial segment \( \mscrP_{<x} \) of \( \mscrQ \) is isomorphic to some ordinal \( \alpha_x \), which by \fullref{thm:ordinal_properties/uniqueness} is unique.

  By \hyperref[def:zfc/choice], the following set exists and is a function:
  \begin{equation*}
    f \coloneqq \set{ (\alpha_x, x) \given x \in Q }.
  \end{equation*}

  This is obviously an order isomorphism from \( \alpha \coloneqq \dom(f) \) to \( \mscrQ \).

  In order to show that the set \( \alpha \) is an ordinal, by \fullref{thm:ordinal_properties/transitive_set_of_ordinals} we must only show that it is transitive. Let \( \beta \in \alpha \) and \( \gamma \in \beta \). Then \( \gamma \in \alpha \) since it is the preimage under \( f \) of some element of \( \mscrQ \) smaller than \( f(\beta) \). Thus \( \alpha \) is a transitive set of ordinals and hence is itself an ordinal with \( f \) as the explicit isomorphism.

  Furthermore, if \( \alpha' \) is another ordinal that is isomorphic to \( \mscrQ \) with an explicit isomorphism \( g \), then \( g \bincirc f^{-1} \) is an isomorphism from \( \alpha' \) to \( \alpha \). But by \fullref{thm:ordinal_properties/uniqueness}, isomorphic ordinals are unique and hence \( \alpha = \alpha' \).
\end{proof}
