\subsection{Ordinals}\label{subsec:ordinals}

\begin{remark}\label{rem:ordinal_definition}
  Ordinals are generalizations of \hyperref[def:set_of_natural_numbers]{natural numbers}. We will find characterizing properties of the natural numbers (defined as members of \hyperref[thm:smallest_inductive_set_existence]{\( \omega \)}) so that it is clear what we want to generalize.

  Every natural number is defined as a set of other natural numbers:
  \begin{align*}
    &0 = \varnothing \\
    &1 = \set{ \varnothing } = \set{ 0 } \\
    &2 = \set{ \varnothing, \set{ \varnothing } } = \set{ 0, 1 } \\
    &3 = \set{ \varnothing, \set{ \varnothing }, \set{ \varnothing, \set{ \varnothing } } } = \set{ 0, 1, 2 }
  \end{align*}

  It just so happens that each natural number \( n \) is the set of natural numbers that are smaller with respect to the strict order relation \( < \) defined in \eqref{eq:def:natural_number_ordering/strict_predicate}.

  Therefore \( \in \) and \( < \) are equivalent on the set \( \omega \). It follows from \fullref{thm:natural_numbers_are_well_ordered} that \( \in \) is a \hyperref[def:totally_ordered_set]{strict total order} on \( \omega \). It is even \hyperref[def:well_ordered_set]{well-ordered} by \( \in \) but the latter condition is redundant due to \fullref{thm:set_membership_is_well_founded}.

  For an arbitrary set \( A \), set membership is not even a \hyperref[def:partially_ordered_set/strict]{strict partial order} --- irreflexivity is implied by \fullref{thm:set_membership_is_well_founded} but transitivity of \( \in \) as a binary relation on \( A \) fails to hold in general, not speaking about trichotomy.

  A very simple counterexample for transitivity of \( \in \) is a the set \( \set{ \varnothing, \set{ \varnothing }, \set{ \set{ \varnothing } } } \). Clearly \( \varnothing \in \set{ \varnothing } \) and \( \set{ \varnothing } \in \set{ \set{ \varnothing } } \) but \( \varnothing \not\in \set{ \set{ \varnothing } } \).

  In order for a set \( A \) to be a member of \( \omega \), it is not sufficient for \( \in \) to be a strict total ordered on \( A \). Except for the members of \( \omega \), another set that is totally ordered by \( \in \) is \( A = \set{ 0, 2, 4 } \).

  If we require \( A = \set{ 0, 2, 4 } \) to be a \hyperref[def:transitive_set]{transitive set}, however, it will be a natural number. Indeed, since \( 4 \) is a member of \( A \) and \( 1 \) and \( 3 \) are members of \( 4 \), then by adding \( 1 \) and \( 3 \) to \( A \) we obtain the set \( \set{ 0, 1, 2, 3, 4 } \), which by our definition of natural numbers is \( 5 \).

  Note that transitivity of the relation \( \in \) on \( A \) and transitivity of the set \( A \) itself are entirely different concepts, although we will use both. Every member of \( \omega \) is a transitive set by \fullref{thm:omega_is_transitive} and the relation \( \in \) is a strict total order by \fullref{thm:natural_numbers_are_well_ordered}.

  This is the reasoning behind our definition of an ordinal --- \fullref{def:ordinal}. From this definition it will follow that the ordinals are unique representatives of order-isomorphisms classes of well-ordered sets.

  As a final note, the above two conditions are not sufficient for \( A \) to be a member of \( \omega \) (they are too general) but if we additionally require \( A \) to be a \hyperref[def:infinite_set]{finite set}, then \( A \) will be a member of \( \omega \). We have yet to define finiteness, however.
\end{remark}

\begin{definition}\label{def:ordinal}\mcite[def. 63.12]{OpenLogicFull}
  An \term{ordinal}, also known as an \term{ordinal number}, is a \hyperref[def:transitive_set]{transitive set} \( A \) such that set membership (as a binary relation on \( A \)) \hyperref[def:well_ordered_set]{well-orders} \( A \).

  Because of \fullref{thm:set_membership_is_well_founded}, it is sufficient for set membership to be a \hyperref[def:totally_ordered_set]{strict total order} on \( A \). Since well-foundedness also implies \hyperref[def:binary_relation/irreflexive]{irreflexivity}, it follows that set membership must only be \hyperref[def:binary_relation/transitive]{transitive} and \hyperref[def:binary_relation/trichotomic]{trichotomic} on \( A \).

  In the absence of the \hyperref[def:zfc/foundation]{axiom of foundation}, we additionally require set membership to be a \hyperref[def:well_founded_relation]{well-founded relation} on \( A \) so that \( A \) is well-ordered.

  See \fullref{rem:ordinal_definition} for a further discussion of the definition, especially the different notions of transitivity.

  By tradition, ordinals are denoted by initial small Greek letters like \( \alpha \) and \( \beta \), however we often use \( \alpha \) and \( \beta \) in logical formulas and so we prefer \( \gamma \) and \( \delta \).

  We introduce the notation \( \gamma < \delta \) for \( \gamma \in \delta \) in analogy with natural numbers. This is not a binary relation since there is not set of all ordinals by \fullref{thm:burali_forti_paradox}, however it does satisfy the properties of a well-order due to \fullref{thm:ordinal_properties/trichotomy}.

  Finally, we introduce the following \hyperref[rem:predicate_formula]{predicate formula}
  \begin{equation*}\taglabel[\op{IsOrdinal}]{eq:def:ordinal/predicate}
    \begin{aligned}
      \ref{eq:def:ordinal/predicate}[\alpha] \coloneqq
        &\ref{eq:def:transitive_set/predicate}[\alpha]
        \wedge \\ \wedge&
        \parens[\Big]
        {
          \qforall {\xi \in \alpha}
          \qforall {\eta \in \alpha}
          \parens[\Big]
            {
              \eta \in \xi \vee \eta \doteq \xi \vee \xi \in \eta
            }
        }
        \wedge \\ \wedge&
        \parens[\Big]
        {
          \qforall {\xi \in \alpha}
          \qforall {\eta \in \alpha}
          \qforall {\zeta \in \alpha}
          \parens[\Big]
          {
            (\xi \in \eta \wedge \eta \in \zeta) \rightarrow \xi \in \zeta
          }
        }.
    \end{aligned}
  \end{equation*}
\end{definition}

\begin{proposition}\label{thm:omega_is_an_ordinal}
  The \hyperref[thm:smallest_inductive_set_existence_existence]{smallest inductive set \( \omega \)} is an \hyperref[def:ordinal]{ordinal}.
\end{proposition}
\begin{proof}
  From \fullref{thm:omega_is_transitive} it follows that \( \omega \) is a transitive set.

  Also, as discussed in \fullref{rem:ordinal_definition}, from \fullref{thm:natural_numbers_are_well_ordered} it follows that set membership is a strict total order on \( \omega \).

  Therefore both \( \omega \) is an \hyperref[def:ordinal]{ordinal}.
\end{proof}

\begin{proposition}\label{thm:member_of_ordinal_is_ordinal}\mcite[lemma 63.13]{OpenLogicFull}
  Every member of an ordinal is an ordinal.
\end{proposition}
\begin{proof}
  Let \( \gamma \) be an ordinal and let \( \delta \in \gamma \). We will show that \( \delta \) is an ordinal.

  By transitivity of \( \gamma \), we have \( \delta \subseteq \gamma \) and by \fullref{def:partially_ordered_set/submodel}, \( (\delta, \in) \) is a (strictly) totally ordered set as a \hyperref[def:first_order_substructure]{substructure} of \( (\gamma, \in) \).

  It remains to show that \( \delta \) is itself transitive. Let \( x \in \delta \). We have that \( \delta \subseteq \gamma \) since \( \gamma \) is transitive, hence \( x \in \gamma \).

  Fix \( y \in x \). Again from the transitivity of \( \gamma \) it follows that \( y \in \gamma \). Since \( \in \) is a total order on \( \gamma \), from \( y \in x \) and \( x \in \delta \) it follows that \( y \in \delta \).

  Since \( y \in x \) was chosen arbitrarily, it follows that \( x \subseteq \delta \). Since \( x \) was chosen arbitrarily, it follows that \( \delta \) is transitive.
\end{proof}

\begin{proposition}\label{thm:initial_segment_of_ordinal}
  Let \( \gamma \) be an ordinal. For any \( \delta \in \gamma \), the \hyperref[def:partially_ordered_set_interval/ray]{open initial segment} \( \gamma_\delta \) equals \( \delta \).

  This is the bounded version of \fullref{thm:ordinal_is_set_of_smaller_ordinals}.
\end{proposition}
\begin{proof}
  Let \( \delta \in \gamma \). Consider the initial segment
  \begin{equation*}
    \gamma_{<\delta} = \set{ \varepsilon \in \gamma \given \varepsilon \in \delta }.
  \end{equation*}

  Clearly \( \gamma_{<\delta} = \gamma \cap \delta \). Given that \( \gamma \) is a transitive set, however, we have \( \delta \subseteq \gamma \) and thus \( \gamma \cap \delta = \delta \).

  Therefore \( \gamma_{<\delta} = \delta \).
\end{proof}

\begin{corollary}\label{thm:natural_numbers_are_ordinals}
  The natural numbers (defined as members of \hyperref[thm:smallest_inductive_set_existence]{\( \omega \)}) are ordinals.
\end{corollary}
\begin{proof}
  Follows from \fullref{thm:omega_is_an_ordinal} and \fullref{thm:member_of_ordinal_is_ordinal}.
\end{proof}

\begin{definition}\label{def:transfinite_sequence}
  For any ordinal \( \gamma \) we call any function with \( \gamma \) as its domain a \( \gamma \)-indexed \term{transfinite sequence}.

  In particular, the case \( \gamma = \omega \) corresponds to the standard \hyperref[def:natural_sequence]{natural number sequences}.
\end{definition}

\begin{remark}\label{rem:function_on_ordinal}
  It is interesting to consider how a function \( f: A \to B \) behaves when \( A \) is an ordinal. This is an awful artifact of our notation for function values of a set.

  For any ordinal \( \delta \in A \), by \hyperref[def:multi_valued_function/set_value]{our definition of function evaluation}, \( f(\delta) \) is a member of \( B \) but \( f(A_{<\delta}) \) is a subset of \( B \) because \( \delta = A_{<\delta} \). Consider the case \( A = 3 = \set{ 0, 1, 2 } \) and \( f(n) \coloneqq 2 \setminus n \).

  When regarding \( 1 \) as a member of \( 2 \), we obtain
  \begin{equation*}
    f(1)
    =
    \underbrace{\set{ \varnothing, \set{ \varnothing } }}_{2} \setminus \underbrace{\set{ \varnothing }}_{1}
    =
    \set{ \set{ \varnothing } }
    =
    \set{ 1 }.
  \end{equation*}

  When regarding \( 1 \) as a subset of \( 2 \), we instead obtain
  \begin{equation*}
    f(1)
    =
    f(\set{ \varnothing })
    =
    \set{ f(\varnothing) }
    =
    \set[\Big]{ \underbrace{\set{ \varnothing, \set{ \varnothing } }}_{2} \setminus \underbrace{ \varnothing }_{0} }
    =
    \set{ 0, 1 }
    =
    2.
  \end{equation*}

  See the notes in \fullref{def:multi_valued_function/set_value} regarding this notational ambiguity.
\end{remark}

\begin{theorem}[Bounded transfinite induction]\label{thm:bounded_transfinite_induction}
  For every formula \( \varphi \) in the language of set theory not containing \( \alpha \), \( \eta \) nor \( \zeta \) as free variables, the following is a theorem of \logic{ZFC}:
  \small
  \begin{equation*}
    \qforall \alpha
    \parens[\Bigg]
    {
      \ref{eq:def:ordinal/predicate}[\alpha]
      \rightarrow
      \parens[\Big]
        {
          \qforall {\eta \in \alpha}
          \overbrace
            {
              \underbrace{ \parens[\Big]{ \qforall {\zeta \in \eta} \varphi[\xi \mapsto \zeta] } }_{\mathclap{\substack{\T{inductive} \\ \T{hypothesis}}}}
              \rightarrow
              \underbrace{ \varphi[\xi \mapsto \eta] }_{\mathclap{\substack{\T{inductive step} \\ \T{conclusion}}}}
            }^{\T{inductive step}}
        }
      \rightarrow
      \underbrace{ \qforall {\eta \in \alpha} \varphi[\xi \mapsto \eta] }_{\T{conclusion}}
    }.
  \end{equation*}
  \normalsize

  See the comments in \fullref{def:peano_arithmetic/PA3} regarding variables and quantification in axiom schemas and \fullref{rem:induction} for a general discussion of induction.

  See \fullref{rem:transfinite_induction} about a reformulation that is often useful in practice.
\end{theorem}
\begin{proof}
  This theorem is a special case of \fullref{thm:epsilon_induction} with the formula \( \xi \in \alpha \rightarrow \varphi \) that is explicitly universally quantified by the parameter \( \alpha \) which ranges over all ordinals.

  Note that it is unnecessary to verify that \( \eta \) and \( \zeta \) are ordinals because \fullref{thm:member_of_ordinal_is_ordinal} ensures that \( \eta \) is only quantified over ordinals.
\end{proof}

\begin{theorem}[Bounded transfinite recursion]\label{thm:bounded_transfinite_recursion}\mcite[177]{Enderton1977Sets}
  Fix an \hyperref[def:ordinal]{ordinal} \( \gamma \) and a nonempty set \( A \). Suppose that we are given some transformation \( T: \pow(\gamma \times A) \to A \) whose value for any relation between \( \gamma \). Then there exists a unique \( \gamma \)-indexed \hyperref[def:transfinite_sequence]{transfinite sequence} \( f: \gamma \to A \) such that for any \( \delta \in \gamma \) we have \( f(\delta) = T(f\restr_\delta) \).

  This is a vast generalization of \fullref{thm:omega_recursion} from \hyperref[def:sequence]{natural number sequences} to \hyperref[def:transfinite_sequence]{transfinite sequences}.

  See \fullref{rem:transfinite_induction} about a reformulation that is often useful in practice.
\end{theorem}
\begin{proof}
  The proof is analogous to that of \fullref{thm:omega_recursion} but we will give it anyway to highlight the difference between using \fullref{omega_induction} and \fullref{thm:bounded_transfinite_induction}.

  Let \( G \subseteq \pow(\gamma \times A) \) be the set of all \hyperref[def:partial_function]{partial single-valued functions} \( g: \gamma \to A \) such that
  \begin{itemize}
    \item There exists some \( \delta_g \in \gamma \) such that \( g \) is defined only in the \hyperref[def:partially_ordered_set_interval/ray]{open initial segment} \( \gamma_{< \delta_g} \). That is, \( g \) is defined for all \( \delta \) up to not including \( \delta_g \).

    \item \( g(\delta) = T(g\restr_\delta) \) for all \( \delta < \delta_g \).
  \end{itemize}

  Clearly \( G \) is nonempty because the function \( \set{ (\varnothing, T(\varnothing)) } \) belongs to \( G \).

  Define \( f \coloneqq \bigcup G \). At this point \( f \) is a \hyperref[def:multi_valued_function]{multi-valued function}. We must now show that \( f \) has all the properties that we want.

  \SubProofOf[def:multi_valued_function/total]{totality} First, we will use \fullref{thm:bounded_transfinite_induction} to show that \( f \) is total.

  Fix \( \delta \in \dom f \). Then there exists a function \( g \in G \) defined for all \( \varepsilon < \delta \).

  \begin{itemize}
    \item If \( g \) is also defined at \( \delta \) also, this directly proves that \( \delta \in \dom f \).
    \item If \( g \) is not defined at \( \delta \), consider
    \begin{equation*}
      \widehat g \coloneqq g \cup \set{ (\delta, T(g\restr_\delta) }.
    \end{equation*}

    The function \( \widehat g \) is again a single-valued partial function and thus it belongs to \( G \), hence \( \delta \in \dom f \).
  \end{itemize}

  Therefore \fullref{thm:bounded_transfinite_induction} allows us to conclude that \( f: \gamma \multto A \) is a total multi-valued function.

  \SubProofOf[def:function]{single-valuedness} Now that we know that \( f \) is total, we will prove that it is single-valued and thus is a function in the usual sense of the term.

  Fix \( \delta \in \gamma \). Suppose that \( f \) is single-valued for all \( \varepsilon < \delta \). Since \( f \) is total, there exist at least one partial function \( g \) in \( G \) that is defined at \( \delta \). Let \( g \) and \( h \) both be such (single-valued partial) functions.

  Then
  \begin{equation*}
    g(\delta) = T(g\restr_\delta) = T(f\restr_\delta) = T(h\restr_\delta) = h(\delta),
  \end{equation*}
  hence \( g \) and \( h \) coincide at \( \delta \), which in turn implies that \( f \) is single-valued at \( \delta \).

  Therefore \fullref{thm:omega_induction} allows us to conclude that \( f \) is a single-valued total function.

  \SubProofOf[def:function]{uniqueness} Now that it is clear that \( f \) satisfies the theorem, we must verify that it is unique.

  Suppose that \( f_1 \) and \( f_2 \) both satisfy the theorem. Fix some \( \delta \in \gamma \) and suppose that for every \( \varepsilon < \delta \), we have \( f_1(\varepsilon) = f_2(\varepsilon) \). Then
  \begin{equation*}
    f_2(\delta) = T(f_1\restr_\delta)) = T(f_2\restr_\delta) = f_2(\delta).
  \end{equation*}

  Therefore \fullref{thm:omega_induction} allows us to conclude that \( f_1 = f_2 \). So there is at most one function that satisfies the theorem and we have already shown that \( f \) is such a function.
\end{proof}

\begin{theorem}[Transfinite induction]\label{thm:transfinite_induction}\mcite[thm. 63.15]{OpenLogicFull}
  It turns out that \fullref{thm:bounded_transfinite_recursion} is valid for all ordinals simultaneously.

  For every formula \( \varphi \) in the language of set theory not containing \( \eta \) nor \( \zeta \) as free variables, the following is a theorem of \logic{ZFC}:
  \small
  \begin{equation*}
    \qforall \eta
    \parens[\Bigg]
      {
        \ref{eq:def:ordinal/predicate}[\eta]
        \rightarrow
        \parens[\Big]
        {
          \overbrace
            {
              \underbrace{ \parens[\Big] { \qforall {\zeta \in \eta} \varphi[\xi \mapsto \zeta] } }_{\mathclap{\substack{\T{inductive} \\ \T{hypothesis}}}}
              \rightarrow
              \underbrace{ \varphi[\xi \mapsto \eta] }_{\mathclap{\substack{\T{inductive step} \\ \T{conclusion}}}}
            }^{\T{inductive step}}
        }
      }
    \rightarrow
    \qforall \eta \parens[\Bigg]
    {
      \ref{eq:def:ordinal/predicate}[\eta]
      \rightarrow
      \underbrace{ \varphi[\xi \mapsto \eta] }_{\T{conclusion}}
    }.
  \end{equation*}
  \normalsize

  This theorem could be a special case of \fullref{thm:bounded_transfinite_recursion} but there exists no set of all ordinals due to \fullref{thm:burali_forti_paradox}.

  See the comments in \fullref{def:peano_arithmetic/PA3} regarding variables and quantification in axiom schemas and \fullref{rem:induction} for a general discussion of induction.

  See \fullref{rem:transfinite_induction} about a reformulation that is often useful in practice.
\end{theorem}
\begin{proof}
  The proof is similar to the proof of \fullref{thm:well_founded_induction}.
\end{proof}

\begin{proposition}\label{thm:ordinals_are_well_ordered}
  The ordinals are \hyperref[def:well_ordered_set]{well-ordered}. Since there exists no set of all ordinals due to \fullref{thm:burali_forti_paradox}, we will instead state a more concrete result.

  \begin{thmenum}
    \thmitem{thm:ordinals_are_well_ordered/transitivity} If \( \gamma \), \( \delta \) and \( \varepsilon \) are ordinals and \( \varepsilon < \delta < \gamma \) holds, then \( \varepsilon < \gamma \) holds.

    \thmitem{thm:ordinals_are_well_ordered/trichotomy} For any two ordinals \( \gamma \) and \( \delta \), exactly one of \( \gamma = \delta \), \( \gamma < \delta \) or \( \gamma > \delta \) holds.
  \end{thmenum}

  As discussed in \fullref{def:ordinal}, irreflexivity and well-foundedness hold by \fullref{thm:set_membership_is_well_founded}.
\end{proposition}
\begin{proof}
  \SubProofOf{thm:ordinals_are_well_ordered/transitivity} Let \( \gamma \), \( \delta \) and \( \varepsilon \) be ordinals and let \( \varepsilon \in \delta \in \gamma \). Since \( \gamma \) is a transitive set, it follows that \( \delta \subseteq \gamma \) and thus \( \varepsilon \in \gamma \).

  Therefore we have used the fact that \( \gamma \) is a transitive set to prove that set membership is a transitive relation, thus obtaining a connection between two distinct concepts both named \enquote{transitivity}.

  \SubProofOf{thm:ordinals_are_well_ordered/trichotomy} Let \( \gamma \) and \( \delta \) be ordinals.

  Due to \fullref{thm:simple_foundation_theorems/member_of_itself}, it is not possible for both \( \gamma \in \delta \) and \( \gamma = \delta \) to hold simultaneously. Due to \fullref{thm:simple_foundation_theorems/mutual_membership}, it is not possible for both \( \gamma \in \delta \) and \( \delta \in \gamma \) to hold simultaneously.

  Thus at most one of \( \gamma = \delta \), \( \gamma \in \delta \) or \( \delta \in \gamma \) holds.

  We will use \fullref{thm:transfinite_induction} on \( \delta \) to show that at least one of them holds. Fix an ordinal \( \delta_0 \). Our inductive hypothesis is that for every ordinal \( \gamma \) and for every \( \varepsilon \in \delta_0 \) at least one of \( \gamma = \varepsilon \), \( \gamma \in \varepsilon \) or \( \varepsilon \in \gamma \) holds.

  Fix some ordinal \( \gamma_0 \). We will show that at least one of \( \gamma_0 = \delta_0 \), \( \gamma_0 \in \delta_0 \) or \( \delta_0 \in \gamma_0 \) holds. Since the case \( \delta_0 = \gamma_0 \) is trivial, we exclude it from consideration.

  \begin{itemize}
    \item If there exists \( \varepsilon \in \delta_0 \) such that \( \varepsilon = \gamma_0 \), clearly \( \gamma_0 \in \delta_0 \).
    \item If there exists \( \varepsilon \in \delta_0 \) such that \( \gamma_0 \in \varepsilon \), then by transitivity \( \gamma_0 \in \delta_0 \).
    \item If for every \( \varepsilon \in \delta_0 \) we have \( \varepsilon \in \gamma_0 \), then \( \delta_0 \subsetneq \gamma_0 \). Let \( \varepsilon_0 \) be the smallest member of \( \gamma_0 \setminus \delta_0 \). We will show that \( \varepsilon_0 = \delta_0 \).

    Our first goal is to show that \( \varepsilon_0 \subseteq \delta_0 \). Aiming at a contradiction, suppose that there exists some \( \lambda \in \varepsilon_0 \setminus \delta \). Since \( \varepsilon_0 \) is a transitive set, we have \( \lambda \in \gamma \). Thus \( \lambda \in \gamma \setminus \delta \) and \( \lambda \in \varepsilon_0 \), contradicting the minimality of \( \varepsilon_0 \). Therefore \( \varepsilon_0 \subseteq \delta \).

    Now we will use the existing inductive hypothesis for \( \gamma = \varepsilon_0 \) to show that \( \delta_0 \subseteq \varepsilon_0 \).

    \begin{itemize}
      \item If there exists \( \lambda \in \delta_0 \) such that \( \lambda = \varepsilon_0 \), clearly \( \varepsilon_0 \in \delta_0 \). But that contradicts our choice of \( \varepsilon_0 \) as a member of \( \gamma_0 \setminus \delta_0 \).

      \item If there exists \( \lambda \in \delta_0 \) such that \( \varepsilon_0 \in \lambda \), then by transitivity \( \varepsilon_0 \in \delta_0 \), which again contradicts our choice of \( \varepsilon_0 \).

      \item Finally, if for every \( \varepsilon \in \delta_0 \) we have \( \varepsilon \in \varepsilon_0 \), then \( \delta_0 \subseteq \varepsilon_0 \).
    \end{itemize}

    Thus both \( \varepsilon_0 \subseteq \delta_0 \) and \( \delta_0 \subseteq \varepsilon_0 \), giving us the equality \( \delta_0 = \varepsilon_0 \). This allows us to conclude that \( \delta_0 \in \gamma_0 \).
  \end{itemize}

  We have shown by transfinite induction that for a fixed ordinal \( \delta_0 \), for every other ordinal \( \gamma \) at least one of \( \delta_0 = \gamma \), \( \delta_0 \in \gamma \) or \( \gamma \in \delta_0 \) holds. We have already shown that at most one of the three holds, hence exactly one of the three holds.

  Since \( \delta_0 \) is itself arbitrary, we can conclude that trichotomy holds for any two ordinals \( \gamma \) and \( \delta \).
\end{proof}

\begin{proposition}\label{thm:ordinal_ordering_via_subsets}
  For any two ordinals \( \gamma \) and \( \delta \) we have \( \delta \in \gamma \) if and only if \( \delta \subsetneq \gamma \).
\end{proposition}
\begin{proof}
  \NecessitySubProof Since \( \gamma \) is a transitive set, from \( \delta \in \gamma \) it follows that \( \delta \subseteq \gamma \).

  We cannot have \( \delta = \gamma \) due to \fullref{thm:simple_foundation_theorems/member_of_itself}, hence \( \delta \subsetneq \gamma \).

  \SufficiencySubProof Suppose that \( \delta \subsetneq \gamma \).

  By \fullref{thm:ordinals_are_well_ordered/trichotomy}, the ordinals \( \delta \) and \( \gamma \) must be related by set membership.
  \begin{itemize}
    \item If \( \gamma = \delta \), this directly contradicts our assumption that \( \delta \subsetneq \gamma \).
    \item If \( \gamma \in \delta \), then \( \gamma \in \gamma \) which contradicts \fullref{thm:simple_foundation_theorems/member_of_itself}.
    \item It remains for \( \delta \in \gamma \) to hold.
  \end{itemize}
\end{proof}

\begin{proposition}\label{thm:transitive_set_of_transitive_sets_is_ordinal}\mcite{MathSE:transitive_set_of_transitive_sets}
  A \hyperref[def:transitive_set]{transitive set} whose members are transitive sets is an ordinal.

  In particular, a transitive set of ordinals is an ordinal. If a set of ordinals is not transitive, we can instead take its \hyperref[def:transitive_closure_of_a_set]{transitive closure}.
\end{proposition}
\begin{proof}
  Let \( A \) be a set whose members are themselves transitive sets.

  We will first show that set membership is transitive on \( A \). If \( x \), \( y \) and \( z \) are members of \( A \) such that \( x \in y \in z \), then since \( z \) is transitive we have \( y \subseteq z \) and thus \( x \in z \).

  Therefore we can conclude that set membership is a \hyperref[def:partially_ordered_set/strict]{strict partial order} on \( A \). Now define the set
  \begin{equation*}
    B \coloneqq \set{ x \in A \given \qexists {y \in A} x \not\in y \wedge y \not\in x }
  \end{equation*}
  of all members of \( A \) which are not related to at least one other member. If \( B \) is empty, then set membership is trichotomous on \( A \).

  If \( B \) is nonempty, let \( b \) be a minimal element of \( B \). A minimal element must exist by \fullref{thm:infinite_descent_partial_order} because set membership is a well-founded partial order on \( A \). We have chosen \( b \) so that every member of \( b \) is related to every other member of \( A \).

  Define the set
  \begin{equation*}
    C \coloneqq \set{ x \in A \given x \neq b \wedge x \not\in b \wedge b \not\in x }
  \end{equation*}
  of all members of \( A \) which are not related to \( b \) and let \( c \) be a minimal element of \( C \). We will now show that \( b = c \), which is a contradictions with our choice of \( c \).

  Let \( x \in b \). As we have already mentioned, \( x \) is related to every other member of \( A \), including \( c \).
  \begin{itemize}
    \item If \( c = x \), then \( c \in b \), which contradicts our choice of \( c \).

    \item Suppose that \( c \in x \). We have chosen \( x \) to be a member of \( b \) and we thus have \( c \in x \in b \). The set \( b \) is transitive as a member of \( A \), hence \( x \) is also a member of \( A \). Since set membership is a transitive relation on \( A \), it follows that \( c \in b \), which contradicts our choice of \( c \).

    \item It remains for \( x \in c \) to hold.
  \end{itemize}

  Therefore \( b \subseteq c \). The converse inclusion \( c \subseteq b \) can be obtained analogously by noting that \( c \) is a minimal element of \( C \) and hence every \( x \in c \) is related to \( b \). Thus we obtain \( b = c \), which contradicts our choice of \( c \) as a member of \( C \).

  The obtained contradiction shows that the set \( B \) is empty and thus every member of \( A \) is related to every other member, proving trichotomy of set membership on \( A \). This allows us to conclude that \( A \) is an ordinal because it is a transitive set and we have already shown in the beginning of the proof that set membership is a transitive relation on \( A \).
\end{proof}

\begin{definition}\label{def:transitive_closure_of_a_set}\mcite[def. 64.8]{OpenLogicFull}
  To show that every set has a rank we must introduce additional definitions. We use \hyperref[rem:natural_number_recursion]{natural number recursion} to define the \term{transitive closure} of a set \( A \) as
  \begin{equation*}
    \cl^T(A) \coloneqq \bigcup \set{ \cl_n^T(A) \given n \in \omega },
  \end{equation*}
  where
  \begin{equation*}
    \cl_n^T(A) \coloneqq \begin{cases}
      A,              &n = 0 \\
      \bigcup \cl_{n-1}^T(A), &n > 0
    \end{cases}
  \end{equation*}

  Note that this is different from the transitive closure of a relation defined in \fullref{def:derived_relations/transitive}.
\end{definition}

\begin{proposition}\label{thm:transitive_closure_of_a_set}\mcite[thm. 64.9]{OpenLogicFull}
  The \hyperref[def:transitive_closure_of_a_set]{transitive closure} \( \cl^T(A) \) of the set \( A \) is the smallest transitive set containing \( A \).
\end{proposition}
\begin{proof}
  It is clear that \( A = \cl_0^T(A) \) is a subset of \( \cl^T(A) \).

  If \( x \in \cl^T(A) \), then there exists some natural number \( n \) for which \( x \in \cl_n^T(A) \). Therefore \( x \subseteq \bigcup \cl_n^T(A) = \cl_{n+1}^T(A) \) and thus \( x \subseteq \cl^T(A) \).

  Now suppose that \( B \) is a transitive subset of \( \cl^T(A) \) which contains \( A \). Let \( x_0 \in \cl^T(A) \).

  Suppose that \( x_0 \not\in B \). Then there must exist a smallest nonzero number \( n \) such that \( x_0 \in \cl_n^T(A) \). Then \( x_0 \) belongs to some member \( x_1 \) of \( \cl_{n-1}^T(A) \). If \( x_1 \in A \), then \( x_0 \) must belong to \( B \) since it is transitive. But this contradicts out choice of \( x_0 \). Then \( x_1 \not\in A \), in which case there exists some \( x_2 \in \cl_{n-2}^T(A) \) such that \( x_1 \in x_2 \). If \( x_2 \in A \), then again \( x_0 \in B \), which contradicts our choice of \( x_0 \). We can thus recursively construct a sequence \( \set{ x_k }_{k=0}^\infty \) such that for every \( k \geq 0 \) both \( x_k \in x_{k+1} \) and \( x_k \not\in A \) hold. The existence of such a sequence contradicts \fullref{thm:set_membership_is_well_founded}.

  Therefore \( \cl^T(A) \subseteq B \), hence \( \cl^T(A) \) is the smallest transitive set containing \( A \).
\end{proof}

\begin{proposition}\label{thm:ordinal_is_set_of_smaller_ordinals}
  Every ordinal equals the set of all smaller ordinals.

  This is the unbounded version of \fullref{thm:initial_segment_of_ordinal}.
\end{proposition}
\begin{proof}
  Let \( \gamma \) be an ordinal and let \( A \) be the set of all ordinals smaller than \( \gamma \). We will show that \( A = \gamma \). We will first show that \( A \) is a transitive set. Let \( \delta \in A \) and \( \varepsilon \in \delta \). Since \( \gamma \) is a transitive set that contains \( \delta \), we have \( \varepsilon \in \gamma \). Thus \( \varepsilon \) is smaller than \( \gamma \) and hence it belongs to \( A \). Therefore \( A \) is a transitive set of ordinals and by \fullref{thm:transitive_set_of_transitive_sets_is_ordinal}, it is itself an ordinal.

  \Fullref{thm:ordinals_are_well_ordered} implies that \( \gamma \) and \( A \) are either equal or related by set membership.
  \begin{itemize}
    \item If \( \gamma \in A \), then \( \gamma \) is smaller than itself, which contradicts \fullref{thm:simple_foundation_theorems/member_of_itself}.

    \item If \( A \in \gamma \), then \( A \) is smaller than itself, which again contradicts \fullref{thm:simple_foundation_theorems/member_of_itself}.

    \item It remains for \( A \) to be equal to \( \gamma \).
  \end{itemize}
\end{proof}

\begin{theorem}[Burali-Forti paradox]\label{thm:burali_forti_paradox}\mcite[thm. 63.19]{OpenLogicFull}
  Assuming \logic{ZFC}, there is no set of all ordinals.
\end{theorem}
\begin{proof}
  Aiming at a contradiction, suppose that \( A \) is a containing all ordinals. If \( \gamma \in A \) and \( \delta \in \gamma \), transitivity \( \delta \) implies \( \delta \in A \). Thus \( A \) is a transitive set of ordinals, which \fullref{thm:transitive_set_of_transitive_sets_is_ordinal} is itself an ordinal. Hence \( A \in A \).

  But this contradicts \fullref{thm:simple_foundation_theorems/member_of_itself}. Hence there is no set of all ordinals.
\end{proof}

\begin{proposition}\label{thm:union_of_set_of_ordinals}\mcite{MathSE:union_of_set_of_ordinals}
  Let \( A \) be a set of ordinals and denote \( \gamma \coloneqq \bigcup A \).

  \begin{thmenum}
    \thmitem{thm:union_of_set_of_ordinals/is_ordinal} The union \( \gamma \) is itself an ordinal.

    \thmitem{thm:union_of_set_of_ordinals/supremum} The union \( \gamma \), which is the \hyperref[def:partially_ordered_set_extremal_points/supremum_and_infimum]{supremum} of \( A \) with respect to set inclusion, is also the supremum of \( A \) with respect to ordinal ordering.

    That is, \( \gamma \) is the smallest ordinal that is not smaller than any member of \( A \).

    \thmitem{thm:union_of_set_of_ordinals/ordinal} If \( A \) is an ordinal, then \( \gamma \leq A \). Furthermore, in the case \( \gamma < A \), there is no ordinal between \( A \) and \( \gamma \).

    See \fullref{def:successor_ordinal/union} for a further distinction between \( \gamma = A \) and \( \gamma < A \).
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:union_of_set_of_ordinals/is_ordinal} Let \( A \) be a set of ordinals. Denote its union by \( \gamma \coloneqq \bigcup A \).

  We will show that \( \gamma \) is a transitive set. Due to \fullref{thm:transitive_set_of_transitive_sets_is_ordinal}, this is sufficient for \( \gamma \) to be an ordinal.

  Let \( \delta \in \gamma \). Then there exists an ordinal \( \varepsilon \) in \( A \) such that \( \delta \in \varepsilon \). Since \( \varepsilon \) is itself a transitive set, we have \( \delta \subseteq \varepsilon \). But \( \varepsilon \subseteq \gamma \), hence \( \delta \subseteq \gamma \).

  Therefore \( \gamma = \bigcup A \) is a transitive set and thus an ordinal.

  \SubProofOf{thm:union_of_set_of_ordinals/supremum} For every \( \delta \in A \) we have \( \delta \subseteq \gamma \), which by \fullref{thm:ordinal_ordering_via_subsets} corresponds to \( \delta \leq \gamma \) with respect to ordinal ordering.

  We will show that \( \gamma \) is the smallest ordinal with this property. Let \( \lambda_0 \) be any other ordinal such that \( \varepsilon \leq \lambda_0 \) for any \( \varepsilon \in A \). Fix some \( \varepsilon_0 \in \gamma \). Then there exists an ordinal \( \delta_0 \in A \) such that \( \varepsilon_0 \in \delta_0 \). Since \( \delta_0 \in A \) and \( A \subseteq \lambda_0 \), since \( \lambda_0 \) itself is a transitive set we have \( \varepsilon_0 \in \lambda_0 \).

  Therefore \( \gamma \) is the least upper bound of \( A \) with respect to ordinal ordering.

  \SubProofOf{thm:union_of_set_of_ordinals/ordinal} Assume that \( A \) is an ordinal.

  If \( \varepsilon \in \gamma \), by transitivity of \( \gamma \) we have \( \varepsilon \subseteq \gamma \). Thus \( \varepsilon \in A \). Hence \( \gamma \subseteq A \).

  Now suppose that there exists some \( \varepsilon \in A \) such that \( \gamma \in \varepsilon \). Then
  \begin{equation*}
    \varepsilon \subseteq \bigcup A = \gamma \in \varepsilon,
  \end{equation*}
  which contradicts \fullref{thm:simple_foundation_theorems/member_of_itself}.

  Hence there is not ordinal between \( \gamma = \bigcup A \) and \( A \).
\end{proof}

\begin{proposition}\label{thm:successor_of_ordinal}
  The \hyperref[def:ordinal_successor]{successor} \( \gamma \coloneqq \op{succ}(\delta) \) of an ordinal \( \delta \) is the smallest ordinal larger than \( \gamma \).
\end{proposition}
\begin{proof}
  We must show that \( \gamma \) is a transitive set and thus by \fullref{thm:transitive_set_of_transitive_sets} an ordinal. Note that \( \gamma = \op{succ}(\delta) = \delta \cup \set{ \delta } \).

  Let \( \varepsilon \in \gamma \).
  \begin{itemize}
    \item If \( \varepsilon \in \delta \), then since \( \delta \) is a transitive set, we have \( \varepsilon \subseteq \delta \). Furthermore, since \( \delta \subseteq \gamma \), by transitivity of set inclusion \( \varepsilon \subseteq \gamma \).

    \item If \( \varepsilon = \delta \), then \( \varepsilon \subseteq \gamma \) by definition of successor.
  \end{itemize}

  Therefore \( \gamma \) is a transitive set and thus an ordinal.

  Now suppose that there is another ordinal \( \varepsilon \) such that \( \delta \in \varepsilon \in \gamma = \delta \cup \set{ \delta } \).
  \begin{itemize}
    \item If \( \varepsilon \in \delta \), this would contradict \fullref{thm:simple_foundation_theorems/mutual_membership}.

    \item If \( \varepsilon = \delta \), this would contradict \fullref{thm:simple_foundation_theorems/member_of_itself}.
  \end{itemize}

  The obtained contradictions show that there is no ordinal between \( \gamma \) and \( \delta \).
\end{proof}

\begin{remark}\label{rem:def:ordinal_successor}
  It follows from \fullref{thm:ordinal_is_set_of_smaller_ordinals} and \fullref{thm:successor_of_ordinal} and that for any ordinal \( \delta \) we have
  \begin{align*}
    \delta            &= \set{ \varepsilon \given \varepsilon \T{is an ordinal and} \varepsilon < \delta }, \\
    \op{succ}(\delta) &= \set{ \varepsilon \given \varepsilon \T{is an ordinal and} \varepsilon \leq \delta }.
  \end{align*}

  This shows that the \hyperref[def:ordinal_successor]{ordinal successor} operation is very natural in the context of ordinals.
\end{remark}

\begin{definition}\label{def:successor_ordinal}
  We say that the ordinal \( \gamma \) is a \term{successor ordinal} if any of the following equivalent conditions hold:

  \begin{thmenum}
    \thmitem{def:successor_ordinal/successor} The ordinal \( \gamma \) is the successor of another ordinal. That is, there exists another ordinal \( \delta \) such that \( \gamma = \op{succ}(\delta) \).

    \thmitem{def:successor_ordinal/union} We have \( \bigcup \gamma \in \gamma \).
  \end{thmenum}

  If \( \gamma \) is neither zero nor a successor ordinal, we call it a \term{limit ordinal}.
\end{definition}
\begin{proof}
  \ImplicationSubProof{def:successor_ordinal/successor}{def:successor_ordinal/union} Suppose that \( \gamma = \op{succ}(\delta) \).

  We have
  \begin{balign*}
    \bigcup \gamma
    &=
    \bigcup (\delta \cup \set{ \delta })
    = \\ &=
    \set{ \varepsilon \given \qexists \mu (\mu \in \delta \T{or} \mu = \delta) \T{and} \varepsilon \in \mu }
    \reloset {\eqref{eq:def:semilattice/distributive_lattice/finite/meet_over_join}} = \\ &=
    \set{ \varepsilon \given \qexists \mu (\mu \in \delta \T{and} \varepsilon \in \mu) \T{or} (\mu = \delta \T{and} \varepsilon \in \mu }
    = \\ &=
    \set*{ \varepsilon \given* \parens[\Big]{ \qexists {\mu \in \delta} \varepsilon \in \mu } \T{or} \varepsilon \in \delta }
    = \\ &=
    \parens*{ \bigcup \delta } \cup \delta
    \reloset{ \bigcup \delta \subseteq \delta } = \\ &=
    \delta.
  \end{balign*}

  Thus \( \delta = \bigcup \gamma \in \gamma \).

  \ImplicationSubProof{def:successor_ordinal/union}{def:successor_ordinal/successor} Let \( \bigcup \gamma \in \gamma \). From \fullref{rem:def:ordinal_successor} we have that
  \begin{equation*}
    \op{succ}\parens*{ \bigcup \gamma }
    =
    \set*{ \varepsilon \given* \varepsilon \subseteq \bigcup \gamma }
    =
    \set{ \varepsilon \given \varepsilon \subsetneq \gamma }
    =
    \gamma.
  \end{equation*}
\end{proof}

\begin{remark}\label{rem:transfinite_induction}
  It is sometimes efficient to reformulate transfinite induction and recursion. Although analogous principles hold for \fullref{thm:bounded_transfinite_induction} and \fullref{thm:bounded_transfinite_recursion}, we will only demonstrate them for \fullref{thm:transfinite_induction}. The original statement is that in order to prove that some formula is satisfied for all sets, it is sufficient to only prove one inductive step.

  More precisely, let \( \varphi \) be a formula in the language of set theory, let \( \mscrV = (V, I) \) be a \hyperref[rem:standard_model_of_set_theory]{standard} \hyperref[rem:transitive_model_of_set_theory]{transitive} model of set theory and let \( v: \boldop{Var} \to V \) be some variable assignment. This allows us to fix any parameters that would otherwise be present in the induction schema. We will say that the set \( A \) satisfies \( \varphi \) if \( \Bracks{v_{\xi \mapsto A}} = T \).

  \Fullref{thm:transfinite_induction} states that in order to prove that \( \varphi \) holds for any ordinal, the following is sufficient:
  \begin{thmenum}[series=rem:transfinite_induction]
    \thmitem{rem:transfinite_induction/single_inductive_step} For every ordinal \( \gamma \), by assuming that every smaller ordinal satisfies \( \varphi \), we must prove that \( \gamma \) does.
  \end{thmenum}

  We have just defined in \fullref{def:successor_ordinal} three mutually exclusive types of ordinals. We can now restate the principles of transfinite induction as follows:
  \begin{thmenum}[resume=rem:transfinite_induction]
    \thmitem{rem:transfinite_induction/base_case} In the \term{base case}, we must prove that \( 0 \) satisfies \( \varphi \).

    \thmitem{rem:transfinite_induction/successor_case} In the \term{successor case}, by assuming that \( \gamma \) satisfies \( \varphi \), we must prove that \( \op{succ}(\gamma) \) does. It is in line with \fullref{thm:transfinite_induction} assume that every ordinal smaller that or equal to \( \gamma \) satisfies \( \varphi \), however it is often enough to do so only for \( \gamma \) itself.

    \thmitem{rem:transfinite_induction/limit_case} In the \term{limit case}, if \( \lambda \) is a limit ordinal, by assuming that every smaller ordinal satisfies \( \varphi \) we must prove that \( \lambda \) satisfies \( \varphi \).
  \end{thmenum}

  We must note that \fullref{rem:transfinite_induction/limit_case} is essentially the same as the single inductive step \fullref{rem:transfinite_induction/single_inductive_step} except that it is restricted to limit ordinals. The reasoning for this is that the proofs for zero and every successor ordinal can be different from those for limit ordinals.

  See \fullref{thm:ordinal_bijection_and_choice} and \fullref{def:cumulative_hierarchy} for concrete examples.
\end{remark}

\begin{theorem}[Structural recursion]\label{thm:structural_recursion}
  The most general recursion we will consider is \term{structural recursion}. See \fullref{thm:structural_recursion} for its corresponding induction principle.

  Let \( X \) be a set and let \( T: \pow(X) \to \pow(X) \) be a transformation. Then \( T \) has a \hyperref[def:partially_ordered_set_extremal_points/maximum_and_minimum]{smallest} \hyperref[def:fixed_point]{fixed point}. That is, there exists a unique subset \( A_0 \subseteq X \) such that \( T(A_0) = A_0 \) and no proper subset of \( A_0 \) has this property.

  See \fullref{rem:structural_recursion_and_induction} for how this theorem is used.
\end{theorem}
\begin{proof}
  The result follows by applying \fullref{thm:knaster_tarski_theorem} to the \hyperref[thm:boolean_algebra_of_subsets]{Boolean algebra of all subsets} of \( X \) with \( R(A) \coloneqq A \cup T(A) \) as the monotone operator.
\end{proof}

\begin{remark}\label{rem:structural_recursion_and_induction}
  We will show how \fullref{thm:structural_recursion} is used in practice and will introduce an induction principle. Unlike the other induction principles we have considered, this one is meaningless without a recursively constructed set and cannot be formulated as easily.

  Let \( \mscrF \) be a set of functions, where each function \( f \) has a signature \( f: X^{\mscrK_f} \to X \) for some set \( \mscrK_f \). Thus \( \mscrF \) may include:
  \begin{itemize}
    \item Constant functions, i.e. \( f: X^0 \to X \) which contain only a single member of \( X \) in their image.
    \item Unary functions, i.e. \( f: X \to X \).
    \item Other finitary functions, i.e. \( f: X^n \to X \) for some \( n \in \mscrN \).
    \item Functions with sequences as arguments, i.e. \( f: X^\BbbN \to X \).
    \item Functions with uncountably many arguments, e.g. \( f: X^\BbbR \to X \).
  \end{itemize}

  Define the operator
  \begin{equation*}
    \begin{aligned}
      &T: \pow(X) \to \pow(X) \\
      &T(A) \coloneqq \set*{ x \in X \given \qexists{f \in \mscrF} \qexists{\seq{ x_k }_{k \in \mscrK_k} \subseteq A} f(\seq{ x_k }_{k \in \mscrK_f}) = x }.
    \end{aligned}
  \end{equation*}

  Now we can use \fullref{thm:structural_recursion} to obtain the smallest fixed point \( A_0 \) of \( T \). This set \( A_0 \) is now closed under all the functions in \( \mscrF \), i.e. \( f\parens*{ A_0^{\mscrK_f} } \subseteq A_0 \) for any \( f \in \mscrF \).

  If for some member \( x \in A_0 \) there exists a function \( f: X^{\mscrK_f} \to X \) and arguments \( \seq{ x_k }_{k \in \mscrK_f} \) such that \( f(\seq{ x_k }_{k \in \mscrK_f}) = x \), we say that \( x \) is \term{derived}. If a derived member \( x \) can be derived uniquely, that is if both the function \( f \) and its arguments are unique, we say that \( x \) is \term{uniquely derived}.

  The \term{base} members of \( A_0 \) are defined as those which are not derived. We can technically avoid base members entirely by encoding them as constant functions instead but we choose not to do it.

  If all derived members are uniquely derived, we can perform induction on \( A_0 \). Otherwise we have to introduce additional sanity checks, which will only complicate us. Let \( \varphi \) be a formula of \logic{ZFC} with a single free variable \( \xi \). Structural induction is performed as follows:
  \begin{thmenum}
    \thmitem{rem:structural_recursion_and_induction/base_step} The base step is to prove that \( \varphi\Bracks{x} = T \) for every base member \( x \).
    \thmitem{rem:structural_recursion_and_induction/inductive_step} The inductive step is to fix a derived member \( x = f(\seq{ x_k }_{k \in \mscrK_f}) \), suppose that \( \varphi\Bracks{x_k} = T \) for every \( k \in \mscrK \) and prove that this entails \( \varphi\Bracks{x} \).

    \thmitem{rem:structural_recursion_and_induction/conclusion} We have now shown that \( \varphi\Bracks{x} = T \) for all members \( x \) of \( A_0 \), both base and uniquely derived members.

    Note that if \( x \) is derived but not uniquely derived, we may be able to prove \( \varphi\Bracks{x} \) using one derivation of \( x \) and the negation \( \neg\varphi\Bracks{x} \) using another derivation, which would lead to a contradiction.
  \end{thmenum}

  In \fullref{subsec:first_order_satisfiability}, for example, we use structural recursion to define first-order substitution in \fullref{def:first_order_substitution} and then use structural induction to prove certain semantic equivalences like \fullref{thm:renaming_assignment_compatibility} and \fullref{thm:first_order_substitution_equivalence}.
\end{remark}

\begin{remark}\label{rem:induction}
  \term{Mathematical induction} is a very valuable proof technique for universal statements. The proof of \fullref{thm:nonzero_natural_numbers_have_predecessors} contains remarks regarding its usage and its difference from deduction principles that are formalized via \hyperref[def:proof_derivation_system]{proof derivation systems}. Although it is a logical tool, this remark belongs to this section because it contains several induction and recursion principles.

  More generally, given a \hyperref[def:first_order_formula]{first-order formula} \( \varphi \) over some \hyperref[def:first_order_syntax]{first-order language}, certain \hyperref[def:first_order_theory]{logical theories} allow us to prove indirectly \( \qforall \xi \varphi[\xi \mapsto \eta] \) by proving simpler statements (\fullref{def:peano_arithmetic/PA3} contains very important remarks regarding the free variables of \( \varphi \)). This can be done in cases where every \hyperref[def:first_order_semantics/satisfiability]{model} \( \mscrX = (X, I) \) of the theory allows us to exhaust its universe \( X \) in a small finite number of steps. We can sometimes use the same steps to instead build objects. The latter principles is called \term{recursion}.

  It should be noted that induction and recursion are used interchangeably in the literature, especially regarding \hyperref[rem:structural_recursion_and_induction]{structural induction}, however we will aim to distinguish between the two.

  Not much more can be said at this level of generality so we list several induction principles and give examples of their usage:
  \begin{thmenum}
    \thmitem{rem:induction/peano_arithmetic} The most basic induction principles is the (weak) natural number induction. It is best described via the axiom schema \eqref{eq:def:peano_arithmetic/PA3}. \Fullref{thm:nonzero_natural_numbers_have_predecessors} contains detailed commentary regarding its usage and most of the proofs in \fullref{sec:natural_numbers} are performed inductively.

    It its set-theoretic form \fullref{thm:omega_induction} it is important as a tool for introducing a model of Peano arithmetic. It is used directly for proving \fullref{thm:omega_is_transitive} and \fullref{thm:omega_recursion}. It is essentially the same as \fullref{rem:transfinite_induction} without \fullref{rem:transfinite_induction/limit_case}.

    \Fullref{thm:omega_recursion} is an important standalone tool that allows us to perform recursive definitions for natural numbers. The latter is used, often implicitly, in a great variety of places, from the ability to define natural number operations in \fullref{def:omega_operations} to the definition of magma exponentiation in \fullref{def:magma/exponentiation}. \Fullref{rem:natural_number_recursion} contains notes regarding its practical usage.

    \thmitem{rem:induction/well_founded} A vast generalization of natural number induction is \fullref{thm:well_founded_induction}. It is stated in a very general setting but is not frequently used. It can be used to prove \fullref{thm:epsilon_induction}, which however is even less frequently used. We do not use neither in practice, however the special case where \( \mscrX = \BbbN \) is called strong induction on natural numbers.

    The usual (weak) natural number induction which is performed by proving the statement for \( 0 \) and then proceeding to prove it for \( n + 1 \) by assuming that it holds for \( n \). Strong induction instead has no base cases and is performed by proving a statement for \( n \) by assuming that it holds for all natural numbers strictly smaller than \( n \).

    Well-founded induction and epsilon-induction have no corresponding recursion principle.

    \thmitem{rem:induction/transfinite} Another vast generalization of natural number induction is \fullref{thm:bounded_transfinite_induction}, which is further generalized by \fullref{thm:transfinite_induction}.

    Both principles are used to prove fundamental properties of the ordinals. Outside of set theory, transfinite induction is immensely useful but it is rarely used directly. Instead, it is usually combined with the \hyperref[def:zfc/choice]{axiom of choice} via \fullref{thm:zorns_lemma}. \Fullref{rem:transfinite_induction} contains notes on how it is used directly.

    Only bounded transfinite induction has a corresponding recursion principle --- \fullref{thm:bounded_transfinite_recursion}. Unbounded transfinite induction cannot define such a principle because that would easily lead to \fullref{thm:burali_forti_paradox}.

    Transfinite recursion is used to construct the cumulative hierarchy in \fullref{def:cumulative_hierarchy}.

    \thmitem{rem:induction/structural} A very general recursion principle is \fullref{thm:structural_recursion}. It is explained in \fullref{rem:structural_recursion_and_induction} how structural recursion is used and how in certain cases it leads to an induction principle.

    Within this document structural induction and recursion are mostly used for defining \hyperref[def:propositional_syntax/formula]{propositional} and \hyperref[def:first_order_syntax/formula]{first-order formulas} and proving their properties in \fullref{sec:mathematical_logic}.
  \end{thmenum}
\end{remark}

\begin{proposition}\label{thm:ordinal_isomorphism}
  Two ordinals are equal if and only if they are order-isomorphic.
\end{proposition}
\begin{proof}
  \SufficiencySubProof Trivial.

  \NecessitySubProof Let \( \gamma \) and \( \delta \) be two ordinals. The case \( \gamma = \delta \) is clear. Without loss of generality, suppose that \( \delta < \gamma \). \Fullref{thm:ordinal_ordering_via_subsets} implies that \( \delta \subsetneq \gamma \).

  Let \( f: \gamma \to \delta \) be an order isomorphism. Let \( \varepsilon_0 \) be the smallest value in \( \gamma \setminus \delta \).

  From \fullref{thm:well_ordered_monomorphism_values} it follows that \( \varepsilon_0 \leq f(\varepsilon_0) \). But \( f(\varepsilon_0) \in \delta \), hence \( \varepsilon_0 < \delta \). But this contradicts our choice of \( \varepsilon_0 \) as a member of \( \gamma \setminus \delta \).

  Therefore \( \varepsilon_0 \in \delta \). Since \( \varepsilon_0 \) was arbitrary, we conclude that \( \delta < \gamma \) leads to a contradiction.

  We can obtain an analogous contradiction for \( \gamma < \delta \), hence it only remains possible for \( \gamma \) and \( \delta \) to be equal.
\end{proof}

\begin{theorem}[Hartogs' lemma]\label{thm:hartogs_lemma}
  For every set \( A \) there exists an ordinal \( \gamma \) such that no function from \( \gamma \) to \( A \) is injective.
\end{theorem}
\begin{proof}
  Define the set
  \begin{equation*}
    W \coloneqq \set{ (\mscrP, \leq) \given \mscrP \subseteq A \T*{and} \leq \T*{well-orders} \mscrP }.
  \end{equation*}

  Let \( \delta \) be an ordinal for which there exists an injective function \( f: \delta \to A \). At least one such pair of a ordinal and function exists because \( \varnothing: 0 \to A \) is an injective function.

  The image of \( f \) can be well-ordered by
  \begin{equation*}
    f(\mu) < f(\varepsilon) \T{if and only if} \mu \in \varepsilon,
  \end{equation*}
  where \( \mu \) and \( \varepsilon \) are members of \( \delta \). Thus if we restrict the range of \( f \) to its image, it would be an explicit order isomorphism of \( (\delta, \in) \) and \( (\img f, <) \).

  We have shown that every ordinal \( \delta \) and every injective function \( f: \delta \to A \) induces a well-ordered set which belongs to \( W \). Furthermore, if \( f_1: \delta_1 \to A \) and \( f_2: \delta_2 \to A \) are two such injective functions and if the induced well-ordered sets \( (\img f_1, \leq_1) \) and \( (\img f_2, \leq_2) \) are order isomorphic, then \( \delta_1 \) and \( \delta_2 \) are themselves order isomorphic and thus \( \delta_1 = \delta_2 \) by \fullref{thm:ordinal_isomorphism}.

  Therefore for any well-ordered set in \( W \) there exists at most one ordinal that induces it via some function. Let \( W' \) be the subset of all well-ordered sets in \( W \) induced by exactly one ordinal.

  We have that \( W' \) is a set and for each member of \( W' \) there corresponds exactly one ordinal. It follows from the \hyperref[def:zfc/replacement]{axiom schema of replacement} that these ordinals form a set. Denote this set by \( B \).

  There is no set of all ordinals by \fullref{thm:burali_forti_paradox}, hence there must exist an ordinal not in \( B \). But every ordinal that has an injective function into \( A \) belongs to \( B \). Hence there exists some ordinal \( \gamma \) such that no function from \( \gamma \) to \( A \) is injective.
\end{proof}

\begin{lemma}\label{thm:ordinal_bijection_and_choice}\mcite{MathSE:order_type_existence}
  Let \( A \) be a nonempty set and let \( c \) be a \hyperref[def:choice_function]{choice function} on \( A \). Then there exists an ordinal \( \gamma \) and a bijection between \( A \) and \( \gamma \).
\end{lemma}
\begin{proof}
  We will explicitly build the desired ordinal. We will use \fullref{thm:bounded_transfinite_recursion} in its structured form presented in \fullref{rem:transfinite_induction} to build a \hyperref[def:transfinite_sequence]{transfinite sequence} of injective maps from ordinals into \( A \).

  Let \( \mu \) be the smallest ordinal such that no function from \( \mu \) to \( A \) is injective. At least one such ordinal exists by \fullref{thm:hartogs_lemma}. Note that \( \mu \) cannot be zero because the empty function is always injective.

  Any smaller than \( \mu \) ordinal has at least one injective function into \( A \). We will use recursion bounded by \( \mu \) to construct a \hyperref[def:transfinite_sequence]{transfinite sequence} \( \seq{ \iota_\delta }_{\delta < \mu} \) satisfying the invariant that for any \( \delta \in \mu \), the function \( \iota_\delta \) is injective and strictly contains \( \iota_\varepsilon \) for any \( \varepsilon < \delta \).

  \begin{itemize}
    \item The zero ordinal has only one possible injective function into \( A \), namely the empty function \( \varnothing: 0 \to \mscrP \).

    \item Now let \( \iota_\delta: \delta \to A \) be an injective function.

    If \( \iota_\delta \) is surjective, then it is the desired bijection and the rest of the construction is irrelevant.

    If \( \iota_\delta \) is not surjective, define
    \begin{equation*}
      \begin{aligned}
        &\iota_{\op{succ}(\delta)}: \op{succ}(\delta) \to \mscrP \\
        &\iota_{\op{succ}(\delta)}(\varepsilon) \coloneqq \begin{cases}
          \iota_\delta(\varepsilon),         &\varepsilon < \delta \\
          c(A \setminus \img(\iota_\delta)), &\varepsilon = \delta.
        \end{cases}
      \end{aligned}
    \end{equation*}

    This function is clearly injective.

    \item Let \( \lambda \) be a limit ordinal and let \( \iota_\delta \) be an injective function for any \( \delta < \lambda \). Note that the domain of \( \iota_\delta \) is not necessarily \( \delta \) --- it may be a smaller ordinal \( \varepsilon \) in case \( \iota_\varepsilon \) is surjective (and thus the desired bijection).

    In any case, we have a family \( \set{ \iota_\delta }_{\delta < \lambda} \) of functions such that \( \iota_\varepsilon \subseteq \iota_\delta \) if and only if \( \varepsilon < \delta \). We simply take their union
    \begin{equation*}
      \iota_\lambda \coloneqq \bigcup \set{ \iota_\delta \given \delta < \lambda }.
    \end{equation*}

    This function is injective because each of the constituent functions it injective.
  \end{itemize}

  We will now thoroughly build the order isomorphism itself.

  Let \( \gamma \leq \mu \) be the (nonstrict) initial segment of \( \mu \) such that \( \iota_\delta \) is fully defined on \( \delta \) for every \( \delta \in \gamma \). More precisely, let
  \begin{equation*}
    \gamma \coloneqq \set{ \delta \in \mu \given \dom(\iota_\delta) = \delta }.
  \end{equation*}

  We will show that \( \gamma \) is a successor ordinal. Note that \( \gamma \) cannot be zero because \( \dom(\iota_0) = \varnothing = 0 \). Aiming at a contradiction, assume that \( \gamma \) is a limit ordinal.

  Since for every \( \delta \in \gamma \) the value \( \iota_{\op{succ}(\delta)}(\delta) \) is defined, we can conclude that the union
  \begin{equation*}
    \bigcup\set{ \iota_\delta \given \delta \in \gamma }
  \end{equation*}
  is an injective function from \( \gamma \) to \( A \).

  If \( \gamma = \mu \), this contradicts our choice of \( \mu \). If \( \gamma \in \mu \), this means that the function \( \iota_\gamma \) is equal to \( \iota_\varepsilon \) for some \( \varepsilon < \gamma \). But then \( \iota_{\op{succ}(\varepsilon)} \) is not defined on the entirely of \( \varepsilon \). This implies that \( \varepsilon \geq \gamma \), which contradicts our assumption that \( \varepsilon < \gamma \).

  Therefore \( \gamma \) cannot be a limit ordinal. It remains for \( \gamma \) to be a successor ordinal. Then there exists \( \delta \) such that \( \gamma = \op{succ}(\delta) \).

  Suppose that \( \iota_\delta \) is not surjective. We can then construct \( \iota_{\op{succ}(\delta)} \) as in the corresponding recursion step. This will be an injective function from \( \gamma = \op{succ}(\delta) \) to \( A \). But then we would have \( \gamma \in \gamma \), which contradicts \fullref{thm:simple_foundation_theorems/member_of_itself}.

  Therefore \( \iota_\delta \) is a surjective function.
\end{proof}

\begin{proposition}\label{thm:well_ordered_order_type_existence}
  Any \hyperref[def:well_ordered_set]{well-ordered set} \( (\mscrP, \leq) \) is \hyperref[def:partially_ordered_set/homomorphism]{order-isomorphic} to a unique ordinal. This ordinal is called the \term{order type} of \( (\mscrP, \leq) \) and is denoted by \( \ord(\mscrP, \leq) \) or simply \( \ord(\mscrP) \).
\end{proposition}
\begin{proof}
  For \( \mscrP = \varnothing \), then the empty function \( \iota: 0 \to \mscrP \) is the desired isomorphism.

  We use \fullref{thm:ordinal_bijection_and_choice} on \( \mscrP \) with the choice function
  \begin{equation*}
    \begin{aligned}
      &c: \pow(\mscrP) \setminus \set{ \varnothing } \to \mscrP \\
      &c(B) \coloneqq \min B
    \end{aligned}
  \end{equation*}
  to obtain an ordinal \( \gamma \) and a bijection \( \iota: \gamma \to \mscrP \).

  The function \( \iota \) is directly verified to be an order embedding in each of the recursion cases. Therefore \( \iota \) is a bijective order homomorphism and it follows from \fullref{thm:totally_ordered_strict_isomorphisms} that \( \iota \) is an order isomorphism.
\end{proof}

\begin{theorem}[Zermelo's well-ordering theorem]\label{thm:well_ordering_theorem}\mcite[thm. 69.6]{OpenLogicFull}
  Any \hyperref[def:set]{set} can be \hyperref[def:well_ordered_set]{well-ordered}.

  In \hyperref[def:zfc]{\logic{ZF}} this theorem is equivalent to the \hyperref[def:zfc/choice]{axiom of choice} --- see \fullref{thm:axiom_of_choice_equivalences/well_ordering}.
\end{theorem}
\begin{proof}
  \ImplicationSubProof[def:zfc/choice]{axiom of choice}[thm:well_ordering_theorem]{well-ordering theorem} The empty set is trivially well-ordered.

  Let \( A \) be any nonempty set. By the axiom of choice, there exists a \hyperref[def:choice_function]{choice function} \( c \) for \( A \). We use \fullref{thm:ordinal_bijection_and_choice} on \( A \) and \( c \) to obtain an ordinal \( \gamma \) and a bijection \( \iota: \gamma \to A \). Since \( \gamma \) itself is well-ordered, then the relation
  \begin{equation*}
    x <_A y \T{if and only if} \iota^{-1}(x) <_\gamma \iota^{-1}(y)
  \end{equation*}
  defines a well-order on \( A \).

  \ImplicationSubProof[thm:well_ordering_theorem]{well-ordering theorem}[def:zfc/choice]{axiom of choice} Let \( A \) be any set and suppose that \( < \) well orders \( A \).

  Define the function
  \begin{equation*}
    \begin{aligned}
      &c: \pow(A) \setminus \set{ \varnothing } \to A \\
      &c(B) \coloneqq \min B.
    \end{aligned}
  \end{equation*}

  In the case where \( A \) is the empty set, \( c \) is the empty function.

  It is clear that \( c(B) \in B \) for every subset \( B \) of \( A \). Therefore \( c \) is a choice function for \( A \).
\end{proof}

\begin{definition}\label{def:disjoint_union}
  The \term{disjoint union} of the \hyperref[def:indexed_family]{indexed family} \( \seq{ A_k }_{k \in \mscrK} \) of nonempty sets is
  \begin{equation*}
    \bigsqcup_{k \in \mscrK} A_k \coloneqq \set[\Big]{ (k, x) \given k \in \mscrK \T{and} x \in A_k }.
  \end{equation*}
\end{definition}

\begin{definition}\label{def:ordinal_arithmetic}
  Fix two ordinals \( \gamma \) and \( \delta \). We will define arithmetic operations for them.

  \begin{thmenum}
    \thmitem{def:ordinal_arithmetic/sum} We define their \term{sum} as
    \begin{equation*}
      \gamma + \delta \coloneqq \ord(\gamma \sqcup \delta, \prec),
    \end{equation*}
    where \( (\varepsilon_1, k_1) \prec (\varepsilon_2, k_2) \) if either \( k_1 < k_2 \) or both \( k_1 = k_2 \) and \( \varepsilon_1 < \varepsilon_2 \).

    \thmitem{def:ordinal_arithmetic/product} We define their \term{product} as
    \begin{equation*}
      \gamma \cdot \delta \coloneqq \ord(\gamma \times \delta),
    \end{equation*}
    where \( (\varepsilon_1, \mu_1) \prec (\varepsilon_2, \mu_2) \) if either \( \varepsilon_1 < \varepsilon_2 \) or both \( \varepsilon_1 = \varepsilon_2 \) and \( \mu_1 < \mu_2 \).

    \thmitem{def:ordinal_arithmetic/exponentiation} We define \term{exponentiation} as
    \begin{equation*}
      \gamma^\delta \coloneqq \ord\parens[\Big]{ \set[\Big]{ f: \delta \to \gamma \given \qexists {n \in \omega} \rank(f^{-1}(0)) = n } },
    \end{equation*}
    where \( f \prec g \) if \( f(\varepsilon_0) < g(\varepsilon_0) \) for \( \varepsilon_0 \coloneqq \max\set{ \varepsilon \in \delta \given f(\varepsilon) \neq g(\varepsilon) } \).
  \end{thmenum}
\end{definition}

\begin{proposition}\label{thm:ordinal_arithmetic_properties}
  Ordinal arithmetic has the following basic properties.

  \begin{thmenum}
    \thmitem{thm:ordinal_arithmetic_properties/addition}\mcite[lemma 66.7]{OpenLogicFull} Ordinal addition is associative and cancellative.

    \medskip

    \thmitem{thm:ordinal_arithmetic_properties/addition_commutativity}\mcite[prop. 66.8]{OpenLogicFull} Ordinal addition is not commutative.

    \medskip

    \thmitem{thm:ordinal_arithmetic_properties/multiplication}\mcite[lemma 66.14]{OpenLogicFull} Ordinal multiplication is associative and cancellative and distributes over addition.

    \medskip

    \thmitem{thm:ordinal_arithmetic_properties/multiplication_commutativity}\mcite[prop. 66.15]{OpenLogicFull} Ordinal multiplication is not commutative.
  \end{thmenum}
\end{proposition}
