\subsection{Modules}\label{subsec:modules}

\begin{definition}\label{def:module}
  A \term{module} is a \hyperref[def:semimodule]{semimodule} over a \hyperref[def:ring]{ring} rather than a \hyperref[def:semiring]{semiring}.

  This makes the identity law \eqref{eq:def:semimodule/operation/scalar_multiplication_action/identity} redundant.

  Modules have the following metamathematical properties:
  \begin{thmenum}
    \thmitem{def:module/theory} The first-order theory is identical to the \hyperref[def:semimodule/theory]{theory of semimodules}.

    \thmitem{def:module/homomorphism} A \hyperref[def:first_order_homomorphism]{first-order homomorphism} between two \( R \)-modules \( M \) and \( N \) is simply a \hyperref[def:semimodule/homomorphism]{linear map}.

    \thmitem{def:module/submodel} The set \( A \subseteq M \) is a \hyperref[thm:substructure_is_model]{submodel} of \( M \) if it is a sub-semimodule of \( M \), i.e. a subgroup of \( M \) that is closed under scalar multiplication. We say that \( A \) is a \term{submodule} of \( M \).

    As a consequence of \fullref{thm:positive_formulas_preserved_under_homomorphism}, the image of a module homomorphism is a submodule of its range.

    \thmitem{def:module/trivial} The \hyperref[thm:substructures_form_complete_lattice/bottom]{trivial} module is the \hyperref[def:pointed_set/trivial]{trivial pointed set} \( \set{ 0 } \).

    \thmitem{def:semimodule/bimodule} A \term{bimodule} is simply a \hyperref[def:semimodule/bisemimodule]{bisemimodule} over a ring.

    \thmitem{def:module/category} For a fixed ring \( R \), we denote the \hyperref[def:category_of_small_first_order_models]{category of \( \mscrU \)-small models} by \( \ucat{Mod}_R \).

    It is a very well-behaved category, even more than the category \hyperref[def:group/category]{\( \ucat{Grp} \)} of \( \mscrU \)-small groups.
    \begin{itemize}
      \item The trivial module \( \set{ 0 } \) is a zero object. Therefore, we can define kernels and cokernels, and cokernels for modules are particularly simple.

      \item The \hyperref[def:free_semimodule]{free semimodules} over a ring are modules, and \fullref{thm:free_semimodule_universal_property} ensures that this is left adjoint to the forgetful functor \( U: \ucat{Mod}_R \to \ucat{Set} \). Therefore, by \fullref{thm:first_order_categorical_invertibility}, the monomorphisms are exactly the injective homomorphisms, and that the \hyperref[def:subobject_and_quotient]{categorical subobjects} correspond to submodules.

      \item Every epimorphism in \( \ucat{Mod}_R \) is surjective. This will be proved in \fullref{thm:module_epimorphisms_are_surjective}. Along with \fullref{thm:group_epimorphisms_are_normal}, this shows that the \hyperref[def:subobject_and_quotient]{categorical quotient objects} correspond to \hyperref[def:module/quotient]{quotient modules}, which we will define shortly.
    \end{itemize}

    \thmitem{def:module/kernel} The \term{kernel} of an \( R \)-module homomorphism \( \varphi: M \to N \) is its \hyperref[def:zero_locus]{zero locus} \( \varphi^{-1}(0_N) \). This is a submodule of \( M \). It is precisely the kernel of the underlying group in the sense of \fullref{def:group/kernel}, and the \hyperref[def:zero_morphisms/cokernel]{categorical kernel} in the category of modules.

    \thmitem{def:module/quotient} The \hyperref[def:zero_morphisms/cokernel]{categorical cokernel} of an \( R \)-homomorphism \( \varphi: M \to N \) in the category \( \cat{Mod}_R \) is simply the additive \hyperref[def:group/quotient]{quotient group} \( N / \img \varphi \). The quotient group is again a module over \( R \) because \( N \) is closed under scalar multiplication and, for every coset \( x + N \),
    \begin{equation*}
      r(x + N) = rx + rN = rx + N
    \end{equation*}
    is again a coset in \( N / \img \varphi \).

    In particular, given a submodule \( N \) of \( M \), we can form the \term{quotient module} \( M / N \). In practice, quotients are conveniently characterized by \fullref{thm:quotient_module_universal_property}.

    \thmitem{def:module/simple} Analogously to \hyperref[def:group/simple]{simple groups}, if the only proper \hyperref[def:module/submodel]{submodule} of \( R \) is the \hyperref[def:module/trivial]{trivial module} \( \set{ 0_M } \), we say that \( M \) is a \term{simple module}.

    The trivial module itself is not simple, because it has no proper ideals.
  \end{thmenum}
\end{definition}

\begin{proposition}\label{thm:abelian_group_is_module}
  We have an \hyperref[rem:category_similarity/isomorphism]{isomorphism of categories} \( \hyperref[def:abelian_group]{\cat{Ab}} \cong \hyperref[def:module]{\cat{Mod}_\BbbZ} \).

  More concretely, every abelian group \( G \) is a left semimodule over \( \BbbZ \) with scalar multiplication given by \hyperref[rem:additive_magma/multiplication]{recursively defined multiplication}
  \begin{equation}\label{eq:thm:abelian_group_is_module/operation}
    \begin{aligned}
      &\cdot: \BbbZ \times G \to G \\
      &n \cdot x \coloneqq \begin{cases}
        0_G,           &n = 0, \\
        n \cdot x + x, &n > 1, \\
        -(n \cdot x),  &n < 1.
      \end{cases}
    \end{aligned}
  \end{equation}

  Conversely, in every semimodule over \( \BbbZ \), scalar multiplication matches the recursively defined multiplication.

  Compare this result to \fullref{thm:commutative_monoid_is_semimodule}.
\end{proposition}
\begin{proof}
  Simple refinement of \fullref{thm:commutative_monoid_is_semimodule}.
\end{proof}

\begin{theorem}[Quotient module universal property]\label{thm:quotient_module_universal_property}
  For every \( R \)-\hyperref[def:module]{module} \( M \) and every submodule \( N \) of \( M \), the \hyperref[def:module/quotient]{quotient module} \( R / I \) has the following \hyperref[rem:universal_mapping_property]{universal mapping property}:
  \begin{displayquote}
    Every \( R \)-module homomorphism \( \varphi: M \to K \) satisfying \( N \subseteq \ker \varphi \) \hyperref[def:factors_through]{uniquely factors through} \( M / N \). That is, there exists a unique \( R \)-module homomorphism \( \widetilde{\varphi}: M / N \to K \), such that the following diagram commutes:
    \begin{equation}\label{eq:thm:quotient_module_universal_property/diagram}
      \begin{aligned}
        \includegraphics[page=1]{output/thm__quotient_module_universal_property.pdf}
      \end{aligned}
    \end{equation}

    In the case where \( N = \ker \varphi \), \( \widetilde{\varphi} \) is an \hyperref[def:first_order_homomorphism_invertibility/embedding]{embedding}.
  \end{displayquote}

  Compare this result to \fullref{thm:quotient_group_universal_property} and \fullref{thm:quotient_algebra_universal_property}.
\end{theorem}
\begin{proof}
  Simple refinement of \fullref{thm:quotient_group_universal_property}.
\end{proof}

\begin{theorem}[Quotient submodule lattice theorem]\label{thm:quotient_submodule_lattice_theorem}
  Given a \hyperref[def:module/submodel]{submodule} \( N \) of \( M \), the function \( K \mapsto K / N \) is a \hyperref[def:semilattice/homomorphism]{lattice isomorphism} between the lattice of submodules of \( M \) containing \( N \) and the lattice of submodules of the \hyperref[def:module/quotient]{quotient} \( M / N \).

  Compare this result to \fullref{thm:quotient_subgroup_lattice_theorem} and \fullref{thm:quotient_ideal_lattice_theorem}.
\end{theorem}
\begin{proof}
  Simple refinement of \fullref{thm:quotient_subgroup_lattice_theorem}.
\end{proof}

\begin{proposition}\label{thm:module_epimorphisms_are_surjective}
  Every \hyperref[def:morphism_invertibility/right_cancellative]{epimorphism} in \hyperref[def:group/category]{\( \cat{Mod}_R \)} is \hyperref[def:function_invertibility/surjective]{surjective}.
\end{proposition}
\begin{proof}
  Let \( \varphi: M \to N \) be an \( R \)-module epimorphism. Consider the canonical projection \( \pi: N \to N / \img \varphi \) and the zero morphism \( z: N \to N / \img \varphi \). Clearly
  \begin{equation*}
    \pi \bincirc \varphi = z \bincirc \varphi,
  \end{equation*}
  and thus \( \pi = z \) is the zero morphism.

  By, \fullref{thm:def:group/kernel_cokernel_compatibility}, \( \ker \pi = \img \varphi \), and since \( \ker \pi = N \), it follows that \( \varphi \) is a surjective function.
\end{proof}

\begin{definition}\label{def:module_presentation}
  A \term{presentation} of the \( R \)-\hyperref[def:module]{module} \( M \) is an \hyperref[def:module/homomorphism]{epimorphism} \( \varphi: R^A \to M \), where \( R^A \) is a \hyperref[def:free_semimodule]{free semimodule}.

  By \fullref{thm:quotient_module_universal_property},
  \begin{equation*}
    M = \img \varphi \cong R^A / \ker \varphi.
  \end{equation*}

  Analogously to \hyperref[def:group_presentation]{group presentations}, we say that \( M \) is finitely generated/related/presented if there exists an appropriate presentation.
\end{definition}

\begin{definition}\label{def:linear_dependence}\mimprovised
  Let \( M \) be an \( R \)-\hyperref[def:module]{module} and fix a subset \( B \subseteq M \). We say that the elements of \( B \) are \term{linearly independent} if any of the following conditions hold:

  \begin{thmenum}
    \thmitem{def:linear_dependence/direct} A \hyperref[def:linear_combination]{linear combination} of \( B \) sums to zero if and only if it is \hyperref[def:linear_combination/trivial]{trivial}.

    \thmitem{def:linear_dependence/evaluation} The \hyperref[def:linear_combination]{linear combination} evaluation map
    \begin{equation*}
      \begin{aligned}
        &\Phi_B: R^{\oplus B} \to M \\
        &\Phi_B( \seq{ t_b }_{b \in B} ) \coloneqq \sum_{b \in B} t_b b
      \end{aligned}
    \end{equation*}
    is \hyperref[def:function_invertibility/injective]{injective}.
  \end{thmenum}

  Unsurprisingly, if the elements of \( B \) are not \term{linearly independent}, we say that they are \term{linearly dependent}.
\end{definition}
\begin{defproof}
  \ImplicationSubProof{def:linear_dependence/direct}{def:linear_dependence/evaluation} Suppose that only the trivial linear combination of \( B \) sums to zero. If \( \sum_{b \in B} t_b b = \sum_{b \in B} r_b b \), then
  \begin{equation*}
    \sum_{b \in B} t_b b - \sum_{b \in B} r_b b
    \reloset {\eqref{eq:def:semiring/left_distributivity}} =
    \sum_{b \in B} (t_b - r_b) b
    =
    0,
  \end{equation*}
  implying that \( t_b = r_b \) for every \( b \in B \).

  Hence, \( \Phi_B \) is injective.

  \ImplicationSubProof{def:linear_dependence/evaluation}{def:linear_dependence/direct} Trivial.
\end{defproof}

\begin{definition}\label{def:hamel_basis}\mimprovised
  Let \( M \) be a left \( R \)-\hyperref[def:module]{module} and fix a subset \( B \subseteq M \). We say that \( B \) is a \term{Hamel basis} or simply \term{basis} of \( M \) if any of the following equivalent conditions hold:

  \begin{thmenum}
    \thmitem{def:hamel_basis/independent} It is a \hyperref[thm:span_via_linear_combinations]{generating set} of \hyperref[def:linear_dependence]{linearly independent} elements.

    \thmitem{def:hamel_basis/evaluation} The \hyperref[def:linear_combination]{linear combination} evaluation map
    \begin{equation*}
      \begin{aligned}
        &\Phi_B: R^{\oplus B} \to M \\
        &\Phi_B( \seq{ t_b }_{b \in B} ) \coloneqq \sum_{b \in B} t_b b
      \end{aligned}
    \end{equation*}
    is \hyperref[def:function_invertibility/bijective]{bijective}.

    \thmitem{def:hamel_basis/free} \( M \) is \hyperref[def:semimodule/homomorphism]{linearly isomorphic} to the \hyperref[def:free_semimodule]{free module} \( R^{\oplus B} \).

    It is established terminology to say that \( M \) is a free module.
  \end{thmenum}
\end{definition}
\begin{defproof}
  \ImplicationSubProof{def:hamel_basis/independent}{def:hamel_basis/evaluation} Suppose that \( B \) is a generating set of linearly independent elements.

  \Fullref{def:linear_dependence/evaluation} is satisfied, hence \( \Phi_B \) is injective.

  Furthermore, \( B \) is generating, meaning that \( \linspan B = M \). By \fullref{def:linear_dependence/evaluation}, it is surjective.

  \ImplicationSubProof{def:hamel_basis/evaluation}{def:hamel_basis/free} If \( \Phi_B \) is bijective, then it is a linear isomorphism.

  \ImplicationSubProof{def:hamel_basis/free}{def:hamel_basis/independent} Suppose that \( \Psi: R^{\oplus B} \to M \) is a linear isomorphism. By \fullref{def:linear_dependence/evaluation}, \( \Psi \) is surjective, and hence a generating set of \( M \). Furthermore, it satisfies \fullref{def:linear_dependence/evaluation}, meaning that \( B \) is a linearly independent set.
\end{defproof}

\begin{definition}\label{def:module_dimension}
  The \term{dimension} of a \hyperref[def:module]{module} \( M \) over a \hyperref[def:ring/commutative]{commutative ring} \( R \) is the \hyperref[thm:cardinality_existence]{cardinality} of any \hyperref[thm:cardinality_existence]{basis} of \( M \).
\end{definition}
