\subsection{Modules}\label{subsec:modules}

\begin{definition}\label{def:module}
  A \term{module} is a \hyperref[def:semimodule]{semimodule} over a \hyperref[def:ring]{ring} rather than a \hyperref[def:semiring]{semiring}.

  This makes the identity law \eqref{eq:def:semimodule/operation/scalar_multiplication_action/identity} redundant.

  Modules have the following metamathematical properties:
  \begin{thmenum}
    \thmitem{def:module/theory} The first-order theory is identical to the \hyperref[def:semimodule/theory]{theory of semimodules}.

    \thmitem{def:module/homomorphism} A \hyperref[def:first_order_homomorphism]{first-order homomorphism} between two \( R \)-modules \( M \) and \( N \) is simply a \hyperref[def:semimodule/homomorphism]{linear map}.

    \thmitem{def:module/submodel} The set \( A \subseteq M \) is a \hyperref[thm:substructure_is_model]{submodel} of \( M \) if it is a sub-semimodule of \( M \), i.e. a subgroup of \( M \) that is closed under scalar multiplication. We say that \( A \) is a \term{submodule} of \( M \).

    As a consequence of \fullref{thm:positive_formulas_preserved_under_homomorphism}, the image of a module homomorphism is a submodule of its range.

    \thmitem{def:module/trivial} The \hyperref[thm:substructures_form_complete_lattice/bottom]{trivial} module is the \hyperref[def:pointed_set/trivial]{trivial pointed set} \( \set{ 0 } \).

    \thmitem{def:module/category} For a fixed ring \( R \), we denote the \hyperref[def:category_of_small_first_order_models]{category of \( \mscrU \)-small models} by \( \ucat{Mod}_R \).

    It is a very well-behaved category, even more than the category \hyperref[def:group/category]{\( \ucat{Grp} \)} of \( \mscrU \)-small groups.
    \begin{itemize}
      \item The trivial module \( \set{ 0 } \) is a zero object. Therefore, we can define kernels and cokernels, and cokernels for modules are particularly simple.

      \item The \hyperref[def:free_semimodule]{free semimodules} over a ring are modules, and \fullref{thm:free_semimodule_universal_property} ensures that this is left adjoint to the forgetful functor \( U: \ucat{Mod}_R \to \ucat{Set} \). Therefore, by \fullref{thm:first_order_categorical_invertibility}, the monomorphisms are exactly the injective homomorphisms, and that the \hyperref[def:subobject_and_quotient]{categorical subobjects} correspond to submodules.

      \item Every epimorphism in \( \ucat{Mod}_R \) is surjective. This will be proved in \fullref{thm:module_epimorphisms_are_surjective}. Along with \fullref{thm:group_epimorphisms_are_normal}, this shows that the \hyperref[def:subobject_and_quotient]{categorical quotient objects} correspond to \hyperref[def:module/quotient]{quotient modules}, which we will define shortly.
    \end{itemize}

    \thmitem{def:module/kernel} The \term{kernel} of an \( R \)-module homomorphism \( \varphi: M \to N \) is its \hyperref[def:zero_locus]{zero locus} \( \varphi^{-1}(0_N) \). This is a submodule of \( M \). It is precisely the kernel of the underlying group in the sense of \fullref{def:group/kernel}, and the \hyperref[def:zero_morphisms/cokernel]{categorical kernel} in the category of modules.

    \thmitem{def:module/quotient} The \hyperref[def:zero_morphisms/cokernel]{categorical cokernel} of an \( R \)-homomorphism \( \varphi: M \to N \) in the category \( \cat{Mod}_R \) is simply the additive \hyperref[def:group/quotient]{quotient group} \( N / \img \varphi \). The quotient group is again a module over \( R \) because \( N \) is closed under scalar multiplication and, for every coset \( x + N \),
    \begin{equation*}
      r(x + N) = rx + rN = rx + N
    \end{equation*}
    is again a coset in \( N / \img \varphi \).

    In particular, given a submodule \( N \) of \( M \), we can form the \term{quotient module} \( M / N \). In practice, quotients are conveniently characterized by \fullref{thm:quotient_module_universal_property}.

    \thmitem{def:module/simple} Analogously to \hyperref[def:group/simple]{simple groups}, if the only proper \hyperref[def:module/submodel]{submodule} of \( R \) is the \hyperref[def:module/trivial]{trivial module} \( \set{ 0_M } \), we say that \( M \) is a \term{simple module}.

    The trivial module itself is not simple, because it has no proper ideals.
  \end{thmenum}
\end{definition}

\begin{proposition}\label{thm:abelian_group_is_module}
  We have an \hyperref[rem:category_similarity/isomorphism]{isomorphism of categories} \( \hyperref[def:abelian_group]{\cat{Ab}} \cong \hyperref[def:module]{\cat{Mod}_\BbbZ} \).

  More concretely, every abelian group \( G \) is a left semimodule over \( \BbbZ \) with scalar multiplication given by \hyperref[rem:additive_magma/multiplication]{recursively defined multiplication}
  \begin{equation}\label{eq:thm:abelian_group_is_module/operation}
    \begin{aligned}
      &\cdot: \BbbZ \times G \to G \\
      &n \cdot x \coloneqq \begin{cases}
        0_G,           &n = 0, \\
        n \cdot x + x, &n > 1, \\
        -(n \cdot x),  &n < 1.
      \end{cases}
    \end{aligned}
  \end{equation}

  Conversely, in every semimodule over \( \BbbZ \), scalar multiplication matches the recursively defined multiplication.

  Compare this result to \fullref{thm:commutative_monoid_is_semimodule}.
\end{proposition}
\begin{proof}
  Simple refinement of \fullref{thm:commutative_monoid_is_semimodule}.
\end{proof}

\begin{theorem}[Quotient module universal property]\label{thm:quotient_module_universal_property}
  For every \( R \)-\hyperref[def:module]{module} \( M \) and every submodule \( N \) of \( M \), the \hyperref[def:module/quotient]{quotient module} \( R / I \) has the following \hyperref[rem:universal_mapping_property]{universal mapping property}:
  \begin{displayquote}
    Every \( R \)-module homomorphism \( \varphi: M \to K \) satisfying \( N \subseteq \ker \varphi \) \hyperref[def:factors_through]{uniquely factors through} \( M / N \). That is, there exists a unique \( R \)-module homomorphism \( \widetilde{\varphi}: M / N \to K \), such that the following diagram commutes:
    \begin{equation}\label{eq:thm:quotient_module_universal_property/diagram}
      \begin{aligned}
        \includegraphics[page=1]{output/thm__quotient_module_universal_property.pdf}
      \end{aligned}
    \end{equation}

    In the case where \( N = \ker \varphi \), \( \widetilde{\varphi} \) is an \hyperref[def:first_order_homomorphism_invertibility/embedding]{embedding}.
  \end{displayquote}

  Compare this result to \fullref{thm:quotient_group_universal_property} and \fullref{thm:quotient_algebra_universal_property}.
\end{theorem}
\begin{proof}
  Simple refinement of \fullref{thm:quotient_group_universal_property}.
\end{proof}

\begin{theorem}[Quotient submodule lattice theorem]\label{thm:quotient_submodule_lattice_theorem}
  Given a \hyperref[def:module/submodel]{submodule} \( N \) of \( M \), the function \( K \mapsto K / N \) is a \hyperref[def:semilattice/homomorphism]{lattice isomorphism} between the lattice of submodules of \( M \) containing \( N \) and the lattice of submodules of the \hyperref[def:module/quotient]{quotient} \( M / N \).

  Compare this result to \fullref{thm:quotient_subgroup_lattice_theorem} and \fullref{thm:quotient_ideal_lattice_theorem}.
\end{theorem}
\begin{proof}
  Simple refinement of \fullref{thm:quotient_subgroup_lattice_theorem}.
\end{proof}

\begin{proposition}\label{thm:module_epimorphisms_are_surjective}
  Every \hyperref[def:morphism_invertibility/right_cancellative]{epimorphism} in \hyperref[def:group/category]{\( \cat{Mod}_R \)} is \hyperref[def:function_invertibility/surjective]{surjective}.
\end{proposition}
\begin{proof}
  Let \( \varphi: M \to N \) be an \( R \)-module epimorphism. Consider the canonical projection \( \pi: N \to N / \img \varphi \) and the zero morphism \( z: N \to N / \img \varphi \). Clearly
  \begin{equation*}
    \pi \bincirc \varphi = z \bincirc \varphi,
  \end{equation*}
  and thus \( \pi = z \) is the zero morphism.

  By, \fullref{thm:def:group/properties/kernel_cokernel_compatibility}, \( \ker \pi = \img \varphi \), and since \( \ker \pi = N \), it follows that \( \varphi \) is a surjective function.
\end{proof}

\begin{definition}\label{def:module_presentation}
  A \term{presentation} of the \( R \)-\hyperref[def:module]{module} \( M \) is an \hyperref[def:module/homomorphism]{epimorphism} \( \varphi: R^S \to M \), where \( R^S \) is a \hyperref[def:free_semimodule]{free semimodule}.

  By \fullref{thm:quotient_module_universal_property},
  \begin{equation*}
    M = \img \varphi \cong R^S / \ker \varphi.
  \end{equation*}

  Analogously to \hyperref[def:group_presentation]{group presentations}, we say that \( M \) is finitely generated/related/presented if there exists an appropriate presentation.
\end{definition}

\begin{definition}\label{def:algebra_over_ring}
  An \term{algebra} over a commutative ring \( R \) rather than over a \hyperref[def:algebra_over_semiring]{semiring} exhibits some more interesting metamathematical properties.

  \begin{thmenum}
    \thmitem{def:algebra_over_ring/theory} The first-order theory is identical to the \hyperref[def:agebra_over_semiring/theory]{theory of algebras over semimodules}.

    \thmitem{def:algebra_over_ring/homomorphism} A \hyperref[def:first_order_homomorphism]{first-order homomorphism} between two \( R \)-algebras \( A \) and \( B \) is a \hyperref[def:semimodule/homomorphism]{linear map} that preserves multiplication. This is the same as for semirings.

    \thmitem{def:algebra_over_ring/submodel} The set \( A \subseteq M \) is a \hyperref[thm:substructure_is_model]{submodel} of \( M \) if it is a \hyperref[def:monoid/submodel]{submodule} of \( M \) that is closed under algebra multiplication.

    As a consequence of \fullref{thm:positive_formulas_preserved_under_homomorphism}, the image of an \( R \)-algebra homomorphism is a subalgebra of its range.

    \thmitem{def:algebra_over_ring/trivial} The \hyperref[thm:substructures_form_complete_lattice/bottom]{trivial} \( R \)-algebra is the \hyperref[def:pointed_set/trivial]{trivial pointed set} \( \set{ 0_R } \).

    \thmitem{def:algebra_over_ring/category} For a fixed ring \( R \), we denote the \hyperref[def:category_of_small_first_order_models]{category of \( \mscrU \)-small models} by \( \ucat{Alg}_R \). It is concrete with respect to both \( \ucat{CRing} \) and \( \ucat{Mod}_R \).

    Unfortunately, these categories are not as well-behaved as categories of modules.

    \thmitem{def:algebra_over_ring/kernel} The \term{kernel} of an \( R \)-algebra homomorphism \( \varphi: M \to N \) is its \hyperref[def:zero_locus]{zero locus} \( \varphi^{-1}(0_N) \).

    The kernel of a homomorphism is a both a submodule and a subring of \( M \). It is the kernel of the underlying group, ring and module, and the \hyperref[def:zero_morphisms/cokernel]{categorical kernel} in the category of modules.

    \thmitem{def:algebra_over_ring/quotient} The \hyperref[def:zero_morphisms/cokernel]{categorical cokernel} of an \( R \)-homomorphism \( \varphi: M \to N \) in the category \( \cat{Alg}_R \) is simply \hyperref[def:ring/quotient]{quotient ring} \( N / \img \varphi \).

    More generally, let \( I \) be a two-sided ideal of \( M \). We identify each member \( x \) of \( R \) with its embedding \( x \cdot 1_R \). Since \( I \) is closed under multiplication with elements of \( M \), it is also closed under multiplication with elements of \( R \). Thus, \( I \) is a submodule of the \( R \)-module \( M \).

    Thus, given an ideal \( I \) of \( M \), \( M / I \) is both a quotient ring and a quotient module.
  \end{thmenum}
\end{definition}

\begin{proposition}\label{thm:ring_is_integer_algebra}
  The categories \( \hyperref[def:ring/category]{\cat{Ring}} \) of rings and \( \hyperref[def:algebra_over_ring/category]{\cat{Alg}_\BbbZ} \) of integer algebras are \hyperref[rem:category_similarity/isomorphism]{isomorphic}.

  Compare this result to \fullref{thm:abelian_group_is_module}.
\end{proposition}
\begin{proof}
  Follows from \fullref{thm:commutative_monoid_is_semimodule} by noting that, as in the proof of \fullref{thm:semiring_is_algebra}, distributivity implies bilinearity.
\end{proof}

\begin{theorem}[Quotient algebra universal property]\label{thm:quotient_algebra_universal_property}
  For every \hyperref[def:algebra_over_ring]{unital \( R \)-algebra} \( M \) and \hyperref[def:semiring_ideal]{ideal} \( I \) of \( M \), the \hyperref[def:algebra_over_ring/quotient]{quotient algebra} \( M / I \) has the following \hyperref[rem:universal_mapping_property]{universal mapping property}:
  \begin{displayquote}
    Every ring homomorphism \( \varphi: M \to N \) satisfying \( I \subseteq \ker \varphi \) \hyperref[def:factors_through]{uniquely factors through} \( M / I \). That is, there exists a unique homomorphism \( \widetilde{\varphi}: M / I \to N \), such that the following diagram commutes:
    \begin{equation}\label{eq:thm:quotient_algebra_universal_property/diagram}
      \begin{aligned}
        \includegraphics[page=1]{output/thm__quotient_algebra_universal_property.pdf}
      \end{aligned}
    \end{equation}

    In the case where \( I = \ker \varphi \), \( \widetilde{\varphi} \) is an \hyperref[def:first_order_homomorphism_invertibility/embedding]{embedding}.
  \end{displayquote}

  Compare this result to \fullref{thm:quotient_group_universal_property} and \fullref{thm:quotient_module_universal_property}.
\end{theorem}
\begin{proof}
  Simple refinement of \fullref{thm:quotient_group_universal_property}.
\end{proof}

\begin{definition}\label{def:algebra_presentation}
  For a \hyperref[def:commutative_ring]{commutative ring} \( R \), a \term{presentation} of the \( R \)-\hyperref[def:algebra_over_ring]{algebra} \( M \) is a surjective \hyperref[def:module/homomorphism]{homomorphism} \( \varphi: R[\mscrS] \to M \) (epimorphisms may be too general), where \( R[\mscrS] \) is a \hyperref[def:polynomial_semiring]{polynomial ring} with indeterminates \( \mscrS \).

  By \fullref{thm:quotient_algebra_universal_property},
  \begin{equation*}
    M = \img \varphi \cong R[\mscrS] / \ker \varphi.
  \end{equation*}

  Analogously to \hyperref[def:group_presentation]{group presentations}, we say that \( M \) is finitely generated/related/presented if there exists an appropriate presentation.
\end{definition}

\begin{theorem}[Quotient ideal lattice theorem]\label{thm:quotient_ideal_lattice_theorem}
  Given a \hyperref[def:semiring_ideal]{two-sided ideal} \( I \) of the \hyperref[def:algebra_over_ring]{unital \( R \)-algebra} \( M \), the function \( N \mapsto N / I \) is a \hyperref[def:semilattice/homomorphism]{lattice isomorphism} between the lattice of \hyperref[def:ring/submodel]{subrings} of \( M \) containing \( I \) and the lattice of subrings of the \hyperref[def:ring/quotient]{quotient} \( M / I \).

  Furthermore, the sublattices of \hyperref[def:semiring_ideal/prime]{prime}, \hyperref[def:semiring_ideal/maximal]{maximal} or \hyperref[def:radical_ideal]{radical} ideals are also isomorphic.

  Note that, by \fullref{thm:ring_is_integer_algebra}, usual rings can be regarded as \( \BbbZ \)-algebras.

  Compare this result to \fullref{thm:quotient_subgroup_lattice_theorem} and \fullref{thm:quotient_submodule_lattice_theorem}.
\end{theorem}
\begin{proof}
  \SubProof{Proof for general ideals} Simple refinement of \fullref{thm:quotient_subgroup_lattice_theorem}.

  \SubProof{Proof for prime ideals}
  \SufficiencySubProof* Suppose that \( P \) is a prime ideal in \( M \) containing \( I \). Let \( A \) and \( B \) be ideals of \( P \) containing \( I \), such that \( (A / I) (B / I) \subseteq P / I \). By the general ideal lattice isomorphism, \( AB \subseteq P \), which implies that \( A \subseteq P \) or \( B \subseteq P \). Again using the general isomorphism, we conclude that \( A / I \subseteq P / I \) or \( B / I \subseteq P / I \), meaning that \( P / I \) is a prime ideal in \( M / I \).

  \NecessitySubProof* Suppose that \( P / I \) is a prime ideal in \( M / I \) and let \( AB \subseteq P \). Note that neither \( A \) nor \( B \) do not necessarily contain \( I \), but \( A + I \) and \( B + I \) do. Furthermore, \( A + I \subseteq P \) and \( B + I \subseteq P \).

  We have
  \begin{equation*}
    [(A + I) / I][(B + I) / I]
    \reloset {\ref{thm:def:semiring_ideal/properties/coprime_product}} \subseteq
    [(A + I) / I] \cap [(B + I) / I]
    \subseteq
    P / I.
  \end{equation*}

  Since \( P / I \) is prime, \( (A + I) / I \subseteq P / I \) or \( (B + I) / I \subseteq P / I \). Again using the general lattice isomorphism, we conclude that \( A \subseteq A + I \subseteq P \) or \( B \subseteq B + I \subseteq P \).

  \SubProof{Proof for maximal ideals} Trivial consequence of the general lattice isomorphism.

  \SubProof{Proof for radical ideals} Correspondence of radical ideals follows from correspondence of prime ideals since any radical ideal satisfies \fullref{def:radical_ideal/intersection} and thus equals the intersection of all prime ideals containing it.
\end{proof}

\begin{corollary}\label{thm:quotient_by_maximal_ideal}
  The two-sided ideal \( I \) of the \hyperref[def:ring]{ring} \( R \) is \hyperref[def:semiring_ideal/maximal]{maximal} if and only if the \hyperref[def:ring/quotient]{quotient} \( R / M \) is a \hyperref[def:ring/simple]{simple ring}.

  See \fullref{thm:quotient_by_prime_ideal} for the corresponding statement for \hyperref[def:semiring_ideal/prime]{prime ideals} in commutative rings.
\end{corollary}
\begin{proof}
  Since \( M \) is maximal, only \( M \) and \( R \) are ideals of \( R \) containing \( M \). Therefore, by \fullref{thm:quotient_ideal_lattice_theorem}, \( R / M \) has only two ideals.
\end{proof}
