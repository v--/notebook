\section{Real analysis}\label{sec:real_analysis}
\subsection{Topology of Euclidean spaces}\label{subsec:real_vector_space_geometry}

\begin{theorem}\label{thm:real_metric_and_order_topologies_coincide}
  For the real numbers, the \hyperref[def:metric_topology]{metric} and \hyperref[def:order_topology]{order topologies} coincide.
\end{theorem}
\begin{proof}
  The metric topology \( \mscrT_M \) is generated by the \hyperref[def:topological_base]{base}
  \begin{equation*}
    \mathcal{B} \coloneqq \{ B(x, r) \colon x \in \BbbR, r \in \BbbR_{>0} \}
  \end{equation*}
  and the order topology \( \mscrT_O \) is generated by the \hyperref[def:topological_subbase]{subbase}
  \begin{equation*}
    \mathcal{P} \coloneqq \{ (a, \infty) \colon a \in \BbbR \} \cup \{ (\infty, b) \colon b \in \BbbR \}.
  \end{equation*}

  The inclusion \( \mathcal{B} \subseteq FI(\mathcal{P}) \) is obvious since any ball \( B(x, r) \) is the intersection of the two rays
  \begin{equation*}
    B(x, r) = (x - r, \infty) \cap (-\infty, x + r).
  \end{equation*}

  Thus \( \mscrT_M \subseteq \mscrT_O \). We now only need to show that \( \mathcal{B} \) is a base for \( \mscrT_O \).

  Let \( U \in \mscrT_O \). Since \( FI(\mathcal{P}) \) is a base for \( \mscrT_O \), there \hyperref[def:topological_base/union]{exists} a family \( \{ U_i \}_{i \in I} \subseteq FI(\mathcal{P}) \) such that
  \begin{equation*}
    U = \bigcup_{i \in I} U_i.
  \end{equation*}

  We only need to express every \( U_i \) as a union of balls from \( \mathcal{B} \). There are several possibilities:
  \begin{itemize}
    \item if \( U_i \) is the open interval \( (a, \infty) \),
          \begin{equation*}
            (a, \infty) = \bigcup_{i=1}^\infty B(a + i, 1).
          \end{equation*}

    \item if \( U_i \) is the open interval \( (-\infty, b) \),
          \begin{equation*}
            (-\infty, b) = \bigcup_{i=1}^\infty B(b - i, 1).
          \end{equation*}

    \item if \( U_i \) is the intersection \( (a, \infty) \cap (-\infty, b), a < b \),
          \begin{equation*}
            (a, \infty) \cap (-\infty, b) = B(\tfrac {a + b} 2, \tfrac {b - a} 2)
          \end{equation*}

    \item if \( U_i \) is the empty set,
          \begin{equation*}
            \varnothing = \bigcup \varnothing \text{ (see \fullref{def:set_union})}.
          \end{equation*}
  \end{itemize}

  Thus \( U_i \) is the union of an at most countable amount of balls. The countable union of countable sets is again countable, hence by \fullref{def:topological_base/union}, \( \mathcal{B} \) is a base for \( \mscrT_O \).
\end{proof}

\begin{proposition}\label{thm:rn_bounded_iff_totally_bounded}
  A set in \( \BbbR^n \) is totally \hyperref[def:totally_bounded_set]{bounded} if and only if it is \hyperref[def:metric_space/bounded_set]{bounded}.
\end{proposition}
\begin{proof}
  \Sufficiency Follows from \fullref{thm:totally_bounded_sets_are_bounded}.
  \Necessity Let \( A \) be a bounded set in \( \BbbR^n \) and let \( B(x, r) \) be a ball containing \( A \). Fix \( \varepsilon > 0 \).

  Denote by \( e_1, \ldots, e_n \) the \hyperref[def:left_module_hamel_basis]{basis} of \( \BbbR^n \). Denote by \( m \) the smallest integer such that \( m \varepsilon \geq r \).

  We can create a grid around \( B(x, r) \) as follows:

  Define the set
  \begin{equation*}
    \left\{ x + \sum_{i=1}^n [k_i \varepsilon] e_i \colon \forall i = 1, \ldots, n: k_i = 1, \ldots, m \right\}.
  \end{equation*}

  is finite. Furthermore, it is an \( \varepsilon \)-net of \( A \). Indeed, let \( y \in A \). Denote its coordinates along \( e_1, \ldots, e_n \) by \( y_1, \ldots, y_n \). Then \( y \) is contained in the ball
  \begin{equation*}
    B\left(x + \sum_{i=1}^n [\ceil(y_i) \varepsilon] e_i, \varepsilon \right).
  \end{equation*}
\end{proof}

\begin{theorem}[Heine-Borel theorem]\label{thm:heine_borel}
  A set in \( \BbbR^n \) is compact in the sense of \fullref{def:compact_space} if and only if it is closed and bounded.
\end{theorem}
\begin{proof}
  Follows from \fullref{thm:rn_bounded_iff_totally_bounded} and \fullref{thm:complete_metric_space_compact_conditions/closed_totally_bounded}.
\end{proof}

\begin{proposition}\label{thm:real_supremum_of_closure}
  The supremum (resp. infimum) of a set \( A \subseteq \BbbR \), if it exists, is equal to the supremum (resp. infimum) of \( \cl A \).
\end{proposition}
\begin{proof}
  \Sufficiency Denote by \( M \) the supremum of \( A \). Assume\LEM that it is not a supremum of \( \cl A \), that is, there exists an upper bound \( M' \) of \( \cl A \) such that \( M' < M \). But this is impossible because \( A \subseteq \cl A \).

  Therefore \( M \) is a supremum of \( \cl A \).

  \Necessity Denote by \( M \) the supremum of \( \cl A \). Assume\LEM that it is not a supremum of \( A \), that is, there exists an upper bound \( M' \) of \( A \) such that \( M' < M \).

  Let \( \{ x_i \}_{i=1}^\infty \subseteq A \) be a sequence that converges to \( M \). Then
  \begin{equation*}
    x_i < M' < M.
  \end{equation*}

  By \fullref{thm:squeeze_lemma/sequences}, we have \( M' = M \), which contradicts our choice of \( M' \). Thus \( M \) is the supremum of \( A \).
\end{proof}

\begin{proposition}\label{thm:real_bounded_set_has_supremum}
  Every nonempty \hyperref[def:metric_space/bounded_set]{bounded set} in \( \BbbR \) has a supremum and infimum.
\end{proposition}
\begin{proof}
  Let \( A \subseteq \BbbR \) be a nonempty bounded set. By \fullref{thm:heine_borel}, the set \( \cl A \) is compact. By \fullref{thm:weierstrass_extreme_value_theorem}, the identity function \( \id: \BbbR \to \BbbR \) attains its minimum \( m \) and maximum \( M \) on \( \cl A \). Note that both \( m \) and \( M \) do not have to belong to \( A \), but \( m \) is a lower bound and \( M \) is an upper bound of the set \( A \).

  If we take any other upper bound \( M' \) of \( A \), then by \fullref{thm:real_supremum_of_closure},
  \begin{equation*}
    M' \geq \sup A = \sup \cl A = M.
  \end{equation*}

  Hence \( M \) is the least upper bound of \( A \).

  We can analogously prove that \( m \) is the greatest lower bound of \( A \).
\end{proof}
