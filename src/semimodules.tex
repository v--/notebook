\subsection{Semimodules}\label{subsec:semimodules}

Semimodules are generalizations of monoid actions. Notation and terminology-wise, semimodules are somewhat special in that they are very much influenced by linear algebra and analysis, where vector spaces are crucial.

\begin{definition}\label{def:endomorphism_semiring}
  Let \( X \) be a monoid or, more generally, an object in a \hyperref[def:category]{category} that is \hyperref[def:concrete_category]{concrete} over \hyperref[def:monoid/category]{\( \cat{Mon} \)}.

  Let \( \End(X) \) be the \hyperref[def:endomorphism_monoid]{endomorphism monoid} over \( X \). These are necessarily monoid endomorphisms, however they may carry additional structure like being \hyperref[def:group/homomorphism]{group homomorphisms}, \hyperref[def:semimodule/homomorphism]{semimodule homomorphisms}, \hyperref[def:semilattice/homomorphism]{(semi)lattice homomorphisms} or their \hyperref[rem:topological_first_order_structures]{continuous counterparts}.

  Define addition in \( \End(X) \) pointwise as \( [f + g](x) \coloneqq f(x) + g(x) \). Then \( \End(X) \) with pointwise addition and composition is a \hyperref[def:semiring]{semiring}, which we call the \term{endomorphism semiring} over \( X \).
\end{definition}

\begin{definition}\label{def:semimodule}
  Fix a \hyperref[def:semiring]{semiring} \( R \), whose elements we will call \term{scalars}, and an \hyperref[rem:additive_magma]{additive} \hyperref[def:magma/commutative]{commutative} \hyperref[def:monoid]{monoid} \( M \), whose elements we will call \term{vectors}. See \fullref{rem:vector_etymology} for a discussion of the term \enquote{vector}.

  We say that \( M \) is a \term{semimodule} over \( R \) if they are compatible in any of the equivalent ways listed below. Analogously to \hyperref[def:monoid_action]{monoid actions}, if \( R \) is not commutative, we distinguish between left and right semimodules. Rather than \enquote{\( M \) is a semimodule over \( R \)}, it is often more convenient to say \enquote{\( M \) is an \( R \)-semimodule}.

  \begin{thmenum}[series=def:semimodule]
    \thmitem{def:semimodule/action} A left semimodule is a \hyperref[def:semiring/homomorphism]{homomorphism} from \( R \) to the \hyperref[def:endomorphism_semiring]{endomorphism semiring} \( \End(M) \). A right semimodule is a homomorphism from the \hyperref[def:semiring/opposite]{dual semiring} \( R^{-1} \) to \( \End(M) \).

    This definition is concise and natural, but unfortunately not very useful.

    \thmitem{def:semimodule/operation} The usual way to define a left semimodule is via a binary operation \( \cdot: R \times M \to M \) called \term{scalar multiplication} that satisfies the following conditions:
    \begin{thmenum}
      \thmitem{def:semimodule/operation/scalar_multiplication_action} Scalar multiplication is a \hyperref[def:monoid_action]{monoid action} of the multiplicative monoid \( (R, \cdot_R) \) on \( M \). The following conditions correspond to \eqref{eq:def:monoid_action/family/identity} and \eqref{eq:def:monoid_action/family/compatibility}:
      \begin{align}
        &1_R \cdot x = x, \label{eq:def:semimodule/operation/scalar_multiplication_action/identity} \\
        &(r \cdot_R s) \cdot x = r \cdot (s \cdot x). \label{eq:def:semimodule/operation/scalar_multiplication_action/compatibility}
      \end{align}

      The second condition can be regarded as a form of associativity.

      \thmitem{def:semimodule/operation/scalar_addition_distributivity} Scalar addition distributes over scalar multiplication:
      \begin{equation}\label{eq:def:semimodule/operation/scalar_addition_distributivity}
        (r +_R s) \cdot x = r \cdot x + s \cdot x.
      \end{equation}

      \thmitem{def:semimodule/operation/vector_addition_distributivity} Vector addition distributes over scalar multiplication:
      \begin{equation}\label{eq:def:semimodule/operation/vector_addition_distributivity}
        r \cdot (x + y) = r \cdot x + r \cdot y.
      \end{equation}

      \thmitem{def:semimodule/operation/absorption} The scalar and vector zeros are compatible:
      \begin{equation}\label{eq:def:semimodule/operation/absorption}
        0_R \cdot x = 0_M = r \cdot 0_M.
      \end{equation}
    \end{thmenum}

    In practice, we use the same symbol for both scalar and vector addition, and we denote both scalar and vector multiplication via juxtaposition.
  \end{thmenum}

  Semimodules have the following metamathematical properties:
  \begin{thmenum}[resume=def:semimodule]
    \thmitem{def:semimodule/theory} In order to fit the heterogeneous operation \( \cdot \) into the framework of \hyperref[def:first_order_semantics/satisfiability]{first-order logic models}, we can extend the \hyperref[def:monoid/theory]{theory of monoids} by adding, for every semiring element \( r \), a unary \hyperref[def:first_order_language/func]{functional symbol} \( m_r \). All conditions can then be reformulated via this operation. For example, \eqref{eq:def:semimodule/operation/scalar_multiplication_action/compatibility} corresponds to the axiom schema
    \begin{equation*}
      m_{rs}(\xi) = m_r(m_s(\xi)).
    \end{equation*}

    \thmitem{def:semimodule/homomorphism} A \hyperref[def:first_order_homomorphism]{first-order homomorphism} between two \( R \)-semimodules \( M \) and \( N \) is a function \( \varphi: M \to N \) that is a \hyperref[def:monoid/homomorphism]{monoid homomorphism} and satisfies \( \varphi \bincirc m_r^M = m_r^N \bincirc \varphi \).

    This can be expressed more clearly via the following two conditions, which we call \term{additivity} and \term{homogeneity}:
    \begin{align}
      \varphi(x + y) &= \varphi(x) + \varphi(y) \label{eq:def:semimodule/homomorphism/additive} \\
         \varphi(rx) &= r \varphi(x) \label{eq:def:semimodule/homomorphism/homogeneity}
    \end{align}

    Functions satisfying additivity and homogeneity are commonly called \term{linear}. These are a central object of study in \hyperref[sec:linear_algebra]{linear algebra} and, to a lesser extent, (linear) \hyperref[sec:functional_analysis]{functional analysis}.

    \thmitem{def:semimodule/submodel} The set \( A \subseteq M \) is a \hyperref[thm:substructure_is_model]{submodel} of \( M \) if it is a \hyperref[def:monoid/submodel]{submonoid} of \( M \) that is closed under scalar multiplication, i.e. \( rM = m_r[M] \subseteq M \) for every \( r \in R \). We say that \( A \) is an \( R \)-\term{sub-semimodule} of \( M \). If \( M \) is a module over some semiring extension \( T \) of \( R \), \( A \) may not be a \( T \)-sub-semimodule. For this reason, we should only use the term \enquote{sub-semimodule} of the underlying ring is clear from the context.

    As a consequence of \fullref{thm:positive_formulas_preserved_under_homomorphism}, the \hyperref[def:multi_valued_function/image]{image} of an \( R \)-semimodule homomorphism \( \varphi: M \to N \) is an \( R \)-sub-semimodule of \( M \).

    For an arbitrary set \( A \), we denote the \hyperref[def:first_order_generated_substructure]{generated submodel} by \( \linspan{ A } \) and call it the \term{linear span} of \( A \).

    \Fullref{rem:span_over_different_semirings} shows how it is important to be unambiguous about over which semiring we take the span of \( A \). In case of possible ambiguity, we will use subscripts like \( \linspan_R A \).

    The linear span can be characterized via \hyperref[rem:linear_combinations]{linear combinations} --- see \fullref{ex:def:first_order_substructure/vector_space}.

    \thmitem{def:semimodule/trivial} The \hyperref[thm:substructures_form_complete_lattice/bottom]{trivial} semimodule is the \hyperref[def:pointed_set/trivial]{trivial pointed set} \( \set{ 0 } \).

    \thmitem{def:semimodule/bisemimodule} A \term{bisemimodule} is a triple \( (R, A, B) \), where \( A \) is a left \( R \)-semimodule, \( B \) is a right \( R \)-semimodule, and the following associativity condition holds for \( a \in A \), \( r \in R \) and \( b \in B \):
    \begin{equation}\label{eq:def:semimodule/bimodule/associativity}
      (a \cdot_A r) \cdot_B b = a \cdot_A (r \cdot_B b).
    \end{equation}

    \thmitem{def:semimodule/category} For a fixed semiring \( R \), the \hyperref[def:category_of_small_first_order_models]{category of \( \mscrU \)-small models} \( \ucat{SMod}_R \) of left semimodules is \hyperref[def:concrete_category]{concrete} over \hyperref[def:monoid]{\( \ucat{Mon} \)}.

    Other notations are in use, for example \( R-\cat{Mod} \) in \cite[158]{Aluffi2009}, that better highlight whether we are considering left or right semimodules. We will prefer \( \cat{Mod}_R^{\opcat} \) for the category of right modules.
  \end{thmenum}
\end{definition}
\begin{proof}
  \ImplicationSubProof{def:semimodule/action}{def:semimodule/operation} Fix a semiring homomorphism \( \varphi: R \to \End(M) \) and define the operation \( r \cdot x \coloneqq \varphi(r)(x) \).

  We will verify that all conditions from \fullref{def:semimodule/operation} hold for this operation.

  \begin{itemize}
    \item By definition, \( \varphi \) is a monoid action of \( (R, \cdot) \) on \( (M, \bincirc) \).

    \item Distributivity of scalar addition holds because \( \varphi \) is a \hyperref[def:magma/homomorphism]{magma homomorphism} from \( (R, +) \) to \( (M, +) \).

    \item Distributivity of vector addition holds because, for each \( r \), \( \varphi(r) \) is a magma endomorphism of \( (M, +) \).

    \item Since \( \varphi \) is a monoid homomorphism from \( (R,  +) \) to \( (R, \cdot) \), it preserves identities and hence
    \begin{equation*}
      0_R \cdot x = \varphi(0_R)(x) = [y \mapsto 0_M](x) = 0_M.
    \end{equation*}

    This proves half of \fullref{def:semimodule/operation/absorption}.

    \item Since, for each \( r \), \( \varphi(r) \) is a monoid endomorphism of \( (M, +) \), we have
    \begin{equation*}
      r \cdot 0_M = \varphi(r)(0_M) = 0_M.
    \end{equation*}

    This proves the other half of \fullref{def:semimodule/operation/absorption}.
  \end{itemize}

  \ImplicationSubProof{def:semimodule/operation}{def:semimodule/action} Let \( \cdot: R \times M \to M \) be an operation satisfying all conditions from \fullref{def:semimodule/operation}. Define the function \( \varphi(r) \coloneqq (x \mapsto r \cdot x) \). We will show that this is a semiring homomorphism.

  It preserves both identities because
  \begin{equation*}
    \varphi(0_R) = (x \mapsto 0) = 0_{\End(M)}
  \end{equation*}
  and
  \begin{equation*}
    \varphi(1_R) = (x \mapsto x) = \id_M.
  \end{equation*}

  We must also show that it preserves both binary operations. Clearly
  \begin{equation*}
    \varphi(r + s)
    =
    (x \mapsto (r + s) x)
    \reloset {\eqref{eq:def:semiring/right_distributivity}} =
    (x \mapsto r x + s x)
    =
    (x \mapsto r x) + (x \mapsto s x)
    =
    \varphi(r) + \varphi(s).
  \end{equation*}

  For multiplication, we have
  \begin{equation*}
    \varphi(rs)
    =
    (x \mapsto (rs)x)
    \reloset {\eqref{eq:def:magma/associative}} =
    (x \mapsto r(sx))
    =
    \parens[\Big]{ x \mapsto \varphi(r)\parens[\Big]{ \varphi(s)(x) } }
    =
    \varphi(r) \bincirc \varphi(s).
  \end{equation*}
\end{proof}

\begin{proposition}\label{thm:def:semimodule}
  \hyperref[def:semimodule]{Semimodules} have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:semimodule/union} The union of a \hyperref[eq:def:partially_ordered_set/homomorphism/sequence]{monotone sequence}
    \begin{equation*}
      N_1 \subseteq N_2 \subseteq \cdots
    \end{equation*}
    of \( R \)-\hyperref[def:semimodule/submodel]{sub-semimodules} of \( M \) is also an \( R \)-sub-semimodule of \( M \).
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:semimodule/union} Trivial.
\end{proof}

\begin{proposition}\label{thm:commutative_monoid_is_bisemimodule}
  Every semiring is a \hyperref[def:semimodule/bisemimodule]{bisemimodule} over itself with scalar multiplication given by the semiring multiplication.

  This result specializes to \fullref{thm:semiring_is_algebra}.
\end{proposition}
\begin{proof}
  Fix a semiring \( R \). We will show that \( \cdot \) satisfied the conditions in \fullref{def:semimodule/operation}.
  \begin{itemize}
    \item The identity law \eqref{eq:def:semimodule/operation/scalar_multiplication_action/identity} holds because \( 1 \) is a multiplicative identity of \( M \).
    \item The associativity-like law \eqref{eq:def:semimodule/operation/scalar_multiplication_action/compatibility} follows from associativity of multiplication.
    \item The two distributivity laws \eqref{eq:def:semimodule/operation/scalar_addition_distributivity} and \eqref{eq:def:semimodule/operation/vector_addition_distributivity} follow from left and right distributivity on \( R \).
    \item The absorption law \eqref{eq:def:semimodule/operation/absorption} follows from absorption on semirings.
  \end{itemize}

  All the above also hold for right semimodules rather than left.
\end{proof}

\begin{proposition}\label{thm:commutative_monoid_is_semimodule}
  The categories \( \hyperref[def:monoid/category]{\cat{CMon}} \) of commutative monoids and \( \hyperref[def:semimodule/category]{\cat{SMod}_\BbbN} \) of natural number semimodules are \hyperref[rem:category_similarity/isomorphism]{isomorphic}.

  More concretely, every commutative monoid \( M \) is a left semimodule over \( \BbbN \) with scalar multiplication given by \hyperref[rem:additive_magma/multiplication]{recursively defined multiplication}
  \begin{equation}\label{eq:thm:commutative_monoid_is_semimodule/operation}
    \begin{aligned}
      &\cdot: \BbbN \times M \to M \\
      &n \cdot x \coloneqq \begin{cases}
        0_M,           &n = 0, \\
        n \cdot x + x, &n > 1.
      \end{cases}
    \end{aligned}
  \end{equation}

  Conversely, in every semimodule over \( \BbbN \), scalar multiplication matches the recursively defined multiplication.

  This result specializes to \fullref{thm:semiring_is_natural_number_algebra} and \fullref{thm:abelian_group_is_module}.
\end{proposition}
\begin{proof}
  \SufficiencySubProof Let \( M \) be a commutative monoid. The operation \( \cdot: \BbbN \times M \to M \) defined in \fullref{thm:semiring_characteristic_homomorphism} satisfies the conditions in \fullref{def:semimodule/operation} as either a direct consequence of the definition or as a consequence of \fullref{thm:monoid_distributivity}.

  The homomorphisms are thus also compatible.

  \NecessitySubProof Let \( M \) be a semimodule over \( \BbbN \). We will use induction to show that \eqref{eq:thm:commutative_monoid_is_semimodule/operation} holds.
  \begin{itemize}
    \item For \( n = 0 \), this follows from the absorption law \eqref{eq:def:semimodule/operation/absorption}.
    \item If \( n \cdot x = n \cdot x + x \), then by scalar distributivity, \( (n + 1) \cdot x = n \cdot x + 1 \cdot x \). The multiplicative identity law \eqref{eq:def:semimodule/operation/scalar_multiplication_action/identity} then shows that \( 1 \cdot x = x \), which concludes our proof.
  \end{itemize}

  The homomorphisms are thus also compatible.
\end{proof}

\begin{proposition}\label{thm:functions_over_semimodule}
  For a set \( A \) and an \( R \)-\hyperref[def:semimodule]{semimodule} \( N \), the set \( \fun(A, N) \) of all functions from \( A \) to \( N \) is itself an \( R \)-semimodule with the following operations:
  \begin{thmenum}
    \thmitem{thm:functions_over_semimodule/addition} Pointwise addition
    \begin{equation*}
      [f + g](x) \coloneqq f(x) + g(x)
    \end{equation*}

    \thmitem{thm:functions_over_semimodule/scalar_multiplication} Pointwise scalar multiplication
    \begin{equation*}
      [t \cdot f](x) \coloneqq t \cdot f(x)
    \end{equation*}
  \end{thmenum}

  If \( A \) is also an \( R \)-algebra, we denote the semimodule of all \( R \)-\hyperref[def:semimodule/homomorphism]{linear maps} by \( \hom(A, N) \).

  This extends to \fullref{thm:functions_over_algebra}.
\end{proposition}
\begin{proof}
  By \fullref{thm:functions_over_model_form_model}, \( N \) is an \( R \)-semimodule.
\end{proof}

\begin{definition}\label{def:function_support}
  The \term{support} of a function \( f: S \to R \) from any set \( S \) to a semiring \( R \) is the set
  \begin{equation*}
    \supp(f) \coloneqq \set{ x \in S \given f(x) \neq 0_R }.
  \end{equation*}
\end{definition}

\begin{definition}\label{def:semimodule_direct_product}
  The \term{direct product} of a family of \( R \)-\hyperref[def:semimodule]{semimodules} \( \seq{ M_k }_{k \in \mscrK} \) is their \hyperref[def:monoid_direct_product]{monoid direct product} \( \prod_{k \in \mscrK} M_k \) with the additional componentwise scalar product
  \begin{equation*}
    r \cdot \seq{ x_k }_{k \in \mscrK}
    \coloneqq
    \seq{ r \cdot x_k }_{k \in \mscrK}.
  \end{equation*}

  As in the case of general monoids, the \term{direct sum} \( \bigoplus_{k \in \mscrK} M_k \) is the submonoid of the direct product consisting only of \hyperref[def:cartesian_product/tuple]{tuples} with \hyperref[def:set_finiteness]{finite} \hyperref[def:function_support]{support}. That is, tuples with only finitely many nonzero components.
\end{definition}

\begin{proposition}\label{thm:semimodule_categorical_limits}
  We present a refinement to \fullref{thm:monoid_categorical_limits}.

  \begin{thmenum}
    \thmitem{thm:semimodule_categorical_limits/product} The \hyperref[def:discrete_category_limits]{categorical product} of the family \( \seq{ M_k }_{k \in \mscrK} \) in the category \hyperref[def:semimodule/category]{\( \cat{SMod} \)} of semimodules is their \hyperref[def:semimodule_direct_product]{direct product} \( \prod_{k \in \mscrK} M_k \).

    \thmitem{thm:semimodule_categorical_limits/coproduct} The \hyperref[def:discrete_category_limits]{categorical coproduct} of the family \( \seq{ M_k }_{k \in \mscrK} \) in the category \hyperref[def:semimodule/category]{\( \cat{CSMon} \)} of \hi{commutative} semimodules is their \hyperref[def:semimodule_direct_product]{direct sum} \( \bigoplus_{k \in \mscrK} M_k \).
  \end{thmenum}
\end{proposition}
\begin{proof}
  Simple refinement of \fullref{thm:monoid_categorical_limits}.
\end{proof}

\begin{definition}\label{def:free_semimodule}\mimprovised
  Fix a \hyperref[def:semiring]{semiring} \( R \). We associate with every set \( A \) its \term{free \( R \)-semimodule} \( R^{\oplus A} \) over \( R \) defined as the set
  \begin{equation*}
    R^{\oplus A} \coloneqq \bigoplus_{x \in A} R = \set{ t: A \to R \given t \T{has finite \hyperref[def:function_support]{support}} }.
  \end{equation*}

  In the case when \( R \) is the semiring \( \BbbN \) of natural numbers, \( \BbbN^{\oplus A} \) is the set of finite \hyperref[def:weighted_set/multiset]{multisets} over \( S \).

  We call \( A \) the \term{basis} of \( R \). As with general direct sums, we regard the function \( t \) as the indexed family \( \seq{ t_x }_{x \in A} \), and we call the indexed family a \term{linear combination} over \( R \). We call the linear combination over an empty basis \term{trivial}.

  By \fullref{thm:functions_over_model_form_model}, \( R^{\oplus A} \) inherits addition and multiplication from \( R \) and is actually a semiring. Scalar multiplication can be defined as
  \begin{equation*}
    \begin{aligned}
      &\cdot: R \times R^{\oplus A} \to R^{\oplus A}, \\
      &r \cdot \seq{ t_x }_{x \in A} \coloneqq \seq{ r \cdot t_x }_{x \in A}.
    \end{aligned}
  \end{equation*}

  Finally, define the canonical inclusion.
  \begin{equation*}
    \begin{aligned}
      &\iota_A: A \to R^{\oplus A}, \\
      &\iota_A(x) \coloneqq \parens[\Bigg]
        {
          y \mapsto \begin{rcases}
            \begin{cases}
              1_R, &y = x \\
              0_R, &y \neq x
            \end{cases}
          \end{rcases}
        }
    \end{aligned}
  \end{equation*}

  Free right semimodules require trivial adjustments.
\end{definition}

\begin{theorem}[Free semimodule universal property]\label{thm:free_semimodule_universal_property}
  Fix a semiring \( R \) and a set \( A \). The \hyperref[def:free_semimodule]{free \( R \)-semimodule} \( R^{\oplus A} \) over \( R \) is the unique up to a unique isomorphism semimodule that satisfies the following \hyperref[rem:universal_mapping_property]{universal mapping property}:
  \begin{displayquote}
    For every semimodule \( M \) over \( R \) and every function \( e: A \to M \), there exists a unique \( R \)-semimodule homomorphism \( \Phi_e: R^{\oplus A} \to M \) such that the following diagram commutes:
    \begin{equation}\label{eq:thm:free_semimodule_universal_property/diagram}
      \begin{aligned}
        \includegraphics[page=1]{output/thm__free_semimodule_universal_property.pdf}
      \end{aligned}
    \end{equation}
  \end{displayquote}

  Via \fullref{rem:universal_mapping_property}, \( A \mapsto R^{\oplus A} \) becomes \hyperref[def:category_adjunction]{left adjoint} to the \hyperref[def:concrete_category]{forgetful functor}
  \begin{equation*}
    U: \cat{SMod}_R \to \cat{Set}.
  \end{equation*}

  The function \( e \) assigns a value from \( M \) for each component of a linear combination, while \( \Phi_e \) evaluates the obtained sum. We call \( \Phi_e \) the \term{linear extension} or \term{linear combination evaluation map} corresponding to \( e \).
\end{theorem}
\begin{proof}
  For every function \( e: A \to M \), we want
  \begin{equation*}
    \Phi_e(\iota(x)) = e(x).
  \end{equation*}

  This suggests the definition
  \begin{equation*}
    \begin{aligned}
      &\Phi_e: R^{\oplus A} \to M, \\
      &\Phi_e(\seq{ t_x }_{x \in A}) \coloneqq \sum_{x \in A}^n t_x \cdot e(x).
    \end{aligned}
  \end{equation*}

  We discuss well-definedness of infinitary operations in direct sums in \fullref{rem:binary_operation_syntax_trees/infinite/direct_sum}.
\end{proof}

\begin{remark}\label{rem:linear_combinations}
  The \hyperref[def:free_semimodule]{linear combination} \( \sum_{x \in A} t_x x \) can instead be written as \( \sum_{k=1}^n t_k x_k \), where \( x_1, \ldots, x_n \) are the values in \( A \) for which the scalars \( t_1, \ldots, t_n \) are nonzero (we denote \( t_{x_k} \) by \( t_k \) for brevity). This is actually the dominating convention, although we sometimes use the former notation and. In vector spaces, we utilize the projection functionals from \fullref{def:basis_decomposition}.

  This issue is discussed in more generality in \fullref{rem:binary_operation_syntax_trees/infinite/direct_sum}.
\end{remark}

\begin{proposition}\label{thm:span_via_linear_combinations}
  For a set \( A \) in an \( R \)-\hyperref[def:semimodule]{semimodule} \( M \), the \hyperref[def:semimodule/submodel]{linear span} of \( A \), defined as the \( R \)-submodule generated by \( A \) in the sense of \fullref{def:first_order_generated_substructure}, equals the set of all \hyperref[rem:linear_combinations]{linear combinations} over \( A \).

  We say that \( A \) is a \term{generating set} of \( M \).

  Compare this result to \fullref{thm:generators_via_polynomials} for algebras.
\end{proposition}
\begin{proof}
  \Cref{fig:thm:span_via_linear_combinations} shows a \hyperref[def:concrete_syntax_tree]{syntax tree} for a given linear combination, which can be traversed and evaluated to obtain a vector in \( M \). Furthermore, it must be a member of \( \linspan S \) since the latter is closed under vector addition and scalar multiplication with members of \( S \). Hence, the set \( L \) of all linear combinations over \( S \) is a subset of \( \linspan S \).

  Generalizing the syntax tree construction from \cref{fig:thm:span_via_linear_combinations}, we see that \( L \) satisfies \fullref{def:first_order_substructure/inductive}, and is thus a submodule of \( M \). Since \( \linspan S \) is the smallest module containing \( S \), we have \( \linspan S = L \).

  \begin{figure}[!ht]
    \hfill
    \includegraphics[page=1]{output/thm__span_via_linear_combinations.pdf}
    \hfill\hfill
    \caption{A linear combination is simply a \hyperref[def:multi_valued_function/superposition]{superposition} of scalar multiplication and binary addition.}
    \label{fig:thm:span_via_linear_combinations}
  \end{figure}
\end{proof}

\begin{remark}\label{rem:span_over_different_semirings}
  If \( M \) is both an \( R \)-semimodule and a \( T \)-semimodule, \fullref{thm:span_via_linear_combinations} highlights a fundamental difference between the generated \( R \)-sub-semimodule and the generated \( T \)-sub-semimodule.

  For example, the \( \BbbN \)-sub-semimodule generated by \( 2 \) is the semiring \( 2\BbbN \) of even natural numbers, while the \( \BbbR_{\geq 0} \)-sub-semimodule generated by \( 2 \) is \( \BbbR_{\geq 0} \) itself.
\end{remark}
