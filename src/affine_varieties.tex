\subsection{Affine varieties}\label{subsec:affine_varieties}

As in \fullref{sec:commutative_algebra}, by \( R \) will denote a nontrivial commutative unital \hyperref[def:ring/commutative]{ring}.

\begin{definition}\label{def:affine_variety}\mcite[69]{КоцевСидеров2016}
  For each ideal \( I \) of the polynomial \hyperref[def:multivariate_polynomial]{ring} \( \BbbK[X_1, \ldots, X_n] \) over a \hyperref[def:field]{field} \( \BbbK \), we define its \term{affine variety} as the locus
  \begin{equation*}
    \mscrV(I) \coloneqq \{ (x_1, \ldots, x_n) \in \BbbK^n \colon \forall p \in I, p(x_1, \ldots, x_n) = 0 \}
  \end{equation*}
  of the simultaneous roots of all polynomials in \( I \).

  \begin{thmenum}
    \thmitem{def:affine_variety/dimension} The \term{dimension} \( \dim(\mscrV(I)) \) of an affine variety is defined as the Krull \hyperref[def:krull_dimension]{dimension} of the quotient \( \BbbK[X_1, \ldots, X_k] / I \).

    \thmitem{def:affine_variety/algebraic_curve} An \term{algebraic curve} over \( \BbbK^n \) is an affine variety of dimension one.

    \thmitem{def:affine_variety/algebraic_surface} An \term{algebraic surface} over \( \BbbK^n \) is an affine variety of dimension two.
  \end{thmenum}
\end{definition}

\begin{proposition}\label{thm:dimension_of_variety_of_prime_ideal}
  If \( P \) is a prime ideal of \( \BbbK[X_1, \ldots, X_n] \), the dimension of \( \mscrV(P) \) is the number of prime ideals strictly containing \( P \).

  In particular, \( \dim \mscrV(P) \leq n - 1 \) and, if \( P \) is not maximal, \( \dim \mscrV(P) \geq 1 \).
\end{proposition}
\begin{proof}
  By \fullref{thm:prime_ideal_iff_prime_quotient_ideal}, \( \dim \mscrV(P) = \dim(\BbbK[X_1, \ldots, X_n] / P) \) is the number of prime ideals of \( \BbbK[X_1, \ldots, X_n] \) strictly containing \( P \).

  Since \( P \) itself is a prime ideal, the number of prime ideals strictly containing \( P \) is at least \( 1 \) less than the Krull dimension of \( \BbbK[X_1, \ldots, X_n] \). By \fullref{thm:def:krull_dimension/properties/polynomials_over_field}, \( \dim \mscrV(I) \leq n - 1 \).

  By \fullref{thm:field_maximal_ideal_representation}, \( \braket{X_1, \ldots, X_n} \) is a maximal ideal of \( \BbbK[X_1, \ldots, X_n] \) (which is also prime), therefore \( \dim \mscrV(I) \geq 1 \).
\end{proof}

\begin{example}\label{ex:affine_varieties}
  We will work in the ring \( \BbbR[X, Y] \) of real polynomials in two indeterminates. By \fullref{thm:dimension_of_variety_of_prime_ideal}, any variety generated by a nonconstant irreducible polynomial is an \hyperref[def:affine_variety/algebraic_curve]{algebraic curve}.

  \begin{itemize}
    \item The variety of the ideal \( I \coloneqq \braket{X^2 + Y^2 - 1} \) is the unit \hyperref[def:quadratic_plane_curve/ellipse]{circle}
          \begin{equation*}
            \mscrV(I) = \{ (x, y) \in \BbbR^2 \colon x^2 + y^2 = 1 \}.
          \end{equation*}

          Note that \( p(X, Y) \coloneqq X^2 + Y^2 - 1 \) is an \hyperref[def:irreducible_ring_element]{irreducible} polynomial. Indeed, if \( p(X, Y) = p_1(X, Y) p_1(X, Y) \), then by \fullref{thm:def:polynomial_degree/properties/product}, \( \deg(p_1) + \deg(p_2) = \deg(p) \). If \( \deg(p_1) = \deg(p_2) = 1 \), the variety of \( p \) would be a union of two lines, which cannot possibly be the unit circle \( \mscrV(I) \). Thus, at least one of \( p_1 \) or \( p_2 \) is invertible and hence \( p \) is irreducible.

          Therefore, \( \mscrV(I) \) is an algebraic curve.

    \item Another example is
          \begin{equation*}
            I \coloneqq \braket{X + Y, X - Y - 1},
          \end{equation*}
          whose variety is
          \begin{equation*}
            \mscrV(I) = \{ (x, y) \in \BbbR^2 \colon x = -y \text{ and } x = y + 1 \} = \{ (x, y) \in \BbbR^2 \colon 2y = -1 \}.
          \end{equation*}

          This can also be shown algebraically, since the ideal \( I \) is principal and generated by
          \begin{equation*}
            \gcd(X + Y, X - Y - 1) = 2Y + 1.
          \end{equation*}

          Since \( 2Y + 1 \) is irreducible, \( \mscrV(I) \) is an algebraic curve.

    \item The ideal
          \begin{equation*}
            I \coloneqq \{ p(X, Y) \in R[X, Y] \colon p(X) = 0 \text{ or } \deg p \neq 0 \}
          \end{equation*}
          contains all polynomials except for the units - the nonzero constants. It is not principal because the only common divisors for all of \( I \) are the units.

          The variety \( \mscrV(I) \) for \( I \) is the empty set since it contains polynomials with no common roots - for example, \( X - Y \) and \( X - Y - 1 \).
  \end{itemize}
\end{example}

\begin{definition}\label{def:ideal_of_affine_variety}\mcite[70]{КоцевСидеров2016}
  Dually to \fullref{def:affine_variety}, for each subset \( V \subseteq R^n \), we define its \term{ideal} as
  \begin{equation*}
    \mathcal{I}(V) \coloneqq \{ p \in R[X_1, \ldots, X_n] \colon \forall (x_1, \ldots, x_n) \in V, p(x_1, \ldots, x_n) = 0 \}.
  \end{equation*}
\end{definition}

\begin{remark}\label{rem:nullstelletsatz_etymology}
  The word \enquote{nullstellensatz} is German for \enquote{\hyperref[def:zero_locus]{zero locus} theorem}.
\end{remark}

\begin{theorem}[Algebraic nullstellensatz]\label{thm:algebraic_nullstellensatz}\mcite[64]{КоцевСидеров2016}
  Let \( \BbbK \) be a field, \( A \) be a finitely-generated \( \BbbK \)-\hyperref[def:algebra_over_ring]{algebra} and \( M \) be a maximal ideal of \( A \). Then the field \( A / M \) is a finite extension of \( \BbbK \).

  In the special case that \( \BbbK \) is algebraically \hyperref[def:algebraically_closed_field]{closed}, we have
  \begin{equation*}
    \BbbK = A / M.
  \end{equation*}
\end{theorem}

\begin{example}\label{ex:algebraic_nullstellensatz_real_over_complex}
  For \( \BbbK = \BbbR \) and \( A = \BbbR[X] \), by \fullref{def:set_of_complex_numbers/polynomials} \( \BbbC = \BbbR[X] / \braket{X^2 + 1} \) is a field, so the ideal \( \braket{X^2 + 1} \) is maximal.

  By \fullref{thm:algebraic_nullstellensatz}, \( \BbbC \) is a finite degree extension of \( \BbbR \).
\end{example}

\begin{corollary}\label{thm:closed_field_maximal_ideal_representation}\mcite[exer. 8.1]{КоцевСидеров2016}
  If \( \BbbK \) is algebraically closed, an ideal \( I \) of the polynomial ring \( \BbbK[X_1, \ldots, X_n] \) is maximal if and only if \( I = \braket{X_1 - r_1, \ldots, X_n - r_n} \) for some \( r_1, \ldots, r_n \in \BbbK \).
\end{corollary}

\begin{theorem}[Geometric nullstellensatz]\label{thm:geometric_nullstellensatz}\mcite[70]{КоцевСидеров2016}
  If \( \BbbK \) is an algebraically \hyperref[def:algebraically_closed_field]{closed} field, then for each ideal \( I \subseteq \BbbK[X_1, \ldots, X_n] \) we have the equality
  \begin{equation*}
    \mathcal{I}(\mscrV(I)) = \sqrt I,
  \end{equation*}
  where \( \sqrt I \) is the \hyperref[def:radical_ideal]{radical} of \( I \).
\end{theorem}

\begin{example}\label{ex:geometric_nullstellensatz_does_not_hold_for_reals}
  By \fullref{thm:reals_not_algebraically_closed}, the field \( \BbbR \) of \hyperref[def:set_of_real_numbers]{real numbers} is not algebraically closed since \( x^2 + 1 \) has no root. Denote \( I \coloneqq \braket{x^2 + 1} \)

  Then \( \mscrV(I) = \varnothing \), so \( \mathcal{I}(\mscrV)(I) = \BbbR[X] \).

  But \( \sqrt{I} = I \) since \( x^2 + 1 \) is irreducible and thus forms a a prime ideal by \fullref{thm:ufd_prime_iff_irreducible}.

  Thus, \( \mscrV(I) \neq \sqrt{I} \) and \fullref{thm:geometric_nullstellensatz} does not hold.
\end{example}

\begin{corollary}\label{thm:weak_nullstellensatz}\mcite{Tao:nullstellensatz}
  If \( \BbbK \) is an algebraically \hyperref[def:algebraically_closed_field]{closed} field, then for each finite collection
  \begin{equation*}
    p_i(X_1, \ldots, X_n), i = 1, \ldots, k
  \end{equation*}
  of polynomials over \( n \) variables either
  \begin{thmenum}
    \thmitem{thm:weak_nullstellensatz/roots} the system of equations
    \begin{equation}\label{thm:weak_nullstellensatz/system}
      \begin{cases}
        p_1(x_1, \ldots, x_n) = 0 \\
        p_2(x_1, \ldots, x_n) = 0 \\
        \vdots                    \\
        p_k(x_1, \ldots, x_n) = 0
      \end{cases}
    \end{equation}
    has a, solution.

    \thmitem{thm:weak_nullstellensatz/bezout} there exist polynomials
    \begin{equation*}
      q_1(X_1, \ldots, X_n), i = 1, \ldots, k
    \end{equation*}
    such that
    \begin{equation*}
      p_1 q_1 + \cdots + p_k q_k = 1.
    \end{equation*}
  \end{thmenum}
\end{corollary}
\begin{proof}
  Define the ideal
  \begin{equation*}
    I \coloneqq \braket{p_1, \ldots, p_k}.
  \end{equation*}

  The following are equivalent:
  \begin{itemize}
    \item The variety \( \mscrV(I) \) is not empty.
    \item The system \fullref{thm:weak_nullstellensatz/system} has a, solution.
    \item The ideal \( \mathcal{I}(\mscrV(I)) \) is not the whole space \( \BbbK[X_1, \ldots, X_n] \).
    \item By \fullref{thm:geometric_nullstellensatz}, the radical \( \sqrt I \) is not the whole space.
    \item The units of \( \BbbK[X_1, \ldots, X_n] \) are not contained in \( \sqrt I \), hence also not contained in \( I \).
    \item There exists a set of polynomials satisfying \fullref{thm:weak_nullstellensatz/bezout}.
  \end{itemize}
\end{proof}

\begin{corollary}\label{thm:polynomial_over_closed_field_is_either_invertible_or_has_root}
  A multivariate polynomial over an algebraically closed field either has a root or is invertible.
\end{corollary}
\begin{proof}
  \Fullref{thm:weak_nullstellensatz} with \( k = 1 \).
\end{proof}
