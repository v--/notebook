\subsection{Integral domains}\label{subsec:integral_domains}

\begin{definition}\label{def:integral_domain}
  An \term{integral domain} is an \hyperref[def:entire_semiring]{entire} \hyperref[def:ring/commutative]{commutative (unital) ring}.
\end{definition}

\begin{proposition}\label{thm:def:integral_domain/properties}
  \hyperref[def:integral_domain]{Integral domains} have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:integral_domain/subring} Any \hyperref[def:ring/submodel]{subring} of an integral domain is also an integral domain.

    \thmitem{thm:def:integral_domain/polynomial_ring} A commutative ring \( R \) is an integral domain if and only if its \hyperref[def:polynomial_semiring]{polynomial ring} \( R[X] \) is.

    \thmitem{thm:def:integral_domain/root_limit} In an integral domain, the \hyperref[def:polynomial_root]{multiset of roots} of a univariate nonzero polynomial of \hyperref[def:polynomial_degree]{degree} \( n \) has \hyperref[def:weighted_set/multiset]{multiset cardinality} at most \( n \).

    In other words, a polynomial of degree cannot have more that \( n \) roots, counting multiple roots.
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:integral_domain/subring} Trivial.

  \SubProofOf{thm:def:integral_domain/polynomial_ring}

  \NecessitySubProof* If \( R[X] \) is an integral domain, by \fullref{thm:def:integral_domain/subring}, so is \( R \).

  \SufficiencySubProof* It is sufficient to prove the statement for one indeterminate. If \( p(X) \) and \( q(X) \) are nonzero polynomials, then so is \( p(X) q(X) \) by \fullref{thm:def:polynomial_degree/product}.

  \SubProofOf{thm:def:integral_domain/root_limit} We will use induction on the degree. Zero-degree polynomials clearly have zero roots. Suppose that the statement holds for polynomials of degree \( n - 1 \), and let \( p(X) \) have degree \( n \).

  If \( p(X) \) has a root \( u \), by the equivalence in \fullref{def:polynomial_root}, \( (X - u) \) divides \( p(X) \). Then \( \ifrac {p(X)} {(X - u)} \) has degree \( n - 1 \) by \fullref{thm:def:polynomial_degree/product}. Let \( M \) be the multiset of roots of \( \ifrac {p(X)} {(X - u)} \). After adding \( u \) to \( M \), we have incremented its total cardinality by \( 1 \), thus making it at most \( n \).
\end{proof}

\begin{proposition}\label{thm:quotient_by_prime_ideal}
  The ideal \( P \) of the \hyperref[def:ring/commutative]{commutative ring} \( R \) is \hyperref[def:semiring_ideal/prime]{prime} if and only if the \hyperref[def:ring/quotient]{quotient ring} \( R / P \) is an \hyperref[def:integral_domain]{integral domain}.

  See \fullref{thm:quotient_by_maximal_ideal} for the corresponding statement for \hyperref[def:semiring_ideal/maximal]{maximal ideals} in possibly noncommutative rings.
\end{proposition}
\begin{proof}
  \SufficiencySubProof Suppose that \( P \) is a prime ideal. Clearly \( R / P \) is a commutative ring. Since \( P \) is a proper ideal, \( R / P \) must be nontrivial. We will show that it is an \hyperref[def:entire_semiring]{entire ring}.

  Let \( [x] [y] = [0] = P \) (where \( [x] = x + P \) is the coset of \( x \) in \( R / P \)). By definition,
  \begin{equation*}
    [x] [y] = (x + P) (y + P) = (xy + P),
  \end{equation*}
  which implies \( xy + P = P \) and hence \( xy \in P \). Since \( P \) is prime, by \fullref{thm:def:semiring_ideal/prime_pointwise}, we have \( x \in P \) or \( y \in P \).

  Therefore, \( [x] = [0] \) or \( [y] = [0] \). Generalizing on \( x \) and \( y \), we can conclude that \( R / P \) is entire, and thus an integral domain.

  \NecessitySubProof Suppose that \( R / P \) is an integral domain. Since \( R / P \) is nontrivial, \( P \) must be a proper ideal. We will show that it satisfies \fullref{thm:def:semiring_ideal/prime_pointwise}.

  Let \( xy \in P \). We have
  \begin{equation*}
    P = [0] = [xy] = [x] [y],
  \end{equation*}
  hence \( [x] \) and \( [y] \) are zero divisors in \( R / P \). But \( R / P \) is entire, hence either \( [x] \) or \( [y] \) must be zero. That is, either \( x \in P \) or \( y \in P \).

  Generalizing on \( x \) and \( y \), we can conclude that \( P \) is a prime ideal.
\end{proof}

\begin{definition}\label{def:domain_divisibility}\mimprovised
  We will introduce several notions related to \hyperref[def:divisibility]{divisibility} in \hyperref[def:integral_domain]{integral domains}.

  \begin{thmenum}
    \thmitem{def:domain_divisibility/associates} We say that \( x \) and \( y \) are \term{associates} if any of the following conditions hold:
    \begin{thmenum}
      \thmitem{def:domain_divisibility/associates/direct} Both \( x \mid y \) and \( y \mid x \).
      \thmitem{def:domain_divisibility/associates/unit} There exists a \hyperref[def:divisibility/unit]{unit} \( u \) such that \( x = uy \).
      \thmitem{def:domain_divisibility/associates/ideals} The \hyperref[def:semiring_ideal/principal]{principal ideals} \( \braket{ x } \) and \( \braket{ y } \) are equal.
    \end{thmenum}

    \thmitem{def:domain_divisibility/irreducible} We say that the nonzero nonunit element \( x \) is \term{irreducible} if any of the following conditions hold:
    \begin{thmenum}
      \thmitem{def:domain_divisibility/irreducible/direct} Whenever \( x = yz \), then \( y \) or \( z \) is a unit.
      \thmitem{def:domain_divisibility/irreducible/ideals} \( \braket{ x } \) is maximal among all proper principal ideals. Maximality means that, if \( \braket{ x } \subseteq \braket{ y } \) for some nonzero nonunit \( y \), then \( \braket{ x } = \braket{ y } \).
    \end{thmenum}

    \thmitem{def:domain_divisibility/prime} We say that the nonzero element \( x \) is \term{prime} if any of the following equivalent conditions hold:
    \begin{thmenum}
      \thmitem{def:domain_divisibility/prime/direct} If \( x \mid yz \), then \( x \mid y \) or \( x \mid z \).
      \thmitem{def:domain_divisibility/prime/ideals} The ideal \( \braket{ x } \) is \hyperref[def:semiring_ideal/prime]{prime}.
    \end{thmenum}

    This definition is motivated by \fullref{thm:euclids_lemma}.
  \end{thmenum}
\end{definition}
\begin{defproof}
  \SubProofOf{def:domain_divisibility/associates}
  \ImplicationSubProof*{def:domain_divisibility/associates/direct}{def:domain_divisibility/associates/unit} If \( x \mid y \) and \( y \mid x \), then there exist \( a \) and \( b \) such that \( x = ay \) and \( y = bx \). Hence, \( x = abx \). Since we are working in an integral domain, we can cancel \( x \) to obtain \( ab = 1_R \). Therefore, both \( a \) and \( b \) are \hyperref[def:divisibility/unit]{units}.

  \ImplicationSubProof*{def:domain_divisibility/associates/unit}{def:domain_divisibility/associates/ideals} Suppose that \( x = uy \) for some unit \( u \). If \( z \braket{ x } \), then \( x = uy \) divides \( z \) and hence \( y \) also divides \( z \), implying that \( \braket{ x } \subseteq \braket{ y } \). We obtain the converse inclusion by noting that \( y = u^{-1} x \).

  \ImplicationSubProof*{def:domain_divisibility/associates/ideals}{def:domain_divisibility/associates/direct} If \( \braket{ x } = \braket{ y } \), then, by \fullref{thm:def:semiring_ideal/division}, \( x \mid y \) and \( y \mid x \).

  \SubProofOf{def:domain_divisibility/irreducible}
  \ImplicationSubProof*{def:domain_divisibility/irreducible/direct}{def:domain_divisibility/irreducible/ideals} Suppose that \( x \) is not a unit and that \( x = yz \) implies that \( y \) or \( z \) is a unit. Since we are working in an integral domain, \( x \) is necessarily nonzero.

  Let \( \braket{ x } \subseteq \braket{ w } \) for some nonunit \( w \). By \fullref{thm:def:semiring_ideal/division}, \( w \mid x \). Then there exists some element \( a \) such that \( x = aw \). Since \( w \) is not a unit by assumption, \( a \) must be a unit. By the equivalent definitions of associates in a domain, \( \braket{ x } = \braket{ w } \).

  \ImplicationSubProof*{def:domain_divisibility/irreducible/ideals}{def:domain_divisibility/irreducible/direct} Suppose that \( \braket{ x } \) is maximal among nonzero proper principal ideals.

  Let \( x = yz \). If, without loss of generality, \( \braket{ x } \subseteq \braket{ y } \), then \( \braket{ x } = \braket{ y } \) and, again by the equivalent conditions for associates, there exists some unit \( u \) such that \( x = uy \). Cancelling \( y \) in \( yu = yz \), we obtain \( u = z \). Hence, \( z \) is a unit.

  \SubProofOf{def:domain_divisibility/prime} Trivial.
\end{defproof}

\begin{proposition}\label{thm:def:domain_divisibility/properties}
  The notions from \fullref{def:domain_divisibility} have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:domain_divisibility/prime_is_irreducible} Every \hyperref[def:domain_divisibility/prime]{prime element} is \hyperref[def:domain_divisibility/irreducible]{irreducible}.

    \thmitem{thm:def:domain_divisibility/irreducible_in_polynomial_ring} An element of the domain \( D \) is \hyperref[def:domain_divisibility/irreducible]{irreducible} in \( D \) if and only if it is irreducible in \( D[X] \).
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:domain_divisibility/prime_is_irreducible} Let \( x \) be a prime element and suppose that \( x = yz \). Then \( x \) divides \( y \) or \( z \). If, without loss of generality, \( x \) divides \( y \), then \( x \) and \( y \) are \hyperref[def:divisibility/associates]{associates}, and, by the equivalence of conditions in \fullref{def:domain_divisibility/associates}, \( z \) must be a unit.

  \SubProofOf{thm:def:domain_divisibility/irreducible_in_polynomial_ring}

  \SufficiencySubProof* Suppose that \( x \) is irreducible in \( D \) and let \( x = y(X) z(X) \). By \fullref{thm:def:polynomial_degree/product}, both \( y(X) \) and \( z(X) \) must be constant polynomials. Therefore, they are scalars, and since \( x \) is irreducible, \( y \) or \( z \) is a unit. By \fullref{thm:def:polynomial_semiring/units}, if \( y \) is a unit in \( D \), it is a unit in \( D[X] \).

  Generalizing on \( x \), it follows that every irreducible element in \( D \) is also irreducible in \( D[X] \).

  \NecessitySubProof* Suppose that \( x \) is irreducible in \( D[X] \) and let \( x = yz \). Then \( y \) or \( z \) is a unit of \( D[X] \), and thus again by \fullref{thm:def:polynomial_semiring/units}, it is a unit of \( D \).

  Generalizing on \( x \), it follows that every element of \( D \) that is irreducible in \( D[X] \) is also irreducible in \( D \).
\end{proof}

\begin{example}\label{ex:def:domain_divisibility}
  We list some examples of the notions from \fullref{def:domain_divisibility}:
  \begin{thmenum}
    \thmitem{ex:def:domain_divisibility/integers} \hyperref[def:prime_number]{Prime numbers} are irreducible integers by their definition. By \fullref{thm:euclids_lemma}, they are also prime.

    The inverse \( -p \) of the prime number \( p \) is also irreducible and prime in \( \BbbZ \), but convention requires \enquote{prime numbers} to be positive.

    \thmitem{ex:def:domain_divisibility/irreducible_not_prime} Consider the ring of univariate \hyperref[def:polynomial_semiring]{polynomials} over \( \BbbR \) whose constant coefficient is rational.

    The polynomial \( X \) is irreducible. Indeed, if \( X = p(X) q(X) \), by \fullref{thm:def:polynomial_degree/product}, one of \( p(X) \) or \( q(X) \) must be a constant polynomial, i.e. a unit.

    The polynomial \( X \) is not prime, however. We have \( X \mid (\sqrt 2 X)^2 \), but \( X \not\mid \sqrt 2 X \) because that would imply that \( \sqrt 2 \) is a polynomial in our ring, and it is not a rational number.
  \end{thmenum}
\end{example}

\begin{remark}\label{rem:choice_of_associates}
  If \( x \) and \( y \) are \hyperref[def:domain_divisibility/associates]{associates}, we generally have no reason to prefer \( x \) to \( y \). This leads to a non-uniqueness in certain contexts, e.g. choosing a \hyperref[def:gcd_and_lcm]{greatest common divisor} or, more generally, a generator for a principal ideal. In such cases, we often prefer working with ideals.

  Fortunately, in the majority of cases, we have good candidates for uniqueness:
  \begin{itemize}
    \item In the domain \( \BbbZ \) of integers, there are two units, \( 1 \) and \( -1 \). It is conventional to choose the positive greatest common divisor.

    \item In a polynomial ring over the integers \( \BbbZ \), by \fullref{thm:def:polynomial_semiring/units}, the units are again \( 1 \) and \( -1 \), and we can choose the leading coefficient to be positive.

    \item If \( \BbbK \) is any \hyperref[def:field]{field}, any polynomial is associated with a unique \hyperref[def:monic_polynomial]{monic polynomial}.
  \end{itemize}
\end{remark}

\begin{remark}\label{rem:lattice_of_principal_ideals}
  The lattice of ideals described in \fullref{thm:semiring_of_ideals/lattice} is sometimes too general for our needs. Rather than stating definitions and theorems \enquote{up to a multiplication by a unit}, it is often more convenient to state them in terms of principal ideals. For this reason, we sometimes restrict ourselves to a lattice consisting only of principal ideals.

  Unfortunately, as demonstrated in \fullref{ex:def:irreducible_factorization/nonunique}, there may not be a least upper bound of principal ideals, and thus set of all principal ideals may fail to be lattice. Whether the principal ideals form a lattice is intimately related to the existence of \hyperref[def:gcd_and_lcm]{greatest common divisors}. This motivates introducing the concept of greatest common divisor domains defined in \fullref{def:gcd_domain}.

  The extreme case are \hyperref[def:principal_ideal_domain]{principal ideal domains}, in which this lattice is the same as the general lattice of ideals.
\end{remark}

\begin{definition}\label{def:gcd_domain}
  We say that an \hyperref[def:integral_domain]{integral domain} is a \term{greatest common divisor domain} if the subset of all principal ideals forms a lattice. By \fullref{thm:gcd_and_lcm}, it is sufficient for only joins or meets to exist.

  This definition is discussed in \fullref{rem:lattice_of_principal_ideals} and its relation to the usual concept of a greatest common divisor is given in \fullref{def:gcd_and_lcm}.
\end{definition}

\begin{definition}\label{def:gcd_and_lcm}\mimprovised
  Fix arbitrary elements \( x \) and \( y \) of a \hyperref[def:gcd_domain]{GCD domain}.

  Their \term{greatest common divisor ideal} is the supremum of the principal ideals \( \braket{ x } \) and \( \braket{ y } \) in the \hyperref[rem:lattice_of_principal_ideals]{lattice of principal ideals}. As discussed in \fullref{rem:choice_of_associates}, we can often choose a canonical representative from this ideal, which we call \enquote{the} greatest common divisor and denote by \( \gcd(x, y) \). Even without making a choice, we may denote the ideal itself by \( \braket{ \gcd(x, y) } \).

  \hyperref[def:semilattice/duality]{Dually}, the infimum of this lattice is generated by \enquote{the} \term{least common multiple} \( \braket{ \lcm(x, y) } \).

  Due to \fullref{thm:def:gcd_domain/join}, we can extend GCDs and LCMs to finitely many elements rather than only two.
\end{definition}

\begin{remark}\label{rem:gcd_of_zeros}
  The greatest common divisor \( \gcd(0, 0) \) is often left undefined, but we see no problem with defining it as \( 0 \). We have \( \braket{ 0 } + \braket{ 0 } = \braket{ 0 } \), and hence the result is consistent with \fullref{def:gcd_and_lcm}.
\end{remark}

\begin{proposition}\label{thm:gcd_and_lcm}
  The \hyperref[def:gcd_and_lcm]{greatest common divisors} and \hyperref[def:gcd_and_lcm]{least common multiples} of \( x \) and \( y \) (have representative that) are related as follows:
  \begin{equation}\label{eq:thm:gcd_and_lcm}
    xy = \gcd(x, y) \lcm(x, y).
  \end{equation}

  Furthermore, if in some integral domain only one of them exists, the other one exists too.
\end{proposition}
\begin{proof}
  Let \( d \) be any common divisor of \( x \) and \( y \). Then \( d \) also divides the product \( xy \). Let \( m \), \( a \) and \( b \) be elements satisfying
  \begin{align*}
    xy &= d m, \\
     x &= d a, \\
     y &= d b.
  \end{align*}

  We have
  \begin{equation*}
    x (db) = d m.
  \end{equation*}

  Cancelling \( d \), we obtain that \( x \) divides \( m \). We similarly obtain that \( y \) divides \( m \).

  Now suppose that \( d \) is the least common divisor. Let \( m' \) be a common multiple. We have \( xy = m' d' \) for some \( d' \). By \hyperref[def:preordered_set/duality]{duality} to what we have just proved, \( d' \) must be a common divisor. We have \( d' \mid d \), which in turn implies \( m \mid m' \).

  Therefore, \( m \) is a least common multiple.
\end{proof}

\begin{proposition}\label{thm:def:gcd_domain/properties}
  \hyperref[def:gcd_domain]{Greatest common divisor domains} have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:gcd_domain/join} A a lattice join, GCD is \hyperref[def:magma/associative]{associative}, \hyperref[def:magma/commutative]{commutative} and \hyperref[def:magma/idempotent]{idempotent} when considered as a binary operation.

    \thmitem{thm:def:gcd_domain/polynomial_ring} If the \hyperref[def:polynomial_semiring]{polynomial ring} \( R[X] \) over a commutative ring \( R \) is a greatest common divisor domain, then \( R \) also is.

    The converse to this is true, but it is more difficult to prove. See \fullref{thm:polynomial_ring_over_gcd_domain}.

    \thmitem{thm:def:gcd_domain/irreducible_is_prime} Every \hyperref[def:domain_divisibility/irreducible]{irreducible element} is \hyperref[def:domain_divisibility/prime]{prime}.
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:gcd_domain/join} Follows from \fullref{thm:binary_lattice_operations/semilattices}.

  \SubProofOf{thm:def:gcd_domain/polynomial_ring} By \fullref{thm:def:integral_domain/subring}, \( R \) is an integral domain.

  Given elements \( x \) and \( y \) from \( D \), \( \gcd(x, y) \) is a polynomial in \( R[X] \) that divides each of the elements. Hence, by \fullref{thm:def:polynomial_degree/product}, the GCD is a constant polynomial. We may thus regard it as an element of \( R \).

  Therefore, \( R \) is also a greatest common divisor domain.

  \SubProofOf{thm:def:gcd_domain/irreducible_is_prime} Suppose that \( x \) is an irreducible element and let \( x \mid yz \). If \( x \) is a unit, it divides both \( y \) and \( z \), and hence it is prime.

  Suppose that \( x \) is not a unit. Putting \( d \coloneqq \gcd(y, z) \), we obtain
  \begin{equation*}
    x \mid x y = d \cdot \frac y d \cdot \frac z d,
  \end{equation*}
  where \( d \), \( \tfrac y d \) and \( \tfrac z d \) are coprime. Hence, \( x \) divides exactly one of the three.

  By transitivity of divisibility, \( x \) necessarily divides \( y \), \( z \) or both.
\end{proof}

\begin{definition}\label{def:coprime_elements}
  We say that the nonzero elements \( x \) and \( y \) in a \hyperref[def:gcd_domain]{GCD domain} are \term{coprime} if any the \hyperref[def:gcd_and_lcm]{greatest common divisor} of \( x \) and \( y \) is a unit.

  In this form, the definition is unfortunately inconsistent with \hyperref[def:semiring_ideal/coprime]{coprime ideals}. See \fullref{thm:def:principal_ideal_domain/coprime}.
\end{definition}

\begin{definition}\label{def:irreducible_factorization}\mimprovised
  An \term{irreducible factorization} or simply \term{factorization} of a nonzero element \( x \) in an arbitrary \hyperref[def:integral_domain]{integral domain} is a finite sequence \( p_1, \ldots, p_n \) of \hyperref[def:domain_divisibility/irreducible]{irreducible elements} such that, for some \hyperref[def:divisibility/unit]{unit} \( u \),
  \begin{equation*}
    x = u p_1 \cdots p_n.
  \end{equation*}

  By cancellation of multiplication, the unit \( u \) is uniquely determined by the irreducible factors. If \( x \) is itself a unit, then it is its own factorization (i.e. \( n = 0 \)) because \( p \mid x \) for an irreducible \( p \) would imply that \( p \) is a unit and hence not irreducible.

  We say that two factorizations
  \begin{equation*}
    x = u p_1 \cdots p_n = v q_1 \cdots q_m
  \end{equation*}
  are equivalent if \( n = m \) and if there exists a \hyperref[def:symmetric_group/permutation]{permutation} \( \pi \in S_n \) such that \( q_{\pi(k)} \) and \( p_k \) are \hyperref[def:domain_divisibility/associates]{associated} for every \( k = 1, \ldots, n \).

  Finally, if any two factorizations of \( x \) are unique, we say that \( x \) \term{factors uniquely} into a product of irreducible factors.
\end{definition}

\begin{example}\label{ex:def:irreducible_factorization}
  We list some examples of \hyperref[def:irreducible_factorization]{irreducible factorization}:
  \begin{thmenum}
    \thmitem{ex:def:irreducible_factorization/integers} By \fullref{def:irreducible_factorization}, every integer has a unique factorization.

    \thmitem{ex:def:irreducible_factorization/nonunique} Consider the ring of real polynomials with a rational constant term discussed in \fullref{ex:def:domain_divisibility/irreducible_not_prime}.

    We have
    \begin{equation*}
      2X^2 = (\sqrt 2 X) \cdot (\sqrt 2 X) = 2 \cdot X \cdot X.
    \end{equation*}

    We have shown in \fullref{ex:def:domain_divisibility/irreducible_not_prime} that \( X \) is irreducible, and we can similarly show that \( \sqrt 2 X \) is irreducible. Thus, the above are two irreducible factorizations. They are not equivalent, however, since \( X \not\mid \sqrt 2 X \).

    As a consequence, both \( X \) and \( \sqrt 2 X \) are maximal divisors of \( 2X^2 \), but they are not \hyperref[def:domain_divisibility/associates]{associates}.
  \end{thmenum}
\end{example}

\begin{proposition}\label{thm:def:irreducible_factorization/properties}
  \hyperref[def:irreducible_factorization]{Irreducible factorizations} in integral domains have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:irreducible_factorization/existence} If every ascending chain of \hi{principal} ideals stabilizes in the sense of \fullref{def:noetherian_semimodule/acc}, then every element has at least one irreducible factorization.

    This condition is sometimes abbreviated as ACCP (ascending chain condition on principal ideals).

    \thmitem{thm:def:irreducible_factorization/uniqueness} If every \hyperref[def:domain_divisibility/irreducible]{irreducible element} is \hyperref[def:domain_divisibility/prime]{prime}, then all factorizations of an element are equivalent (but there may be elements without a factorization).

    \thmitem{thm:def:irreducible_factorization/polynomial_ring} For any domain \( D \), \( x = u p_1 \cdots p_n \) is an irreducible factorization in \( D \) if and only if it is an irreducible factorization of \( x \) in \( D[X] \).
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:irreducible_factorization/existence} Suppose that every ascending chain of principal ideals stabilizes.

  Let \( x \) be an arbitrary element, and suppose that it does not have an irreducible factorization. In particular, \( x \) is not a unit and is not irreducible. Then there exist elements \( a_1 \) and \( b_1 \), which are not both irreducible and not both units, such that \( x = a_1 b_1 \). Via \hyperref[rem:natural_number_recursion]{natural number recursion}, we can build a sequence \( a_1, a_2, \ldots \) such that
  \begin{equation*}
    \cdots \mid a_2 \mid a_1 \mid x
  \end{equation*}
  and no two elements are associates. By \fullref{thm:def:semiring_ideal/division}, this implies
  \begin{equation*}
    \braket{ x } \subsetneq \braket{ a_1 } \subsetneq \braket{ a_2 } \cdots.
  \end{equation*}

  The existence of such a sequence contradicts the ACCP. Therefore, \( x \) must have at least one irreducible factorization.

  \SubProofOf{thm:def:irreducible_factorization/uniqueness} Suppose that every irreducible element is prime.

  We will prove by induction that, if \( x \) has a factorization of length \( n \), then any other factorization is equivalent to it.

  If \( n = 0 \), then \( x = u \) is a unit, and hence \( m = 0 \) and \( x = u = v \).

  Otherwise, suppose that factorizations of length \( n - 1 \) are unique and that we are given the factorizations
  \begin{equation}\label{eq:def:irreducible_factorization/uniqueness/proof/assumption}
    x = u p_1 \cdots p_n = v q_1 \cdots q_m.
  \end{equation}

  Since \( p_1 \) is prime, \( p_1 \) divides \( q_{k_0} \) for some \( k_0 = 1, \ldots, m \). Thus, \( p_1 = w q_k \) for some unit \( w \). We can thus cancel \( p_1 \) to obtain
  \begin{equation*}
    u p_2 \cdots p_n = (vw) q_1 \cdots q_{k_0-1} q_{k_0+1} \cdots q_m.
  \end{equation*}

  By the inductive hypothesis, this factorization is unique. Hence, \( n = m \), and there exists a permutation \( \pi \in S_n \) such that \( p_k = q_{\pi(k)} \) for \( k = 2, \ldots, n \). Then
  \begin{equation*}
    \widehat{\pi}(k) \coloneqq \begin{cases}
      k_0,    & k = 1 \\
      \pi(i), & k > 1
    \end{cases}
  \end{equation*}
  is a permutation witnessing the equivalence of the factorizations \eqref{eq:def:irreducible_factorization/uniqueness/proof/assumption}.

  \SubProofOf{thm:def:irreducible_factorization/polynomial_ring}

  \SufficiencySubProof* Suppose that
  \begin{equation}\label{eq:thm:def:irreducible_factorization/polynomial_ring/sufficiency_assumption}
    x = u(X) p_1(X) \cdots p_n(X)
  \end{equation}
  be an irreducible factorization of \( x \in D \) in \( D[X] \). By \fullref{thm:def:polynomial_degree/product}, all polynomials in this factorization are constants. By \fullref{thm:def:domain_divisibility/irreducible_in_polynomial_ring}, since they are irreducible in \( D[X] \), they are also irreducible in \( D \).

  Therefore, \eqref{eq:thm:def:irreducible_factorization/polynomial_ring/sufficiency_assumption} is an irreducible factorization of \( x \) in \( D \).

  \NecessitySubProof* Due to \fullref{thm:def:polynomial_semiring/units} and \fullref{thm:def:domain_divisibility/irreducible_in_polynomial_ring}, irreducible elements and units in \( D \) are also irreducibles and units in \( D[X] \). Hence, every irreducible factorization in \( D \) is also an irreducible factorization in \( D[X] \).
\end{proof}

\begin{definition}\label{def:unique_factorization_domain}
  We say that an \hyperref[def:integral_domain]{integral domain} is a \term{unique factorization domain} if any of the following equivalent conditions hold:
  \begin{thmenum}
    \thmitem{def:unique_factorization_domain/factorization} Every element \hyperref[def:irreducible_factorization]{factors uniquely} into a product of irreducible elements.

    \thmitem{def:unique_factorization_domain/primes_and_ideals} Every ascending chain of principal ideals stabilizes and every irreducible element is prime.
  \end{thmenum}
\end{definition}
\begin{defproof}
  \ImplicationSubProof{def:unique_factorization_domain/factorization}{def:unique_factorization_domain/primes_and_ideals}

  \SubProof*{Proof that irreducibles are prime} holds, hence we only need to prove that an irreducible element is prime.

  Let \( x \) be an irreducible element. Suppose that \( x \mid yz \), so that there exists some element \( a \) satisfying \( ax = yz \).
  Let \( y = u p_1 \cdots p_n \) and \( z = v q_1 \cdots q_m \) be irreducible factorizations. Then
  \begin{equation*}
    ax = (uv) p_1 \cdots p_n q_1 \cdots q_m.
  \end{equation*}

  The factorizations are equivalent, hence \( x \) must divide one of the other irreducible elements. If \( x \mid p_k \) for some \( k = 1, \ldots, n \), then \( x \mid y \). If \( x \mid q_k \) for some \( k = 1, \ldots, m \), then \( x \mid z \).

  \SubProof*{Proof of ascending chain condition} Suppose that every element has a unique factorization.

  Fix an ascending sequence of principal ideals
  \begin{equation*}
    \braket{ x_1 } \subseteq \braket{ x_2 } \subseteq \braket{ x_3 } \cdots.
  \end{equation*}

  By \fullref{thm:def:semiring_ideal/division}, this implies that \( x_{k+1} \) divides \( x_k \) for \( k = 1, 2, \ldots \).

  Let \( x_1 = y x_2 \) and fix \hyperref[def:irreducible_factorization]{irreducible factorizations}
  \begin{align*}
    x_1 &= u p_1 \cdots p_n \\
    x_2 &= v q_1 \cdots q_m \\
    y   &= w r_1 \cdots r_k.
  \end{align*}

  Since the factorizations are unique, we have \( n = m + k \). If \( k = 0 \), then \( x_1 \) and \( x_2 \) are associated and \( \braket{ x_1 } = \braket{ x_2 } \). If \( k > 0 \), then \( \braket{ x_1 } \subsetneq \braket{ x_2 } \), and \( x_2 \) has a strictly shorter irreducible factorization.

  Proceeding by induction on the length of the factorization, we conclude that there are at most \( n \) strict inclusions in the sequence of ideals.

  \ImplicationSubProof{def:unique_factorization_domain/primes_and_ideals}{def:unique_factorization_domain/factorization} Follows from \fullref{thm:def:irreducible_factorization/existence} and \fullref{thm:def:irreducible_factorization/uniqueness}.
\end{defproof}

\begin{proposition}\label{thm:def:unique_factorization_domain/properties}
  \hyperref[def:unique_factorization_domain]{Unique factorization domains} have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:unique_factorization_domain/polynomial_ring} If the \hyperref[def:polynomial_semiring]{polynomial ring} \( R[X] \) over a commutative ring \( R \) is a unique factorization domain, then \( R \) also is.

    The converse to this is true, but it is more difficult to prove. See \fullref{thm:polynomial_ring_over_ufd}.

    \thmitem{thm:def:unique_factorization_domain/gcd} Every unique factorization domain is a \hyperref[def:gcd_domain]{GCD domain}.
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:unique_factorization_domain/polynomial_ring} Suppose that \( D[X] \) is a unique factorization. By \fullref{thm:def:irreducible_factorization/polynomial_ring}, every irreducible factorization of \( x \in D \) in \( D[X] \) is also an irreducible factorization in \( D[X] \). This implies both existence and uniqueness.

  \SubProofOf{thm:def:unique_factorization_domain/gcd} Fix arbitrary elements \( x \) and \( y \). We will show that they have a greatest common divisor.

  Suppose that we have the decompositions
  \begin{align*}
    x &= u p_1 \cdots p_n \\
    y &= v q_1 \cdots q_m.
  \end{align*}

  Otherwise, let \( r_1, \ldots, r_k \) be a well-ordering on the set \( \set{ p_1, \ldots, p_n, q_1, \ldots, q_m } \). For every \( i = 1, \ldots, k \), let \( s_i \) be the minimum of the number of elements from \( p_1, \ldots, p_n \) associated with \( r_i \) and the number of elements of \( q_1, \ldots, q_m \) associated with \( r_i \). Finally, define
  \begin{equation*}
    r \coloneqq r_1^{s_1} \cdots r_k^{s_k}.
  \end{equation*}

  We can use nested induction on \( k \) and \( s_k \) to show that \( r \) is, up to a unit, the greatest common divisor of \( x \) and \( y \). Indeed, \( k = 0 \) implies that \( x \) and \( y \) have no common divisors. For the inductive step, note that dividing both \( x \) and \( y \) by \( r_k^{s_k} \) allows us to use the inductive hypothesis with \( r_1^{s_1} \cdots r_{k-1}^{s_{k-1}} \), and that multiplying back by \( r_k^{s_k} \) makes \( r \) the GCD of \( x \) and \( y \).
\end{proof}

\begin{definition}\label{def:principal_ideal_domain}
  We say that an \hyperref[def:integral_domain]{integral domain} is a \term{principal ideal domain} if every \hyperref[def:semiring_ideal]{ideal} is \hyperref[def:semiring_ideal/principal]{principal}.
\end{definition}

\begin{proposition}\label{thm:def:principal_ideal_domain/properties}
  \hyperref[def:principal_ideal_domain]{Principal ideal domains} have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:principal_ideal_domain/noetherian} Every principal ideal domain is \hyperref[def:noetherian_semiring]{noetherian}.

    \thmitem{thm:def:principal_ideal_domain/ufd} Every principal ideal domain is a \hyperref[def:unique_factorization_domain]{unique factorization domain}.

    \Fullref{ex:ufd_but_not_pid} demonstrates that the converse is not true.

    \thmitem{thm:def:principal_ideal_domain/prime_ideal_is_maximal} \hyperref[def:semiring_ideal/prime]{Prime ideals} in a principal ideal domains are \hyperref[def:semiring_ideal/maximal]{maximal}.

    \thmitem{thm:def:principal_ideal_domain/gcd} For the \hyperref[def:gcd_and_lcm]{greatest common divisor}, we have
    \begin{equation*}
      \braket{ \gcd(x, y) } = \braket{ x } + \braket{ y } = \braket{ x, y }
    \end{equation*}
    and for the \hyperref[def:gcd_and_lcm]{least common multiple},
    \begin{equation*}
      \braket{ \lcm(x, y) } = \braket{ x } \cap \braket{ y }.
    \end{equation*}

    \thmitem{thm:def:principal_ideal_domain/coprime} \( x \) and \( y \) are \hyperref[def:coprime_elements]{coprime elements} if and only if \( \braket{ x } \) and \( \braket{ y } \) are \hyperref[def:coprime ideal]{coprime ideals}.
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:principal_ideal_domain/noetherian} In a principal ideal domain every ideal is generated by a single element, hence the domain satisfies \fullref{def:noetherian_semiring/generated}. Thus, it is noetherian.

  \SubProofOf{thm:def:principal_ideal_domain/ufd} Suppose that \( x \) is an irreducible element of a principal ideal domain. Then \( x \) satisfies \fullref{def:domain_divisibility/irreducible/ideals}, and hence \( \braket{ x } \) is a maximal ideal. By \fullref{thm:def:semiring_ideal/maximal_is_prime}, maximal ideals are prime, and hence \( x \) is a prime element.

  Therefore, every irreducible element is prime. Combined with \fullref{thm:def:principal_ideal_domain/noetherian}, this implies that the domain satisfies \fullref{def:unique_factorization_domain/primes_and_ideals}, and is hence a unique factorization domain.

  \SubProofOf{thm:def:principal_ideal_domain/prime_ideal_is_maximal} Let \( P \) be a prime ideal in a principal ideal domain. Then \( P = \braket{ p } \) for some prime element \( p \). By \fullref{thm:def:domain_divisibility/prime_is_irreducible}, \( p \) is irreducible, and hence \( \braket{ p } \) is a maximal ideal.

  \SubProofOf{thm:def:principal_ideal_domain/gcd} Follows from \fullref{thm:semiring_of_ideals/lattice} by nothing that every ideal is principal.

  \SubProofOf{thm:def:principal_ideal_domain/coprime} Follows from \fullref{thm:def:principal_ideal_domain/gcd}.
\end{proof}

\begin{theorem}[Bezout's identity]\label{thm:bezouts_identity}
  In a \hyperref[def:principal_ideal_domain]{principal ideal domain}, for every pair of elements \( x \) and \( y \), there exist some elements \( a \) and \( b \) such that
  \begin{equation}\label{eq:thm:bezouts_identity}
    ax + by = \gcd(x, y).
  \end{equation}

  \Fullref{alg:extended_euclidean_algorithm} gives us an explicit construction for \( a \) and \( b \).
\end{theorem}
\begin{proof}
  Clearly \( \ifrac x {\gcd(x, y)} \) and \( \ifrac y {\gcd(x, y)} \) are \hyperref[def:coprime_elements]{coprime elements}. By \fullref{thm:def:principal_ideal_domain/coprime}, there exist elements \( a \) and \( b \) such that
  \begin{equation*}
    a \frac x {\gcd(x, y)} + b \frac y {\gcd(x, y)} = 1.
  \end{equation*}

  Multiplying by \( \gcd(x, y) \), we obtain \eqref{eq:thm:bezouts_identity}.
\end{proof}

\begin{example}\label{ex:ufd_but_not_pid}\mcite{ProofWiki:polynomials_in_integers_is_not_principal_ideal_domain}
  The \hyperref[def:unique_factorization_domain]{unique factorization domain} \( \BbbZ[X] \) is not a \hyperref[def:principal_ideal_domain]{principal ideal domain}.

  Note that \( \BbbZ[X] \) is a unique factorization domain by \fullref{thm:def:unique_factorization_domain/polynomial_ring}.

  Consider the ideal \( I \) of polynomials with an even constant term. Assume that \( I \) is generated by the polynomial \( p(X) \in \BbbZ[X] \). Since \( 2 \in I \), then \( p(X) \) divides \( 2 \), so \( p(X) \in \set{ -2, -1, 1, 2 } \). But then \( p(X) \) is a unit, and hence, \( I = \braket{p(X)} = \BbbZ[X] \), which contradicts the definition of \( I \).

  The obtained contradiction proves that \( \BbbZ[X] \) is not a principal ideal domain.
\end{example}

\begin{definition}\label{def:euclidean_domain}\mcite{nLab:euclidean_domain}
  An \term{Euclidean domain} is an \hyperref[def:integral_domain]{integral domain} \( D \) endowed with a function \( \delta: D \to \BbbZ_{\geq 0} \), which we call the \term{Euclidean degree}, such that for every pair \( x \) and \( y \) of elements of \( D \) with \( y \neq 0_D \), there exists a pair \( q \) and \( r \) such that
  \begin{equation}\label{eq:def:euclidean_domain/division}
    x = yq + r
  \end{equation}
  holds and either \( r = 0_D \) or \( \delta(r) < \delta(q) \).

  We say that \( y \) \term{divides} \( x \) with \term{quotient} \( q \) and \term{remainder} \( r \).

  If the quotient and remainder are unique, as they usually are, we use the special notation
  \begin{align*}
    q &= \quot(x, y), \\
    r &= \rem(x, y) = x - y \quot(x, y).
  \end{align*}
\end{definition}

\begin{proposition}\label{thm:def:euclidean_domain/properties}
  \hyperref[def:euclidean_domain]{Euclidean domains} have the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:euclidean_domain/pid} Every Euclidean domain is a \hyperref[def:principal_ideal_domain]{principal ideal domain}.

    Counterexamples to the converse are discussed in \cite{Anderson1988}.

    \thmitem{thm:def:euclidean_domain/field} Every field is a \hyperref[def:euclidean_domain]{Euclidean domain}.

    \thmitem{thm:def:euclidean_domain/field_polynomials} A commutative ring \( R \) is a field if and only if its \hyperref[def:polynomial_semiring]{polynomial ring} \( R[X] \) is a \hyperref[def:principal_ideal_domain]{principal ideal domain}.

    Furthermore, if \( R \) is a field, the \hyperref[def:polynomial_degree]{polynomial degree} function \( \deg: R[X] \setminus \set{ 0 } \to \BbbZ_{\geq 0} \) makes \( R \) an \hyperref[def:euclidean_domain]{Euclidean domain}.

    We are free to define \( \deg \) to take any value for the zero polynomial.
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:def:euclidean_domain/pid} Fix an ideal \( I \) of the Euclidean domain \( D \). By \fullref{thm:natural_numbers_are_well_ordered}, the set \( \delta(I) \) has a minimum. Choose an element \( m \in I \) such that \( \delta(m) = \min \delta(I) \). Obviously \( \braket{m} \subseteq I \). We will prove that \( I \subseteq m \).

  Let \( x \in I \). We divide it by \( m \) to obtain
  \begin{equation*}
    x = mq + r,
  \end{equation*}
  such that either \( r \) is zero or \( \delta(r) < \delta(m) \). Since both \( x \) and \( m \) are in \( I \), we have \( r = mq - x \in I \). But \( m \) minimizes \( \delta \) over \( I \), thus \( \delta(m) \leq \delta(r) \), which contradicts \( \delta(r) < \delta(m) \).

  Therefore, \( r \) is zero and
  \begin{equation*}
    x = mq,
  \end{equation*}
  which implies that \( x \in \braket m \). This proves \( I \subseteq \braket m \).

  We have now obtained \( \braket m = I \). Since \( I \) was an arbitrary ideal, we conclude that every ideal in the domain is principal.

  \SubProofOf{thm:def:euclidean_domain/field} By \fullref{thm:division_ring_is_entire}, a field is necessarily an integral domain. Since every element of \( \BbbK \) is divisible (without remainder), the Euclidean function can be arbitrary; for definiteness, we take it to be canonically zero.

  \SubProofOf{thm:def:euclidean_domain/field_polynomials}
  \SufficiencySubProof* Suppose that \( R[X] \) is a principal ideal domain.

  By \fullref{thm:def:integral_domain/subring}, \( R \) is an integral domain. By \fullref{thm:quotient_algebra_universal_property}, \( R[X] / \braket{ X } \cong R \). By \fullref{thm:quotient_by_prime_ideal}, \( \braket{ X } \) is a prime ideal in \( R[X] \). By \fullref{thm:def:principal_ideal_domain/prime_ideal_is_maximal}, \( \braket{ X } \) is a maximal ideal. By \fullref{thm:quotient_by_maximal_ideal}, \( R[X] / \braket{ X } \cong R \) is a field.

  \NecessitySubProof* Suppose that \( R \) is a field. By \fullref{thm:def:integral_domain/polynomial_ring}, \( R[X] \) is a domain. By \fullref{alg:euclidean_division_of_polynomials}, we can divide two polynomials \( f(X) \) and \( g(X) \), where \( g(X) \) is monic, in a way that satisfies the definition of an Euclidean domain.

  Thus, for any \( f(X) \) and a nonzero \( g(X) \) with leading coefficients \( b_m \), \fullref{alg:euclidean_division_of_polynomials} gives us
  \begin{equation*}
    f(X) = \frac {g(X)} {b_m} q(X) + r(X).
  \end{equation*}
\end{proof}

\begin{algorithm}[Euclidean algorithm]\label{alg:euclidean_algorithm}
  In an \hyperref[def:euclidean_domain]{Euclidean domain}, we can explicitly construct the \hyperref[def:gcd_and_lcm]{greatest common divisor} of arbitrary elements \( x \) and \( y \) as follows:
  \begin{thmenum}
    \thmitem{alg:euclidean_algorithm/guard} If \( y \) is zero, halt the algorithm with \( \gcd(x, y) \coloneqq x \).
    \thmitem{alg:euclidean_algorithm/initialization} Define \( r_{-1} \coloneqq x \) and \( r_0 \coloneqq y \).
    \thmitem{alg:euclidean_algorithm/step} Starting with \( k = 1 \), obtain a quotient \( q_k \) and remainder \( r_k \) so that
    \begin{equation*}
      r_{k-2} = r_{k-1} q_k + r_k.
    \end{equation*}

    If \( r_k \) is not zero, repeat \fullref{alg:euclidean_algorithm/step} with \( k + 1 \).

    Otherwise, halt the algorithm with \( \gcd(x, y) \coloneqq r_{k-1} \).
  \end{thmenum}
\end{algorithm}
\begin{defproof}
  If \( y \) is zero, then \( \braket{ x, y } = \braket{ x } \), and hence the result is consistent with \fullref{def:gcd_and_lcm}.

  Otherwise, Euclidean division ensures that \( \delta(r_k) < \delta(r_{k-1}) \) on the \( k \)-th step. Thus, the algorithm halts. Denote by \( n \) the last step where \( r_n \) is not zero.

  We show by induction on \( k < n \) that \( r_n \) divides \( r_{n-k} \). The base case \( k = 0 \) is obvious since \( r_n \) divides itself.

  Assume that \( r_n \) divides \( r_{n-i} \) for \( 0 \leq i < k \). Now, since
  \begin{equation*}
    r_{n-k} = r_{n-(k-1)} q_{n-(k-2)} + r_{n-(k-2)}
  \end{equation*}
  and both of the terms on the right-hand side are multiples of \( r_n \), the left-hand side \( r_{n-k} \) is also a multiple.

  So, we conclude that \( r_n \) divides both \( r_{n-(n-1)} = r_1 = y \) and \( r_{n-n} = r_0 = x \).

  Finally, we must show that \( r_n \) is the greatest among all common divisors of \( x \) and \( y \). Let \( d \) be a common divisor. Then \( d \mid r_0 \) and \( d \mid r_1 \). Suppose that \( d \mid r_{k-1} \) and \( d \mid r_{k-2} \), for some \( k < n \). Then
  \begin{equation*}
    r_{k-2} = r_{k-1} q_k + r_k,
  \end{equation*}
  implying that \( d \) also divides \( r_k \). Hence, we obtain \( d \mid r_n \). Since our choice of common divisor \( d \) was arbitrary, we conclude that \( r_n \) is the greatest common divisor.
\end{defproof}

\begin{algorithm}[Extended Euclidean algorithm]\label{alg:extended_euclidean_algorithm}
  In an \hyperref[euclidean_domain]{Euclidean domain}, for \( x \) and \( y \) we can explicitly construct elements \( a \) and \( b \) so that \fullref{thm:bezouts_identity} holds, i.e.
  \begin{equation*}
    ax + by = \gcd(x, y).
  \end{equation*}

  \begin{thmenum}
    \thmitem{alg:extended_euclidean_algorithm/guard} If \( y \) is zero, then halt the algorithm with \( a = 1 \), \( b = 0 \).

    \thmitem{alg:extended_euclidean_algorithm/algorithm} Let \( r_{-1}, r_0, r_1, \ldots, r_n \) and \( q_1, q_2, \ldots, q_n \) be the sequences of quotients and remainders from \fullref{alg:euclidean_algorithm}. The \term{extended Euclidean algorithm} proceeds as follows:

    Define
    \begin{equation*}
      a_k \coloneqq \begin{cases}
        1,                     &k = 1, \\
        a_{k-2} - a_{k-1} q_k, &k > 1,
      \end{cases}
    \end{equation*}
    and
    \begin{equation*}
      b_k \coloneqq \begin{cases}
        -q_1,                  &k = 1, \\
        b_{k-2} - b_{k-1} q_k, &k > 1.
      \end{cases}
    \end{equation*}

    Halt the algorithm with \( a \coloneqq a_n \) and \( b \coloneqq b_n \).
  \end{thmenum}
\end{algorithm}
\begin{defproof}
  Suppose that \( y \) is not zero. We will prove with induction on \( k < n \) that
  \begin{equation*}
    r_k = a x_k + b y_k.
  \end{equation*}

  For the base case \( k = 1 \), we have
  \begin{align*}
    r_{-1}    &= r_0 q_1 + r_1, \\
    x         &= y q_1 + r_1,   \\
    x - y q_1 &= r_1,
  \end{align*}
  hence \( r_1 = x + (-q_1) y = a_1 x + b_1 y \).

  For \( k > 1 \), we have
  \begin{align*}
    r_{k-2}                                               &= r_{k-1} q_k + r_k,                 \\
    x a_{k-2} + y b_{k-2}                                 &= (x a_{k-1} + y b_{k-1}) q_k + r_k, \\
    x (a_{k-2} - a_{k-1} q_k) + y (b_{k-2} - b_{k-1} q_k) &= r_k.
  \end{align*}

  This completes the induction.

  Finally, since \( r_n = \gcd(x, y) \), we conclude that
  \begin{equation*}
    \gcd(x, y) = a_n x + b_n y.
  \end{equation*}
\end{defproof}

\begin{proposition}\label{thm:polynomial_ring_over_gcd_domain}
  If the \hyperref[def:integral_domain]{integral domain} \( D \) is a \hyperref[def:greatest_factorization_domain]{greatest common divisor domain}, so is \( D[X] \).
\end{proposition}
\begin{proof}
  Let \( D \) be a GCD domain and let \( \BbbK \) be its \hyperref[thm:field_of_fractions]{field of fractions}.

  Let \( p(X) \) and \( q(X) \) be arbitrary polynomials in \( D[X] \). We will show that they have a greatest common divisor.

  By \fullref{thm:def:euclidean_domain/field_polynomials}, \( \BbbK[X] \) is an Euclidean domain, and thus \( p(X) \) and \( q(X) \) have a GCD in \( \BbbK[X] \), which is unique up to multiplication by a unit in \( \BbbK[X] \). Thus, taking an arbitrary GCD
  \begin{equation*}
    r(X) = \sum_{k=0}^n \frac {a_k} {b_k} X^k,
  \end{equation*}
  the polynomial \( b_0 \cdots b_n r(X) \) is also a GCD. Furthermore, the latter is actually a polynomial in \( D[X] \).

  Therefore, \( p(X) \) and \( q(X) \) have a GCD in \( D[X] \).
\end{proof}

\begin{definition}\label{def:polynomial_content}\mcite[def. V.4.6]{Aluffi2009}
  The \term{content} of a univariate polynomial over a \hyperref[def:gcd_domain]{GCD domain} is the \hyperref[def:gcd_and_lcm]{GCD} of its coefficients.

  Dividing \( p(X) \) by its content, we obtain another polynomial, which we call the \term{primitive part} of \( p(X) \). Polynomials whose content is a unit are called \term{primitive} in the context of \fullref{thm:gauss_lemma}, although this clashes with the unrelated concept of primitive polynomials in \hyperref[thm:finite_fields]{finite fields}.
\end{definition}

\begin{lemma}[Gauss' lemma]\label{thm:gauss_lemma}
  If \( p(X) \) and \( q(X) \) are \hyperref[def:polynomial_content]{primitive polynomials}, then \( p(X) q(X) \) is also primitive.
\end{lemma}
\begin{proof}
  Fix two primitive polynomials
  \begin{align*}
    p(X) = \sum_{k=0}^n a_k X^k,
    &&
    q(X) = \sum_{k=0}^m b_k X^k.
  \end{align*}

  Let \( d \) be the content of \( p(X) q(X) \). It divides every coefficient
  \begin{equation*}
    \sum_{i+j=k} a_i b_j
  \end{equation*}
  of \( p(X) q(X) \), and hence also \( a_i b_j \) for every particular pair of indices \( i < n \) and \( j < m \).

  For any fixed \( i < n \), \( d \) divides \( a_i b_j \) for every \( j < m \). Since \( q(X) \) is primitive, \( d \) cannot divide \( b_j \) for every \( j < m \) unless \( d \) is a unit. Hence, \( d \) necessarily divides \( a_i \). Our choice of \( i \) was arbitrary, hence \( d \) divides \( a_i \) for every \( i < n \). But \( p(X) \) is also primitive. Therefore, \( d \) can only be a unit.
\end{proof}

\begin{lemma}\label{thm:irreducible_primitive_polynomial_in_field_of_fractions}
  Let \( D \) be a \hyperref[def:gcd_domain]{GCD domain} and let \( \BbbK \) be its \hyperref[thm:field_of_fractions]{field of fractions}. If a \hyperref[def:polynomial_content]{primitive polynomial} \( p(X) \) is \hyperref[def:domain_divisibility/irreducible]{irreducible} in the polynomial ring \( \BbbK[X] \), then it is irreducible in \( D[X] \).
\end{lemma}
\begin{proof}
  Suppose that \( p(X) \) is primitive and irreducible in \( \BbbK[X] \). Let
  \begin{equation*}
    p(X) = q(X) r(X),
  \end{equation*}
  where \( q(X) \) and \( r(X) \) are polynomials from \( D[X] \). Then \( q(X) \) or \( r(X) \) is a unit in \( \BbbK[X] \), hence it is a nonzero constant polynomial. Suppose that \( q(X) = q_0 \).

  Then \( q_0 \) is an element of \( D \) that divides all coefficients of \( p(X) \). By assumption, the coefficients of \( p(X) \) are coprime. It follows that \( q_0 \) is a unit in \( D \).
\end{proof}

\begin{proposition}\label{thm:polynomial_ring_over_ufd}
  If the \hyperref[def:integral_domain]{integral domain} \( D \) is a \hyperref[def:unique_factorization_domain]{unique factorization domain}, so is \( D[X] \).
\end{proposition}
\begin{proof}
  Let \( D \) be a unique factorization domain and let \( \BbbK \) be its \hyperref[thm:field_of_fractions]{field of fractions}.

  By \fullref{thm:polynomial_ring_over_gcd_domain}, \( D[X] \) is a GCD domain. Then \fullref{thm:def:gcd_domain/irreducible_is_prime} is satisfied, with by \fullref{thm:def:irreducible_factorization/uniqueness} implies that if an element has at least one \hyperref[def:irreducible_factorizaion]{irreducible factorization}, all others are equivalent to it.

  We will now show existence of irreducible factorizations.

  Let \( p(X) \) be a polynomial in \( D[X] \). By \fullref{thm:def:euclidean_domain/field_polynomials}, \( p(X) \) has an irreducible factorization
  \begin{equation*}
    p(X) = u q_1(X) \cdots q_n(X),
  \end{equation*}
  where \( q_1(X), \ldots, q_n(X) \) belong to \( \BbbK[X] \).

  For a fixed index \( i = 1, \ldots, n \), if the polynomial \( q_i(X) \) has the form
  \begin{equation*}
    q_i(X) = \sum_{k=0}^n \frac {a_k} {b_k} X^k,
  \end{equation*}
  then \( b_1 \cdots b_n q_i(X) \) is a polynomial in \( D[X] \). Denote by \( r_i(X) \) the \hyperref[def:polynomial_content]{primitive part} this polynomial in \( D[X] \). Since every scalar from \( D \) is simply a unit in \( \BbbK[X] \), it follows that \( r_i(X) \) is also irreducible in \( \BbbK[X] \).

  Hence, for the appropriate scalar \( v \in \BbbK \),
  \begin{equation*}
    p(X) = v r_1(X) \cdots r_n(X)
  \end{equation*}
  is an irreducible factorization in \( \BbbK[X] \).

  By \fullref{thm:irreducible_primitive_polynomial_in_field_of_fractions}, \( r_1(X), \ldots, r_n(X) \) are irreducible elements of \( D[X] \). Thus, if \( v = \tfrac c d \) with \( c \) and \( d \) coprime, then
  \begin{equation*}
    d p(X) = c r_1(X) \cdots r_n(X)
  \end{equation*}
  is an irreducible factorization in \( D[X] \).

  By \fullref{thm:gauss_lemma}, the product \( r_1(X) \cdots r_n(X) \) is a primitive polynomial in \( D[X] \). Hence, \( d \) cannot divide neither \( c \) nor \( r_1(X) \cdots r_n(X) \), implying that \( d \) is a unit. Therefore,
  \begin{equation*}
    p(X) = c r_1(X) \cdots r_n(X)
  \end{equation*}
  is an irreducible factorization of \( p(X) \) in \( D[X] \).
\end{proof}
