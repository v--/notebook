\subsection{Integral domains}\label{subsec:integral_domains}

\begin{definition}\label{def:integral_domain}
  An \term{integral domain} is a \hi{\hyperref[def:ring/trivial]{nontrivial}} \hyperref[def:entire_semiring]{entire} \hyperref[def:ring/commutative]{commutative ring}.

  This definition purposely excludes the trivial ring in order to guarantee existence of proper ideals. This becomes important already in \fullref{thm:quotient_by_prime_ideal}.
\end{definition}

\begin{proposition}\label{thm:quotient_by_prime_ideal}
  The ideal \( P \) of the \hyperref[def:ring/commutative]{commutative ring} \( R \) is \hyperref[def:semiring_ideal/prime]{prime} if and only if the \hyperref[def:ring/quotient]{quotient ring} \( R / P \) is an \hyperref[def:integral_domain]{integral domain}.

  See \fullref{thm:quotient_by_maximal_ideal} for the corresponding statement for \hyperref[def:semiring_ideal/maximal]{maximal ideals} in possibly noncommutative rings.
\end{proposition}
\begin{proof}
  \SufficiencySubProof Suppose that \( P \) is a prime ideal. Clearly \( R / P \) is a commutative ring. Since \( P \) is a proper ideal, \( R / P \) must be nontrivial. We will show that it is an \hyperref[def:entire_semiring]{entire ring}.

  Let \( [x] [y] = [0] = P \). By definition,
  \begin{equation*}
    [x] [y] = (x + P) (y + P) = (xy + P),
  \end{equation*}
  which implies \( xy + P = P \) and hence \( xy \in P \). Since \( P \) is prime, by \fullref{thm:def:semiring_ideal/properties/prime_pointwise}, we have \( x \in P \) or \( y \in P \).

  Therefore, we have \( [x] = [0] \) or \( [y] = [0] \). Generalizing on \( x \) and \( y \), we can conclude that \( R / P \) is entire, and thus an integral domain.

  \NecessitySubProof Suppose that \( R / P \) is an integral domain. Since \( R / P \) is nontrivial, \( P \) must be a proper ideal. We will show that it satisfies \fullref{thm:def:semiring_ideal/properties/prime_pointwise}.

  Let \( xy \in P \). We have
  \begin{equation*}
    P = [0] = [xy] = [x] [y],
  \end{equation*}
  hence \( [x] \) and \( [y] \) are zero divisors in \( R / P \). But \( R / P \) is entire, hence either \( [x] \) or \( [y] \) must be zero. That is, either \( x \in P \) or \( y \in P \).

  Generalizing on \( x \) and \( y \), we can conclude that \( P \) is a prime ideal.
\end{proof}

\begin{definition}\label{def:semiring_primality}\mimprovised\hfill
  \begin{thmenum}
    \thmitem{def:semiring_primality/prime} A semiring element \( x \) is called \term{prime} if its \hyperref[def:semiring_ideal/principal]{principal ideal} \( \braket{ x } \) is \hyperref[def:semiring_ideal/prime]{prime}. In a commutative semiring, \( x \) is prime if \( x \mid yz \) implies \( x \mid y \) or \( x \mid z \).

    This definition is motivated by \fullref{thm:euclids_lemma}.

    \thmitem{def:semiring_primality/coprime} Similarly, \( x \) and \( y \) are called \term{coprime} if \( \braket{ x } \) and \( \braket{ y } \) are coprime. In a commutative semiring, \( x \) and \( y \) are coprime if there exist \( a \) and \( b \) such that \( ax + by = 1 \).

    This definition is motivated by \fullref{thm:bezout_identity}.

    \thmitem{def:semiring_primality/irreducible} Unlike the cases for prime and coprime elements, irreducibility of \( x \) is a special case of \hyperref[def:semimring_ideal/irreducible]{irreducibility} of \( \braket{ x } \).

    We say that \( x \) is \term{irreducible} if \( \braket{ x } \) is maximal among all principal ideals in the semiring. That is, \( \braket{ x } \subseteq \braket{ y } \) implies \( \braket{ x } = \braket{ y } \).

    By \fullref{thm:def:semiring_ideal/properties/principal_ideal_equality}, in a commutative semiring this is equivalent to \( x \mid y \) implying that \( x \) and \( y \) are \hyperref[def:divisibility/associates]{associates}.
  \end{thmenum}
\end{definition}

\begin{definition}\label{def:prime_ring_ideal}\mcite[384]{Knapp2016BasicAlgebra}
  An ideal \( P \) is called \term{prime} if it is proper and satisfies any of the equivalent conditions:
  \begin{thmenum}
    \thmitem{def:prime_ring_ideal/direct} If \( x, y \in R \) are such that \( xy \in P \), then either \( x \in P \) or \( y \in P \).
    \thmitem{def:prime_ring_ideal/ideals} If \( I, J \subseteq R \) are ideals such that \( IJ \subseteq P \), then either \( I \subseteq P \) or \( J \subseteq P \).
    \thmitem{def:prime_ring_ideal/quotient} The quotient \( R / P \) is an integral domain.
  \end{thmenum}

  An element \( r \in R \) is called \term{prime} if the ideal \( \braket r \) is prime.
\end{definition}
\begin{proof}
  \ImplicationSubProof{def:prime_ring_ideal/direct}{def:prime_ring_ideal/ideals} Fix ideals \( I, J \) of \( R \) such that \( IJ \subseteq P \).

  Assume that neither \( I \not\subseteq P \) nor \( J \not\subseteq P \). Take \( x \in I \setminus P \) and \( y \in J \setminus P \). It follows that \( xy \in P \) and either \( x \in P \) or \( y \in P \). This contradicts our assumption.

  The obtained contradiction proves that either \( I \subseteq P \) or \( J \subseteq P \).

  \ImplicationSubProof{def:prime_ring_ideal/ideals}{def:prime_ring_ideal/quotient} Fix an ideal \( P \) such that if \( I, J \subseteq R \) are ideals and \( IJ \subseteq P \), then either \( I \subseteq P \) or \( J \subseteq P \).

  We will prove that \( R / P \) is an integral domain. If \( R \) is an integral domain, this is obvious. If not, we fix nonzero \( x, y \in R \), so that \( xy = 0 \). Thus, \( [x][y] = (x + P)(y + P) = xy + P = P = [0] \). We will show that either \( x = 0 \) or \( y = 0 \).

  Consider the ideals
  \begin{balign*}
    \braket{x} & = xR, \\
    \braket{y} & = yR.
  \end{balign*}

  By \fullref{thm:def:semiring_ideal/properties/product_of_principal_ideals}, we have \( \braket{x} \braket{y} = \braket{xy} = \braket{0} = \{ 0 \} \).

  Since \( \braket{x} \braket{y} \subseteq P \), then either \( \braket{x} \subseteq P \) or \( \braket{y} \subseteq P \). That is, either \( [x] = 0 \) or \( [y] = 0 \).

  Thus, \( R / P \) is an integral domain.

  \ImplicationSubProof{def:prime_ring_ideal/quotient}{def:prime_ring_ideal/direct} Suppose that \( R / P \) is an integral domain. Fix \( x, y \in R \), so that \( xy \in P \). If \( x = 0 \), obviously \( x = 0 \in R \) and similarly for \( y \). Suppose that both \( x \) and \( y \) are nonzero. We will show that either \( x \in P \) or \( y \in P \).

  We have
  \begin{equation*}
    [x][y] = [xy] = xy + P = P = [0].
  \end{equation*}

  Since \( R / P \) is an integral domain, either \( [x] = [0] \) or \( [y] = [0] \). That is, either \( x \in P \) or \( y \in P \).
\end{proof}

\begin{proposition}\label{thm:prime_ideal_iff_prime_quotient_ideal}
  If \( J \subseteq I \) are ideals of \( R \), then \( I \) is a \hyperref[def:prime_ring_ideal]{prime ideal} in \( R \) if and only if \( I / J \) is a prime ideal in  \( R / J \).
\end{proposition}

\begin{definition}\label{def:irreducible_ring_element}
  A nonzero element \( r \in R \) of an integral domain is called \term{reducible} if there exist non-invertible elements \( r_1, r_2 \in R \) such that
  \begin{equation*}
    r = r_1 r_2.
  \end{equation*}

  If \( r \) is not reducible, we say that it is \term{irreducible}.
\end{definition}

\begin{definition}\label{def:coprime_ring_ideals}
  Two ring ideals \( I \subseteq R \) and \( J \subseteq R \) are said to be \term{coprime} if \( I + J = R \).
\end{definition}

\begin{proposition}\label{thm:prime_implies_irreducible}\mcite[389]{Knapp2016BasicAlgebra}
  All \hyperref[def:prime_ring_ideal]{prime} elements in an integral domain are \hyperref[def:irreducible_ring_element]{irreducible}.
\end{proposition}
\begin{proof}
  Let \( p \) be prime. Assume that \( p \) is reducible, that is, there exist non-invertible elements \( r_1, r_2 \in R \) such that
  \begin{equation*}
    p = r_1 r_2.
  \end{equation*}

  Since \( p \) is prime, it must divide either \( r_1 \) or \( r_2 \). Without loss of generality, assume that \( p | r_1 \) and \( r_1 = pc \) for some \( c \in R \).

  Then \( p = r_1 r_2 = pc r_2 \). By \fullref{thm:semiring_cancellative_iff_no_zero_divisors}, \( 1 = c r_2 \), which implies that \( r_2 \) is invertible with inverse \( c \). This contradicts our assumption that both \( r_1 \) and \( r_2 \) are invertible.

  The obtained contradiction proves that \( p \) is irreducible.
\end{proof}

\begin{definition}\label{def:maximal_ring_ideal}
  A two-sided ideal \( M \) is called \term{maximal} if it is proper and satisfies any of the equivalent conditions:
  \begin{thmenum}
    \thmitem{def:maximal_ring_ideal/maximality} \( M \) is maximal with respect to set inclusion among proper two-sided ideals.
    \thmitem{def:maximal_ring_ideal/quotient} The quotient \( R / M \) is a field.
  \end{thmenum}
\end{definition}
\begin{proof}
  \ImplicationSubProof{def:maximal_ring_ideal/maximality}{def:maximal_ring_ideal/quotient} Suppose that \( M \) is maximal among proper ideals. We will prove that every nonzero element of \( R / M \) is invertible.

  Fix \( x \not\in M \), so that \( [x] = x + M \neq M = [0] \). Define the set
  \begin{equation*}
    I \coloneqq Rx + M.
  \end{equation*}

  It is a ideal since both \( Rx \) and \( M \) are ideals. Furthermore, it contains \( M \) strictly because \( M \subseteq I \) and \( x \in I \). Since \( M \) is maximal, we have that \( I = R \).

  Hence, there exists \( y \in R \) such that \( 1 = yx + M \). Hence, \( [y] = y + M \) is an inverse of \( [x] \) in \( R / M \).

  Since \( [x] \in R / M \) was an arbitrary nonzero element, we conclude that \( R / M \) is a field.

  \ImplicationSubProof{def:maximal_ring_ideal/quotient}{def:maximal_ring_ideal/maximality} Suppose that \( R / M \) is a field. Assume that \( M \) is not maximal. Then there exists a proper ideal \( I \supsetneq M \).

  Assume that \( I \neq M \) and take \( x \in I \setminus M \). Then \( x \not\in M \) and hence \( [x] \neq [0] \) and is invertible in \( R / M \). Denote by \( y \) any representative of this inverse. Thus, \( [xy] - [1] = [0] \), that is, \( xy - 1 \in M \).

  Note that \( xy \in I \) because \( x \in I \) and \( y \in R \). Since \( I \) is closed under addition, it follows that \( 1 \in I \) and hence \( I = R \). But this contradicts our assumption that \( I \) is proper.

  The obtained contradiction proves that \( M \) is maximal.
\end{proof}

\begin{theorem}[Krull's theorem]\label{thm:krulls_theorem}\mcite{Hodges1979}
  Every nontrivial \hyperref[def:ring/commutative]{commutative unital ring} has a \hyperref[def:maximal_ring_ideal]{maximal ideal}.

  Within \hyperref[def:zfc]{\logic{ZF}}, this theorem is equivalent to the \hyperref[def:zfc/choice]{axiom of choice} --- see \fullref{thm:axiom_of_choice_equivalences/krull}.
\end{theorem}

\begin{proposition}\label{thm:maximal_ideals_are_prime}
  Maximal ring \hyperref[def:maximal_ring_ideal]{ideals} are \hyperref[def:prime_ring_ideal]{prime}.
\end{proposition}
\begin{proof}
  If \( M \) is a maximal ideal of \( R \), by \fullref{def:maximal_ring_ideal/quotient} \( R / M \) is a field. Thus, \( R / M \) is an integral domain, which by \fullref{def:prime_ring_ideal/quotient} means that \( M \) is a prime ideal.
\end{proof}

\begin{proposition}\label{thm:field_maximal_ideal_representation}\mcite[exer. 8.1]{КоцевСидеров2016}
  If \( r_1, \ldots, r_n \) are elements of the field \( \BbbK \), then \( \braket{X_1 - r_1, \ldots, X_n - r_n} \) is a maximal ideal of \( \BbbK[X_1, \ldots, X_n] \).
\end{proposition}

\begin{proposition}\label{thm:ufd_prime_iff_irreducible}
  An element in a unique factorization domain is \hyperref[def:prime_ring_ideal]{prime} if and only if it is \hyperref[def:irreducible_ring_element]{irreducible}.
\end{proposition}
\begin{proof}
  \SufficiencySubProof Follows from \fullref{thm:prime_implies_irreducible}.

  \NecessitySubProof Let \( r \) be an irreducible element and let \( p_1 p_2 \in \braket{r} \). We will show that either  \( p_1 \in \braket{r} \) or \( p_2 \in \braket{r} \).

  Since \( \braket{r} \) is an ideal, there exists an element \( q \in R \) such that \( qr = p_1 p_2 \). Because of unique factorization, there exists a unit \( u \in R \) such that \( uqr = p_1 p_2  \).

  Therefor either
  \begin{itemize}
    \item \( p_1 = 1 \), in which case \( p_2 = uqr \in \braket{r} \).
    \item \( p_1 = u \), in which case \( p_2 = qr \in \braket{r} \).
    \item \( p_1 = uq \), in which case \( p_2 = r \in \braket{r} \).
    \item \( p_1 = ur \in \braket{r} \).
    \item \( p_1 = qr \in \braket{r} \).
    \item \( p_1 = uqr \in \braket{r} \).
  \end{itemize}
\end{proof}

\begin{proposition}\label{thm:prime_ideals_are_maximal_in_pid}
  Prime ring \hyperref[def:prime_ring_ideal]{ideals} in a principal ideal domain are \hyperref[def:maximal_ring_ideal]{maximal}.
\end{proposition}
\begin{proof}
  Let \( P \) be a prime ideal of \( R \) and let \( I \supsetneq P \) be an ideal strictly containing \( P \). We will show that \( I = R \).

  Since \( R \) is a principal ideal domain, both \( P \) and \( I \) are principal. Let \( p \) and \( i \) be their respective generators. Since \( I \) contains \( P \), there exists \( r \in R \) such that
  \begin{equation*}
    p = ir.
  \end{equation*}

  But \( p \) is prime, and thus irreducible by \fullref{thm:ufd_prime_iff_irreducible}, and hence either \( i \) or \( r \) must be a unit. If \( r \) is a unit, then \( \braket i = \braket {ir} = \braket p \), which contradicts our choice of \( I \supsetneq P \). It remains for \( i \) to be a unit.

  Therefore, \( I = \braket i = \braket 1 = R \). This proves that \( P \) is maximal with respect to inclusion of ideals.
\end{proof}

\begin{definition}\label{def:krull_dimension}\mcite[67]{КоцевСидеров2016}
  Consider chains
  \begin{equation*}
    P_0 \subsetneq P_1 \subsetneq \cdots
  \end{equation*}
  of prime \hyperref[def:prime_ring_ideal]{ideals} in \( R \) under strict inclusion. The length of this chain is defined as the zero-based index of its last element and is allowed to be infinite. Zero-based means that a chain with only one ideal has length zero.

  We call the supremum of the lengths of these chains the \term{Krull dimension} of the ring \( R \) and denote it by \( \dim R \).
\end{definition}

\begin{proposition}\label{thm:def:krull_dimension/properties}
  The Krull \hyperref[def:krull_dimension]{dimension} of a ring \( R \) has the following basic properties:
  \begin{thmenum}
    \thmitem{thm:def:krull_dimension/properties/monotone} If \( R = T / S \) is the quotient of some rings \( S \subseteq T \), \( \dim R \leq \dim T \).
    \thmitem{thm:def:krull_dimension/properties/pid} If \( R \) is a principal ideal domain, \( \dim R \in \{ 0, 1 \} \).
    \thmitem{thm:def:krull_dimension/properties/field} If \( R \) is a \hyperref[def:field]{field}, \( \dim R = 0 \).
    \thmitem{thm:def:krull_dimension/properties/polynomials_over_field}\cite[exercise 8.19]{КоцевСидеров2016} If \( R = \BbbK[X_1, \ldots, X_n] \) for some \hyperref[def:field]{field} \( \BbbK \), \( \dim R = n \).
  \end{thmenum}
\end{proposition}

\begin{corollary}\label{thm:multivariate_polynomial_rings_are_not_pid}
  Multivariate polynomial rings are not principal ideal domains.
\end{corollary}
\begin{proof}
  Follows from \fullref{thm:def:krull_dimension/properties/pid} and \fullref{thm:def:krull_dimension/properties/polynomials_over_field}.
\end{proof}

\begin{theorem}[Chinese remainder theorem]\label{thm:chinese_remained_theorem}\mcite[thm. 8.27]{Knapp2016BasicAlgebra}
  Let \( I_1, \ldots, I_n \) be pairwise \hyperref[def:coprime_ring_ideals]{coprime} ideals. Then
  \begin{equation*}
    R / \bigcap_{i=1}^n I_n \cong R / I_1 \times \cdots \times R / I_n.
  \end{equation*}
\end{theorem}

\begin{definition}\label{def:modulo}\mimprovised
  Fix an ideal \( I \) of \( R \).

  If, for some \( a, b \in R \), we have \( a - b \in I \), we say that \( a \) and \( b \) are \term{congruent modulo} \( I \) and write
  \begin{equation*}
    a \cong b \pmod I.
  \end{equation*}

  If \( I = \braket{ x } \) and \( a = b \mod I \), we say that \( a \) and \( b \) are congruent modulo \( n \) and write
  \begin{equation*}
    a \cong b \pmod x.
  \end{equation*}
\end{definition}

\begin{definition}\label{def:factorization_in_ring}
  In an  A factorization of \( x \in R \) is a finite sequence \( p_1, \ldots, p_n \) of \hyperref[def:irreducible_ring_element]{irreducible} elements with multiplicities \( k_1, \ldots, k_n \), so that
  \begin{equation*}
    x = e p_1^{k_1} p_2^{k_2} \cdots p_n^{k_n},
  \end{equation*}
  where \( e \) is a unit in \( R \).
\end{definition}

\begin{definition}\label{def:principal_ideal_domain}
  A \term{principal ideal domain} is an \hyperref[def:integral_domain]{integral domain} in which every \hyperref[def:semiring_ideal]{ideal} is \hyperref[def:semiring_ideal/principal]{principal}.
\end{definition}

\begin{example}\label{ex:def:integral_domain}
  We list some counterexamples of \hyperref[def:integral_domain]{integral domains}.

  \begin{refenum}
    \refitem{def:integral_domain/not_commutative} For an example of a nonunital commutative ring, consider again the Banach space \( C_0(\co) \), however define multiplication as pointwise function multiplication rather than by composition. The constant function \( f(x) = 1 \) does not vanish at infinity, hence \( (C_0(\co), +, \cdot) \) is a commutative, but not unital ring.

    \refitem{def:integral_domain/zero_divisors} An example of a nontrivial commutative unital ring that has zero divisors is the matrix algebra \( \BbbZ^{2 \times 2} \) over the integers. It is a ring under addition and matrix multiplication. We have
    \begin{equation*}
      \begin{pmatrix}
        1 & 0 \\
        1 & 0
      \end{pmatrix}
      \begin{pmatrix}
        0 & 0 \\
        0 & 1
      \end{pmatrix}
      =
      \begin{pmatrix}
        0 & 0 \\
        0 & 0
      \end{pmatrix},
    \end{equation*}
    thus there are zero divisors in \( \BbbZ^{2 \times 2} \).
  \end{refenum}
\end{example}

\begin{definition}\label{def:unique_factorization_domain}
  A \term{unique factorization domain} is an \hyperref[def:integral_domain]{integral domain} in which every element has a \hyperref[def:factorization_in_ring]{unique factorization}.
\end{definition}

\begin{example}\label{ex:integral_domain_not_ufd}\mcite[388]{Knapp2016BasicAlgebra}
  The ring \( \BbbZ[\sqrt{-5}] \) is an integral domain by \fullref{thm:polynomials_over_integral_domain_are_integral_domain}. It is not a \hyperref[def:unique_factorization_domain]{unique factorization domain} because
  \begin{equation*}
    6 = (1 + \sqrt{-5}) (1 - \sqrt{-5}) = 2 \cdot 3.
  \end{equation*}
\end{example}

\begin{definition}\label{def:euclidean_domain}\mcite{nLab:euclidean_domain}
  Let \( R \) be an integral \hyperref[def:integral_domain]{domain}. Multiplication is not invertible in general, but we can instead define \term{Euclidean division} with remainders.

  We endow \( R \) with an additional function \( \delta: R \to \BbbZ_{\geq 0} \). Let \( a, b \in R \). If there exists a pair \( (q, r) \) such that
  \begin{equation*}
    a = bq + r
  \end{equation*}
  holds and either \( r = 0 \) or \( \delta(r) < \delta(b) \), we say that \( (R, \delta) \) is a \term{Euclidean domain}.

  We say that \( b \) \term{divides} \( a \) with \term{quotient} \( q \) and \term{remainder} \( r \).

  If the pair \( (q, r) \) is unique, we use the special notation
  \begin{balign*}
    q & = \quot(a, b),                    \\
    r & = \rem(a, b) = a - b \quot(a, b).
  \end{balign*}
\end{definition}

\begin{algorithm}\label{alg:euclidean_algorithm}
  Let \( R \) be an Euclidean domain. Fix \( a, b \in R \) with \( b \neq 0 \). The \term{Euclidean algorithm} for finding \( \gcd(a, b) \) proceeds as follows:
  \begin{thmenum}
    \thmitem{alg:euclidean_algorithm/initialization} Define \( r_0 \coloneqq a \) and \( r_1 \coloneqq b \).
    \thmitem{alg:euclidean_algorithm/step} Starting with \( i = 2 \), obtain \( q_i \) and \( r_i \) from \hyperref[def:euclidean_domain]{division}
    \begin{equation*}
      r_{i-2} = r_{i-1} q_i + r_i.
    \end{equation*}

    If \( r_i = 0 \), halt the algorithm with result \( \gcd(a, b) = r_i \).

    Otherwise, proceed by incrementing \( i \) and repeating this step.
  \end{thmenum}
\end{algorithm}
\begin{proof}
  Euclidean division ensures that \( \delta(r_i) < \delta(r_{i-1}) \) on every step. Thus, the algorithm terminates at some point. Denote by \( n \) the (minimum) number of steps necessary to obtain \( r_n = 0 \).

  We show by induction on \( k < n \) that \( r_n \) divides \( r_{n-k} \). The case \( k = 0 \) is obvious since \( r_n \) divides itself.

  Assume that \( r_n \) divides \( r_{n-i} \) for \( 0 < i < k \). Now since
  \begin{equation*}
    r_{n-k} = r_{n-(k-1)} q_{n-(k-2)} + r_{n-(k-2)}
  \end{equation*}
  and both of the terms on the right-hand side are factors of \( r_n \), the left-hand side \( r_{n-k} \) is also a factor.

  We conclude that \( r_n \) divides both \( r_{n-(n-1)} = r_1 = b \) and \( r_{n-n} = r_0 = a \).

  Furthermore, \( r_n \) is the greatest common divisor of \( a \) and \( b \). Indeed, assume that there exists \( d \in R \) such that \( r_n \mid d \) and both \( d \mid a \) and \( d \mid b \) hold. But he have
  \begin{equation*}
    a = b q_2 + r_2,
  \end{equation*}
  hence \( d \mid r_2 \). Proceeding by induction, we obtain that \( d \mid r_n \). But we assumed that \( r_n \mid d \), therefore \( r_n = d \) and \( r_n \) is the greatest common divisor of \( a \) and \( b \).
\end{proof}

\begin{proposition}\label{thm:euclidean_domain_is_pid}
  Every Euclidean \hyperref[def:euclidean_domain]{domain} is a principal ideal \hyperref[def:principal_ideal_domain]{domain}.

  Counterexamples to the converse are discussed in \cite{Anderson1988}.
\end{proposition}
\begin{proof}
  Fix an ideal \( I \) of the Euclidean domain \( R \). By \fullref{thm:natural_numbers_are_well_ordered}, the set \( \delta(I) \) has a minimum. Choose an element \( m \in I \) such that \( \delta(m) = \min \delta(I) \). We will prove that \( I = \braket m \).

  Let \( x \in I \). We divide it by \( m \) to obtain
  \begin{equation*}
    x = mq + r,
  \end{equation*}
  such that either \( r = 0 \) or \( \delta(r) < \delta(m) \). Since both \( x \) and \( m \) are in \( I \), we have \( r = mq - x \in I \). But \( m \) minimizes \( \delta \) over \( I \), thus \( \delta(m) \leq \delta(r) \), which contradicts \( \delta(r) < \delta(m) \). Therefore, \( r = 0 \) and
  \begin{equation*}
    x = mq,
  \end{equation*}
  which implies that \( x \in \braket m \). This proves \( I \subseteq \braket m \).

  Let \( x \in \braket m \), that is, \( x = mq \) for some \( q \in R \). Since \( I \) is an ideal and \( m \in I \), all multiples of \( m \) are in \( I \) and thus \( x \in I \). This proves \( \braket m \subseteq I \).

  We have now obtained \( \braket m = I \). Since \( I \) was an arbitrary ideal, we conclude that every ideal in \( R \) is principal.
\end{proof}

\begin{proposition}\label{thm:pid_is_ufd}
  Every principal ideal \hyperref[def:principal_ideal_domain]{domain} is a unique factorization \hyperref[def:unique_factorization_domain]{domain}.

  \Fullref{thm:ufd_is_not_pid} contains a counterexample to the converse.
\end{proposition}

\begin{example}\label{thm:ufd_is_not_pid}\cite{ProofWiki:polynomials_in_integers_is_not_principal_ideal_domain}
  The unique factorization domain \( \BbbZ[X] \) is not a principal ideal domain.

  Note that \( \BbbZ[X] \) is a unique factorization domain by \fullref{thm:polynomials_over_integral_domain_are_integral_domain}.

  Consider the ideal \( I \) of polynomials with an even constant term.

  Assume that \( I \) is generated by the polynomial \( p(X) \in \BbbZ[X] \). Since \( 2 \in I \), then \( p(X) \) divides \( 2 \), so \( p(X) \in \{ -2, -1, 1, 2 \} \), that is \( p(X) \) is a unit of \( \BbbZ[X] \). But then \( I = \braket{p(X)} = \BbbZ[X] \), which contradicts the definition of \( I \).

  The obtained contradiction proves that \( \BbbZ[X] \) is not a principal ideal domain.
\end{example}

\begin{theorem}[Bezout's identity]\label{thm:bezout_identity}
  Let \( R \) be a principal ideal domain. Let \( a, b \in R \) with \( b \neq 0 \). Then \( \gcd(a, b) \) exists and, furthermore, there exist \( x, y \) such that
  \begin{equation*}
    ax + by = \gcd(a, b).
  \end{equation*}
\end{theorem}
\begin{proof}
  We will first prove the existence of \( \gcd(a, b) \). Define the ideal
  \begin{equation*}
    I \coloneqq \braket{a, b}.
  \end{equation*}

  Since every ideal is principal, there exists \( g \in I \) such that \( I = \braket g \). Let \( x, y \in R \) such that
  \begin{equation*}
    g = ax + by.
  \end{equation*}

  Note that \( g \) is a divisor of both \( a \) and \( b \) because \( a \in I \) and \( b \in I \). We will show that it is the greatest divisor. Let \( d \) be another divisor of both \( a \) and \( b \) such that \( g \mid d \) (or, equivalently, \( d \in \braket g \)).

  Let \( a = da' \) and \( b = db' \). We have
  \begin{equation*}
    g = ax + by = d(a'x + b'y),
  \end{equation*}
  which implies that \( d \mid g \). Thus, \( g = d \) and \( g \) is a greatest common denominator.
\end{proof}

\begin{algorithm}\label{alg:extended_euclidean_algorithm}
  Let \( R \) be an Euclidean domain. Fix \( a, b \in R \) with \( b \neq 0 \). We will explicitly find \( x \) and \( y \), so that \fullref{thm:bezout_identity} is satisfied:
  \begin{equation*}
    \gcd(a, b) = ax + by.
  \end{equation*}

  Let \( r_0, r_1, \ldots, r_n \) be the sequence of remainders from \fullref{alg:euclidean_algorithm}. The \term{extended Euclidean algorithm} proceeds as follows:

  \begin{thmenum}
    \thmitem{alg:extended_euclidean_algorithm/initialization} For \( i = 2 \), define
    \begin{balign*}
      x_2 & \coloneqq 1,    \\
      y_2 & \coloneqq -q_2.
    \end{balign*}

    \thmitem{alg:extended_euclidean_algorithm/step} For \( i = 2, \ldots, n \), define
    \begin{balign*}
      x_i & \coloneqq x_{i-2} - x_{i-1} q_i, \\
      y_i & \coloneqq y_{i-2} - y_{i-1} q_i.
    \end{balign*}

    \thmitem{alg:extended_euclidean_algorithm/completion} Halt the algorithm with result
    \begin{balign*}
      x & \coloneqq x_n, \\
      y & \coloneqq y_n.
    \end{balign*}
  \end{thmenum}
\end{algorithm}
\begin{proof}
  We will prove with induction on \( i = 2, \ldots, n \) that
  \begin{equation*}
    r_i = ax_i + by_i.
  \end{equation*}

  \begin{refenum}
    \refitem{alg:extended_euclidean_algorithm/initialization} For \( i = 2 \), we have
    \begin{balign*}
      r_0       & = r_1 q_2 + r_2, \\
      a         & = b q_2 + r_2,   \\
      a - b q_2 & = r_2,
    \end{balign*}
    that is, \( r_2 = a + b (-q_2) \).

    \refitem{alg:extended_euclidean_algorithm/step} For \( i = 3, \ldots, n \), we have
    \begin{balign*}
      r_{i-2}                                               & = r_{i-1} q_i + r_i,                 \\
      a x_{i-2} + b y_{i-2}                                 & = (a x_{i-1} + b y_{i-1}) q_i + r_i, \\
      a (x_{i-2} - x_{i-1} q_i) + b (y_{i-2} - y_{i-1} q_i) & = r_i.
    \end{balign*}

    \refitem{alg:extended_euclidean_algorithm/completion} Since \( r_n = \gcd(a, b) \), we conclude that
    \begin{equation*}
      \gcd(a, b) = a x_n + b y_n.
    \end{equation*}
  \end{refenum}
\end{proof}
