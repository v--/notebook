\subsection{Zermelo-Fraenkel set theory}\label{subsec:zermelo_fraenkel_set_theory}

\begin{definition}\label{def:choice_function}
  Let \( \mscrA \) be a (potentially empty) family of nonempty sets. A \term{choice function} on \( \mscrA \) is a (total) \hyperref[def:function]{function} \( c: \mscrA \to \bigcup \mscrA \) such that \( c(A) \in A \) for all \( A \in \mscrA \).

  This is formally the same as a tuple defined in \fullref{def:cartesian_product/tuple}.

  A choice function on \( \mscrA \) \enquote{chooses} an element out of each member of \( \mscrA \). We sometimes have a canonical choice function, for example in \fullref{thm:polynomial_quotient_rings_equinumerous_with_module_of_polynomials}, however for general \hyperref[def:equivalence_relation/quotient]{quotient sets} the existence of a choice function is not by any means obvious.

  The existence of a choice function for family of nonempty sets is an important axiom of \logic{ZFC} --- see \fullref{def:zfc/choice}.
\end{definition}

\begin{definition}\label{def:zfc}
  The \hyperref[def:first_order_theory]{first-order theory} commonly abbreviated as \term{\logic{ZFC}} is based on the same language as \hyperref[def:naive_set_theory]{na\"ive set theory}, but with different axioms. The three letters refer to:
  \begin{itemize}
    \item \hi{Z}ermelo, who formulated the entire theory except for the \hyperref[def:zfc/replacement]{axiom schema of replacement} and the \hyperref[def:zfc/foundation]{axiom of foundation}.
    \item\mcite[sec. 63.8]{OpenLogicFull} \hi{F}raenkel, who simultaneously with Skolem reformulated the theory within first-order logic while also introducing the axiom schema of replacement.
    \item The \hyperref[def:zfc/choice]{axiom of \hi{c}hoice}, which is part of Zermelo's original theory, but is controversial enough to attract special attention --- see \fullref{thm:axiom_of_choice_equivalences}.
  \end{itemize}

  We are usually only interested in either \logic{ZFC}, which include all axioms listed in this definition. If we wish to avoid the axiom of choice --- for example when proving the equivalences in \fullref{thm:axiom_of_choice_equivalences} --- we instead use \logic{ZF}, which excludes the axiom of choice. The abbreviation of the latter theory is inaccurate historically, but is nevertheless established.

  If we wish to instead exclude the axiom of replacement, we obtain the theory \logic{Z}, however without context it is unclear whether the axiom of choice is included in \logic{Z} or not.

  See \fullref{thm:zfc_existence_theorems} for proofs of existence of common sets.

  The full list of axioms is:
  \begin{thmenum}
    \thmitem{def:zfc/extensionality} The \term{axiom of extensionality}, as defined in \fullref{def:naive_set_theory/extensionality}. This is also the only axiom of the theory that does not deal with existence.

    \thmitem{def:zfc/specification}\mcite[sec. 62.2]{OpenLogicFull} The \term{axiom schema of specification}, also known as the axiom schema of \term{separation} or of \term{restricted comprehension}, states that given a set \( A \), any formula defines a subset of \( A \). For each formula \( \varphi \) containing neither \( \tau \) nor \( \sigma \) as free variables, the following is an axiom:
    \begin{equation}\label{eq:def:zfc/specification}
      \qforall \sigma \qexists \tau \qforall \xi (\xi \in \tau \leftrightarrow \varphi \wedge \xi \in \sigma).
    \end{equation}

    As explained in \fullref{def:naive_set_theory/unrestricted_comprehension} and \fullref{def:set_builder_notation}, this set may depend on parameters, which are other sets. We must formally take the \hyperref[thm:implicit_universal_quantification]{universal closure} of this set to quantify over all possible values for the parameters.

    Compare this axiom to \hyperref[def:naive_set_theory/unrestricted_comprehension]{unrestricted comprehension}. Informally, this axiom can be obtained by taking the result of unrestricted comprehension and intersecting it with some set \( A \). As mentioned in \fullref{def:set_builder_notation}, in set-builder notation such a set is usually denoted by
    \begin{equation*}
      \set{ x \in B \given \varphi\Bracks{x, u_1, \ldots, u_n} }.
    \end{equation*}

    Unlike unrestricted comprehension some definable subset of the universe in the metatheory no longer have a corresponding set within the object logic.

    \thmitem{def:zfc/power_set}\mcite[sec. 62.5]{OpenLogicFull} The \term{axiom of power sets} states that every set has a corresponding \hyperref[def:basic_set_operations/power_set]{power set}. Symbolically,
    \begin{equation}\label{eq:def:zfc/power_set}
      \qforall \tau \qexists \sigma \ref{eq:def:basic_set_operations/power_set/predicate}[\sigma, \tau].
    \end{equation}

    \thmitem{def:zfc/union}\mcite[sec. 62.3]{OpenLogicFull} The \term{axiom of unions} states that for every set there exists another set that is its \hyperref[def:basic_set_operations/union]{union}. Symbolically,
    \begin{equation}\label{eq:def:zfc/union}
      \qforall \tau \qexists \sigma \ref{eq:def:basic_set_operations/union/predicate}[\sigma, \tau].
    \end{equation}

    \thmitem{def:zfc/pairing}\mcite[sec. 62.4]{OpenLogicFull} The \term{axiom of pairing} states that for any sets \( A \) and \( B \) there exists another set that contains exactly \( A \) and \( B \). This is the set \( \set{ A, B } \) in set-builder notation. Symbolically,
    \begin{equation}\label{eq:def:zfc/pairing}
      \qforall \tau \qforall \sigma \qexists \rho \qforall \xi \parens[\Big]{ \xi \in \rho \leftrightarrow ( \xi \doteq \tau \vee \xi \doteq \sigma) }.
    \end{equation}

    \thmitem{def:zfc/infinity}\mcite[sec. 62.6]{OpenLogicFull} The \term{axiom of infinity} states that an \hyperref[def:inductive_set]{inductive set} exists. Symbolically,
    \begin{equation}\label{eq:def:zfc/infinity}
      \qexists \tau \ref{eq:def:inductive_set/predicate}[\tau].
    \end{equation}

    This axiom is a simple and convenient way to state that infinite sets exist. Without it, we can only deal with finite sets unless we include some other axiom to replace it.

    \thmitem{def:zfc/choice}\mcite[sec. 69.4]{OpenLogicFull} The \term{axiom of choice} states that a \hyperref[def:choice_function]{choice function} exists for any family of nonempty sets. To state the axiom via a formula, we will avoid functions and only state it in terms of the image of the choice function. That is, we will formulate that for each family \( \mscrA \) of nonempty sets there exists a set \( B \) such that \( A \cap B \) is a singleton set for each \( A \in \mscrA \). Symbolically,
    \begin{equation}\label{eq:def:zfc/choice}
      \qforall \tau \parens[\Bigg]
        {
          \parens[\Big]{ \qforall {\xi \in \tau} \neg \ref{eq:def:empty_set/predicate}[\xi] }
          \rightarrow
          \parens[\Big]{ \qexists \sigma \qforall {\xi \in \tau} \qExists {\eta \in \sigma} \eta \in \xi }
        }
    \end{equation}
    where we have used the convention regarding existence and uniqueness described in \fullref{rem:first_order_formula_conventions/exists_unique}.

    See \fullref{thm:axiom_of_choice_equivalences} for more statements equivalent to this axiom.

    \thmitem{def:zfc/replacement}\mcite[sec. 63.7]{OpenLogicFull} The \term{axiom schema of replacement} roughly states that every \hyperref[rem:function_definition]{mapping} that is definable via a formula of \logic{ZFC} is a function. As we have done for the \hyperref[def:zfc/choice]{axiom of choice}, we only formulate the axiom via the image of the function. More concretely, given a formula \( \varphi \) not containing \( \tau \) nor \( \sigma \) as free variables, the following is an axiom:
    \begin{equation}\label{eq:def:zfc/replacement}
      \qforall \tau \parens[\Bigg]
        {
          \parens[\Big]{ \qforall {\xi \in \tau} \qExists \eta \varphi }
          \rightarrow
          \parens[\Big]{ \qexists \sigma \qforall \eta \parens[\Big]{ \eta \in \sigma \leftrightarrow \qexists {\xi \in \tau} \varphi } }
        }.
    \end{equation}

    As is the case with the \hyperref[def:zfc/specification]{axiom schema of specification}, the formula \( \varphi \) may depend on parameters, in which case we use its \hyperref[thm:implicit_universal_quantification]{universal closure}.

    This axiom is useful in cases where it is impossible or at least difficult to construct a function, for example in \fullref{thm:zfc_existence_theorems/indexed_family} or \fullref{thm:hartogs_lemma}. This is the case, in general, when dealing with \hyperref[thm:zfc_existence_theorems/indexed_family]{indexed families} rather than \hyperref[def:function]{functions}.

    This is the axiom that makes \logic{ZFC} require large models --- see \fullref{thm:cumulative_hierarchy_model_of_zfc}.

    \thmitem{def:zfc/foundation}\mcite[sec. 64.4]{OpenLogicFull} The \term{axiom of foundation} states that every nonempty set contains a member disjoint from the set itself. Symbolically,
    \begin{equation}\label{eq:def:zfc/foundation}
      \qforall \tau \parens[\Big]
        {
          \neg \ref{eq:def:empty_set/predicate}[\tau]
          \rightarrow
          \qexists {\sigma \in \tau} \neg \qexists \xi \parens{ \xi \in \tau \wedge \xi \in \sigma }
        }.
    \end{equation}

    This is a very powerful axiom because it shows that set membership in \logic{ZFC} is well-founded --- see \fullref{thm:set_membership_is_well_founded}. It is equivalent to \fullref{thm:axiom_of_regularity} and is often itself called the \term{axiom of regularity}.
  \end{thmenum}
\end{definition}

\begin{proposition}\label{thm:zfc_existence_theorems}
  We will now prove that all sets we have considered up until now in \fullref{sec:set_theory} are sets in \hyperref[def:zfc]{\logic{ZFC}}. The uniqueness in all cases follows from the \hyperref[def:zfc/extensionality]{axiom of extensionality}.

  A very fundamental existence result is provided by the fact that we are assuming \hyperref[rem:standard_model_of_set_theory]{standard} and \hyperref[rem:transitive_model_of_set_theory]{transitive} models of \logic{ZFC}. Let \( \mscrV = (V, I) \) be such a model. Then if \( v \in V \) and \( u \in v \), transitivity implies that \( u \in V \). Since the model is also standard, this shows that both \( u \) and \( v \) are sets within the object theory. Thus, if \( A \) is a set within the object theory and if \( B \in A \) within the metatheory, then necessarily \( B \) itself is a set within the object theory.

  For example, \fullref{thm:zfc_existence_theorems/set_of_functions} shows that the set \( \fun(A, B) \) of functions exists within the object theory for any two sets \( A \) and \( B \) in the object theory. Therefore, every single function between \( A \) and \( B \) is a set within the object theory because it is a member of \( \fun(A, B) \).

  With that in mind, we will show the following:

  \begin{thmenum}
    \thmitem{thm:zfc_existence_theorems/subset} If \( A \) is a set, then for any formula \( \varphi \) the set \( \set{ x \in A \given \varphi[x] } \) exists and, furthermore, it is a \hyperref[def:subset]{subset} of \( A \). Only \hyperref[def:first_order_definability]{definable subsets} of \( A \) can be described in this way, however. See \fullref{thm:zfc_existence_theorems/power_set}.

    \thmitem{thm:zfc_existence_theorems/empty_set} There exists a unique \hyperref[def:empty_set]{empty set}, which we denote by \( \varnothing \).

    \thmitem{thm:zfc_existence_theorems/universe} No \hyperref[def:set]{universal set} (set of all sets) exists.

    \thmitem{thm:zfc_existence_theorems/singleton} For every set \( A \), there exists a \hyperref[rem:singleton_sets]{singleton set} \( \set{ A } \) that contains only \( A \).

    \thmitem{thm:zfc_existence_theorems/arbitrary_intersection} For any \hi{nonempty} family \( \mscrA \), the \hyperref[def:basic_set_operations/intersection]{intersection} \( \bigcap \mscrA \) exists.

    \thmitem{thm:zfc_existence_theorems/binary_intersection} For any two sets \( A \) and \( B \), their \hyperref[def:basic_set_operations/intersection]{intersection} \( A \cap B \) exists.

    \thmitem{thm:zfc_existence_theorems/arbitrary_union} For any family \( \mscrA \), the \hyperref[def:basic_set_operations/union]{union} \( \bigcup \mscrA \) exists.

    \thmitem{thm:zfc_existence_theorems/binary_union} For any two sets \( A \) and \( B \), their \hyperref[def:basic_set_operations/union]{union} \( A \cup B \) exists.

    \thmitem{thm:zfc_existence_theorems/difference} For any two sets \( A \) and \( B \), their \hyperref[def:basic_set_operations/difference]{difference} \( A \setminus B \) exists.

    \thmitem{thm:zfc_existence_theorems/power_set} For any set \( A \), its \hyperref[def:basic_set_operations/power_set]{power set} \( \pow(A) \) exists.

    As a consequence, even subsets of \( A \) which are not \hyperref[def:first_order_definability]{definable} exist.

    \thmitem{thm:zfc_existence_theorems/successor} For any set \( A \), its \hyperref[def:ordinal_successor]{successor} \( \op{succ}(A) \) exists.

    \thmitem{thm:zfc_existence_theorems/kuratowski_pair} For any two sets \( A \) and \( B \), their \hyperref[def:cartesian_product/kuratowski_pair]{Kuratowski pair} \( \braket{ A, B } \) exists.

    \thmitem{thm:zfc_existence_theorems/indexed_family} For any sets \( \mscrK \) and \( \mscrA \), any \hyperref[def:cartesian_product/indexed_family]{indexed family} \( \seq{ A_k }_{k \in \mscrK} \subseteq \mscrA \) exists.

    \thmitem{thm:zfc_existence_theorems/cartesian_product} For any indexed family \( \set{ A_k }_{k \in \mscrK} \), its \hyperref[def:cartesian_product]{Cartesian product} \( \prod_{k \in \mscrK} A_k \) exists.

    \thmitem{thm:zfc_existence_theorems/set_of_relations} For any two sets \( A \) and \( B \), the set of all relations between \( A \) and \( B \) exists.

    \thmitem{thm:zfc_existence_theorems/set_of_functions} For any two sets \( A \) and \( B \), the set \hyperref[def:function/set_of_functions]{\( \fun(A, B) \)} exists.

    \thmitem{thm:zfc_existence_theorems/quotient_set} For any set \( A \) and any \hyperref[def:equivalence_relation]{equivalence relation} \( \cong \), the \hyperref[def:equivalence_relation/quotient]{quotient set} \( A / {\cong} \) exists.

    \thmitem{thm:zfc_existence_theorems/function_evaluation} Fix some sets \( A \) and \( B \) and some indexed family of functions \( \seq{ f_k }_{k \in \mscrK} \) where \( f: A \to B_k \) for \( k \in \mscrK \). For any \( x \in A \) the corresponding tuple \( \seq{ f_k(x) }_{k \in \mscrK} \) exists.
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:zfc_existence_theorems/subset} This is a trivial consequence of the \hyperref[def:zfc/specification]{axiom schema of specification}.

  \SubProofOf{thm:zfc_existence_theorems/empty_set} As a consequence of the \hyperref[def:zfc/infinity]{axiom of infinity}, there exists at least one inductive set. Let \( A \) be an inductive set. Then from the \hyperref[def:zfc/specification]{axiom schema of specification} it follows that
  \begin{equation*}
    \set{ x \in A \given \bot }
  \end{equation*}
  is a set. Furthermore, \( x \) belongs to this set if and only if \( x \) satisfies \( \bot \), which is impossible, hence the set is empty.

  As a consequence of the \term{axiom of extensionality}, this empty set is unique. As discussed in \fullref{def:empty_set}, we denote this unique empty set by \( \varnothing \).

  \SubProofOf{thm:zfc_existence_theorems/universe} Aiming at a contradiction, suppose that there was a universal set \( U \). Then we can easily reproduce \fullref{thm:russels_paradox} by using restricted (to \( U \)) rather than unrestricted comprehension.

  Unlike in na\"ive set theory, however, the existence of \( U \) is not an axiom of the theory. Therefore, rather than demonstrating that \logic{ZFC} is inconsistent, Russel's paradox shows that certain sets like the universal set do not exist in \logic{ZFC}.

  \SubProofOf{thm:zfc_existence_theorems/singleton} Fix a set \( A \). The set \( \set{A} \), if it exists, is equal to \( \set{A} = \set{A, A} \), by the \hyperref[def:zfc/extensionality]{axiom of extensionality}.

  Thus, by the \hyperref[def:zfc/pairing]{axiom of pairing}, the singleton set \( \set{A} = \set{A, A} \) actually exists.

  \SubProofOf{thm:zfc_existence_theorems/arbitrary_intersection} Let \( \mscrA \) be a nonempty family of sets. Their intersection \( \bigcap \mscrA \), if it exists, is a subset of every set \( A \in \mscrA \).

  Therefore, since the family \( \mscrA \) is nonempty, the \hyperref[def:zfc/specification]{axiom schema of specification} applied to any set in \( A \in \mscrA \) guarantees the existence of the intersection \( \bigcap \mscrA \). More precisely, for any \( A_0 \in \mscrA \), we can define the intersection of \( A \) as
  \begin{equation*}
    \bigcap \mscrA = \set{ x \in A_0 \given \qexists {A \in \mscrA} x \in A }.
  \end{equation*}

  \SubProofOf{thm:zfc_existence_theorems/binary_intersection} For sets \( A \) and \( B \), by the \hyperref[def:zfc/pairing]{axiom of pairing} the set \( \set{ A, B } \) exists. Then by \fullref{thm:zfc_existence_theorems/arbitrary_intersection}, the binary intersection
  \begin{equation*}
    A \cap B = \bigcap \set{ A, B }
  \end{equation*}
  also exists.

  \SubProofOf{thm:zfc_existence_theorems/arbitrary_union} The existence of arbitrary unions is merely a restatement of the \hyperref[def:zfc/union]{axiom of unions}.

  \SubProofOf{thm:zfc_existence_theorems/binary_union} Similarly to \fullref{thm:zfc_existence_theorems/binary_intersection}, for sets \( A \) and \( B \), by the \hyperref[def:zfc/pairing]{axiom of pairing} the set \( \set{ A, B } \) exists and by the \hyperref[def:zfc/union]{axiom of unions}, the binary union
  \begin{equation*}
    A \cup B = \bigcup \set{ A, B }
  \end{equation*}
  exists.

  \SubProofOf{thm:zfc_existence_theorems/difference} The difference \( A \setminus B \) is guaranteed to exist by \hyperref[def:zfc/specification]{restricted comprehension}:
  \begin{equation*}
    A \setminus B = \set{ x \in A \given x \not\in B }.
  \end{equation*}

  \SubProofOf{thm:zfc_existence_theorems/power_set} The existence of power sets is a restatement of the \hyperref[def:zfc/power_set]{axiom of power sets}.

  \SubProofOf{thm:zfc_existence_theorems/successor} The successor of \( A \) is
  \begin{equation*}
    \op{succ}(A) = \set{ A } \cup A.
  \end{equation*}

  Its existence follows from \fullref{thm:zfc_existence_theorems/singleton} and \fullref{thm:zfc_existence_theorems/binary_union}.

  \SubProofOf{thm:zfc_existence_theorems/kuratowski_pair} The existence of the Kuratowski pair
  \begin{equation*}
    \braket{ A, B } = \set{ \set{ A }, \set{ A, B } }
  \end{equation*}
  can be proven by the \hyperref[def:zfc/pairing]{axiom of pairing} applied first to \( \set{ A, B } \) and then to the pair itself.

  \SubProofOf{thm:zfc_existence_theorems/indexed_family} Given an indexed family \( \seq{ A_k }_{k \in \mscrK} \), by the \hyperref[def:zfc/replacement]{axiom schema of replacement}, there exists a set
  \begin{equation*}
    \mscrA \coloneqq \set{ A_k \given k \in \mscrK }.
  \end{equation*}

  The family \( \seq{ A_k }_{k \in \mscrK} \) is, formally, a set of Kuratowski pairs. Every pair \( \braket{ k, A_k } \) is itself a subset of \( \pow(\mscrK \bigcup \mscrA) \). The family is then a subset of \( \pow(\pow(\mscrK \bigcup \mscrA)) \). Applying the \hyperref[def:zfc/power_set]{axiom of power sets} again, we obtain that the family exits as a set.

  \SubProofOf{thm:zfc_existence_theorems/cartesian_product} By definition, the Cartesian product \( \prod_{k \in \mscrK} A_k \) is a set of indexed by \( \mscrK \) families of members of the union \( \bigcup\set{ A_k \given k \in \mscrK } \).

  We can apply the \hyperref[def:zfc/power_set]{axiom of power sets} one more time in addition to those in \fullref{thm:zfc_existence_theorems/indexed_family} to obtain the set of all indexed by \( \mscrK \) families of members of this union. Then we can apply the \hyperref[def:zfc/specification]{axiom schema of specification} to restrict only to those families that satisfy the condition of \fullref{def:cartesian_product/product}.

  \SubProofOf{thm:zfc_existence_theorems/set_of_relations} All relations between \( A \) and \( B \) are subsets of \( A \times B \), hence elements of \( \pow(A \times B) \). The latter exists by \fullref{thm:zfc_existence_theorems/cartesian_product} and \fullref{thm:zfc_existence_theorems/power_set}.

  \SubProofOf{thm:zfc_existence_theorems/set_of_functions} The set of single-valued functions from \( A \) to \( B \) is a subset of \( \pow(A \times B) \), hence it exists by \fullref{thm:zfc_existence_theorems/set_of_relations} and \fullref{thm:zfc_existence_theorems/power_set}.

  \SubProofOf{thm:zfc_existence_theorems/quotient_set} Let \( A \) be an arbitrary set and \( \cong \) be a binary relation over \( A \). Then \( A / {\cong} \) is a subset of \( \pow(A) \) and hence it exists as a consequence of the \hyperref[def:zfc/power_set]{axiom of power sets} and the \hyperref[def:zfc/specification]{axiom schema of specification} --- see \fullref{thm:equivalence_partition/partition}.

  \SubProofOf{thm:zfc_existence_theorems/function_evaluation} The set \( \seq{ f_k }_{k \in \mscrK} \) exists because it is a member of \( \fun(\mscrK, \fun(A, B)) \), which set exists by \fullref{thm:zfc_existence_theorems/set_of_functions}.

   Then \( \seq{ f_k(x) }_{k \in \mscrK} \) is the function
   \begin{equation*}
     \begin{aligned}
       &g_x: \fun(\mscrK, B) \\
       &g_x(k) \coloneqq f_k(x).
     \end{aligned}
   \end{equation*}
\end{proof}

\begin{theorem}[Multi-valued selection existence]\label{thm:existence_of_multi_valued_function_selection}
  Every \hyperref[def:multi_valued_function/total]{total multi-valued function} has a \hyperref[def:function/selection]{selection}.

  Within \hyperref[def:zfc]{\logic{ZF}}, this theorem is equivalent to the \hyperref[def:zfc/choice]{axiom of choice} --- see \fullref{thm:axiom_of_choice_equivalences/selection}.
\end{theorem}
\begin{proof}
  \ImplicationSubProof[def:zfc/choice]{the axiom of choice}[thm:existence_of_multi_valued_function_selection]{selection existence} Let \( F: A \multto B \) be a total multi-valued function. As described in \fullref{rem:multi_valued_functions}, we can instead take the \hyperref[def:cartesian_product/indexed_family]{indexed family} \( \set{ F(a) }_{a \in A} \). Denote by \( f \) the \hyperref[def:function]{single-valued function} from \( A \) to the image \( \set{ F(a) \given a \in A } \subseteq \pow(B) \) of this indexed family (see \fullref{rem:multi_valued_functions} for clarifications).

  Since \( F \) is \hyperref[def:multi_valued_function/total]{total}, the family \( \img(f) = \set{ F(a) }_{a \in A} \) is a (potentially empty) family of nonempty sets. Thus, we can apply the axiom of choice to obtain a \hyperref[def:choice_function]{choice function} \( c: \img(f) \to B \).

  The composition \( c \bincirc f \) is then a single-valued function. Furthermore, we have
  \begin{equation*}
    (c \bincirc f)(a) \in f(a) = F(a)
  \end{equation*}
  so \( c \bincirc f \) is a selection of \( F \).

  \ImplicationSubProof[thm:existence_of_multi_valued_function_selection]{selection existence}[def:zfc/choice]{axiom of choice} Fix a family \( \mscrA \) of nonempty sets. Define the function
  \begin{equation*}
    \begin{aligned}
      &F: \mscrA \to \bigcup \mscrA \\
      &F(A) \coloneqq A
    \end{aligned}
  \end{equation*}
  that sends each set in \( \mscrA \) to the corresponding subset of \( \mscrA \). In terms of relations, we have \( (A, x) \in F \) if and only if \( x \in A \). This is a total multi-valued function because every set in \( \mscrA \) is nonempty.

  Then every selection of \( F \) is a choice function for \( \mscrA \).
\end{proof}

\begin{definition}\label{def:disjoint_union}
  The \term{disjoint union} of the \hyperref[def:cartesian_product/indexed_family]{indexed family} \( \seq{ A_k }_{k \in \mscrK} \) of nonempty sets is
  \begin{equation*}
    \coprod_{k \in \mscrK} A_k \coloneqq \set[\Big]{ (k, x) \given k \in \mscrK \T{and} x \in A_k }.
  \end{equation*}
\end{definition}

\begin{theorem}[Surjective functions are right-invertible]\label{thm:surjective_functions_are_right_invertible}
  Every \hyperref[def:function_invertibility/surjective]{surjective function} is \hyperref[def:morphism_invertibility/right_invertible]{right-invertible}.

  Within \hyperref[def:zfc]{\logic{ZF}}, this theorem is equivalent to the \hyperref[def:zfc/choice]{axiom of choice} --- see \fullref{thm:axiom_of_choice_equivalences/surjective}.
\end{theorem}
\begin{proof}
  Let \( f: A \to B \) be any function. Its \hyperref[def:multi_valued_function/inverse]{inverse} \( f^{-1}: B \multto A \) is, by definition, a partial multi-valued function.

  \ImplicationSubProof[def:zfc/choice]{the axiom of choice}[thm:epimorphisms_split_in_set]{right-invertibility} If \( f \) is surjective, then by \fullref{def:function_invertibility/surjective/inverse}, its inverse is total. Then the axiom of choice via \fullref{thm:existence_of_multi_valued_function_selection} gives us a \hyperref[def:function/selection]{single-valued selection} \( g \) of \( f^{-1} \).

  Since the value of \( f \) is \( y \) for all members of \( f^{-1}(y) \), and since \( g(y) \in f^{-1}(y) \), we have
  \begin{equation*}
    [f \bincirc g](y) = f(g(y)) = y.
  \end{equation*}

  Therefore, \( g \) is a right inverse of \( f \).

  \ImplicationSubProof[thm:epimorphisms_split_in_set]{right-invertibility}[def:zfc/choice]{the axiom of choice} Suppose that every surjective function is invertible.

  Let \( \mscrA \) be an arbitrary family of nonempty sets. We can regard it as the \hyperref[def:cartesian_product/indexed_family]{indexed family} \( \seq{ A }_{A \in \mscrA} \). Define the function
  \begin{equation*}
    \begin{aligned}
      &f: \coprod_{A \in \mscrA} A \to \mscrA, \\
      &f(A, x) \coloneqq A,
    \end{aligned}
  \end{equation*}
  where by \( \coprod \) we have denoted the \hyperref[def:disjoint_union]{disjoint union}.

  This function is surjective by definition. Then there exists a right-inverse
  \begin{equation*}
    g: \mscrA \to \seq{ A }_{A \in \mscrA}.
  \end{equation*}

  For every set \( A \in \mscrA \) we have \( [f \bincirc g](A) = A \). Given a set \( A \), \( g \) gives us a pair \( (A, x) \) with \( x \in A \) and so \( f(A, x) = A \).

  Finally, define the choice function
  \begin{equation*}
    \begin{aligned}
      &c: \mscrA \to \bigcup \mscrA, \\
      &c(A) \coloneqq x \T{where} (A, x) = g(A).
    \end{aligned}
  \end{equation*}

  Since the family \( \mscrA \) was arbitrary, we can conclude that the axiom of choice holds.
\end{proof}

\begin{proposition}\label{thm:function_invertibility_categorical}
  We prove this result here rather than in \fullref{subsec:functions} because it requires \fullref{thm:surjective_functions_are_right_invertible}, which requires the axiom of choice introduced in this section.

  In relation to \hyperref[def:morphism_invertibility]{morphism invertibility} in the category \hyperref[def:category_of_small_sets]{\( \cat{Set} \)}, we have the following:
  \begin{thmenum}
    \thmitem{thm:function_invertibility_categorical/empty} An \hyperref[def:multi_valued_function/empty]{empty function} is always \hyperref[def:function_invertibility/injective]{injective} and \hyperref[def:morphism_invertibility/left_invertible]{left-invertible}, however only if its range is empty is it \hyperref[def:morphism_invertibility/left_cancellative]{left-cancellative}, \hyperref[def:morphism_invertibility/right_cancellative]{right-cancellative}, \hyperref[def:morphism_invertibility/right_invertible]{right-invertible} or \hyperref[def:function_invertibility/surjective]{surjective}.

    \thmitem{thm:function_invertibility_categorical/nonempty_left_invertible} A nonempty function is \hyperref[def:morphism_invertibility/left_invertible]{left-invertible} if and only if it is \hyperref[def:function_invertibility/injective]{injective}.

    \thmitem{thm:function_invertibility_categorical/left_cancellative} A function is \hyperref[def:morphism_invertibility/left_cancellative]{left-cancellative} if and only if it is \hyperref[def:function_invertibility/injective]{injective}.

    \thmitem{thm:function_invertibility_categorical/right_invertible} A function is \hyperref[def:morphism_invertibility/right_invertible]{right-invertible} if and only if it is \hyperref[def:function_invertibility/surjective]{surjective}.

    \thmitem{thm:function_invertibility_categorical/right_cancellative} A function is \hyperref[def:morphism_invertibility/right_cancellative]{right-cancellative} if and only if it is \hyperref[def:function_invertibility/surjective]{surjective}.

    \thmitem{thm:function_invertibility_categorical/fully_invertible} A function is \hyperref[def:function_invertibility/bijective]{bijective} if and only if it is \hyperref[def:morphism_invertibility/isomorphism]{fully invertible}.
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:function_invertibility_categorical/empty} Let \( g: \varnothing \to C \) be the empty function to \( C \). It is vacuously injective. It is also left-invertible because the only function that can be composed with \( g: \varnothing \to C \) from the left is the unique function from \( \varnothing \) to \( \varnothing \).

  Clearly \( g: \varnothing \to C \) it is surjective if and only if \( C = \varnothing \).

  For left-invertibility, note that \( g: \varnothing \to C \) composed with the function \( h: C \to D \) on the left is another empty function \( h \bincirc g: \varnothing \to D \). The latter is the identity \( \id_\varnothing \) if and only if \( C = D = \varnothing \).

  For right-invertibility, note that \( g: \varnothing \to C \) composed with the function \( f: A \to \varnothing \) on the right is the function \( g \bincirc f: A \to C \). But \( A = \varnothing \) since otherwise \( f \) would be nonempty, hence \( g \bincirc f: \varnothing \to C \). The latter is the identity \( \id_\varnothing \) if and only if \( C = \varnothing \).

  For right-cancellation, note that \( g \bincirc f_1 = g \bincirc f_2 \) implies \( f_1 = f_2 \) if and only if \( B \) is empty.

  \SubProofOf{thm:function_invertibility_categorical/nonempty_left_invertible} Let \( f: A \to B \) be a nonempty injective function. \Fullref{def:function_invertibility/injective/inverse} states that the \hyperref[def:multi_valued_function/inverse]{inverse} \( f^{-1}: B \to A \) is a partial single-valued function.

  Fix some value \( a \in A \) and define
  \begin{equation*}
    \begin{aligned}
      &g: B \to A \\
      &g(y) \coloneqq \begin{cases}
        f^{-1}(y), &y \in f(A) \\
        a,         &\T{otherwise.}
      \end{cases}
    \end{aligned}
  \end{equation*}

  This function \( g \) is a left inverse of \( f \) because, for any \( x \in A \),
  \begin{equation*}
    [g \bincirc f](x)
    =
    g(f(x))
    =
    f^{-1}(f(x))
    =
    x.
  \end{equation*}

  We can see that \( g \) would be unique except for our choice of \( a \). We may even define \( g \) to take different values in \( A \) outside \( f(A) \). Thus, \( g \) is non-unique in general.

  Conversely, suppose that \( f: A \to B \) is not necessarily injective and let \( g: B \to A \) be a left inverse of \( f \). Let \( x_1 \) and \( x_2 \) be two different points in \( A \). Since \( g \bincirc f = \id_A \), clearly \( g(f(x_1)) \neq g(f(x_2)) \). If we suppose that \( f(x_1) = f(x_2) \), we would obtain a contradiction since then \( g(f(x_1)) \) would equal \( g(f(x_2)) \). Hence, \( f(x_1) \neq f(x_2) \). This shows that \( f \) is injective.

  \SubProofOf{thm:function_invertibility_categorical/left_cancellative} The case with an empty function is handled in \fullref{thm:function_invertibility_categorical/empty}, and we assume that it is nonempty.

  Suppose that \( g: B \to C \) is a nonempty left-cancellative function. Let \( y_1 \) and \( y_2 \) be some members of \( B \) such that \( g(y_1) = g(y_2) \).

  Suppose that \( y_1 \neq y_2 \) and define the function
  \begin{equation*}
    \begin{aligned}
      &f: B \to B \\
      &f(y) \coloneqq \begin{cases}
        y_2, &y = y_1 \\
        y_1, &y = y_2 \\
        y,   &y \neq y_1 \T{and} y \neq y_2
      \end{cases}
    \end{aligned}
  \end{equation*}

  Then
  \begin{equation*}
    g(f(y_2)) = g(y_1) = g(y_2) = g(f(y_1))
  \end{equation*}

  For all \( y \in B \) different from \( y_1 \) and \( y_2 \), we have \( y = f(y) \).

  Since \( g \) is left-cancellative, from \( g \bincirc \id_B = g \bincirc f \) it follows that \( \id_B = f \), which is a contradiction.

  It remains for \( y_1 \) to be equal to \( y_2 \). Since these were arbitrary points in \( B \) satisfying \( g(y_1) = g(y_2) \), we conclude that \( g \) is injective.

  Conversely, if \( f \) is injective, it is left-invertible by \fullref{thm:function_invertibility_categorical/nonempty_left_invertible} and left-cancellative by \fullref{thm:def:morphism_invertibility/properties/split_monomorphism}.

  \SubProofOf{thm:function_invertibility_categorical/right_invertible} In one direction, we have \fullref{thm:surjective_functions_are_right_invertible}.

  Conversely, suppose that \( g: B \to A \) is a right inverse of \( f: A \to B \). Let \( y \in B \). We have that \( g(y) \) is in the preimage of \( y \) under \( f \) because \( f(g(y)) = y \). Thus, the preimage is not empty for an arbitrary point in \( B \). We conclude that \( f \) is surjective.

  \SubProofOf{thm:function_invertibility_categorical/right_cancellative} The case with an empty function is handled in \fullref{thm:function_invertibility_categorical/empty}, and we assume that it is nonempty.

  Let \( f: A \to B \) be a nonempty right-cancellative function. Suppose that it is not surjective and let \( y_0 \in B \setminus \img f \). Let \( z \) be some set not belonging to \( B \). Define the function
  \begin{equation*}
    \begin{aligned}
      &g: B \to B \cup \set{ z } \\
      &g(y) \coloneqq \begin{cases}
        z, &y = y_0 \\
        y, &y \neq y_0
      \end{cases}
    \end{aligned}
  \end{equation*}

  Since \( f \) is right-cancellative, from \( \id_B \bincirc f = g \bincirc f \) it follows that \( \id_B = g \), which is a contradiction. Therefore, \( f \) is surjective.

  We can prove the converse using \fullref{thm:function_invertibility_categorical/right_invertible} like we did for \fullref{thm:function_invertibility_categorical/left_cancellative}, however we prefer a direct proof that does not rely on the axiom of choice. As a bonus, this would allow us to prove \fullref{thm:epimorphisms_split_in_set}.

  Conversely, suppose that \( f: A \to B \) is surjective and that for some functions \( g_1, g_2: B \to C \) we have
  \begin{equation*}
    g_1 \bincirc f = g_2 \bincirc f.
  \end{equation*}

  Fix some \( y \in B \). Because \( f \) is surjective, there exists some \( x \in A \) such that \( f(x) = y \). Then
  \begin{equation*}
    g_1(y) = [g_1 \bincirc f](x) = [g_2 \bincirc f](x) = g_2(y).
  \end{equation*}

  Since \( y \in B \) was arbitrary, we conclude that \( f \) is right-cancellative.

  it is right-invertible by \fullref{thm:surjective_functions_are_right_invertible} and right-cancellative by \fullref{thm:def:morphism_invertibility/properties/split_epimorphism}.

  \SubProofOf{thm:function_invertibility_categorical/fully_invertible} If \( f: \varnothing \to B \) is a bijective empty function, then it is surjective and, by \fullref{thm:function_invertibility_categorical/right_invertible}, it is right-invertible. By \fullref{thm:function_invertibility_categorical/empty}, it is also left-invertible. Thus, it is fully invertible.

  Conversely, if an empty function \( f: \varnothing \to B \) is fully invertible, by \fullref{thm:function_invertibility_categorical/empty} we have \( A = B = \varnothing \) and hence it is bijective.

  Finally, if \( f: A \to B \) is \hi{nonempty} function, then by \fullref{thm:function_invertibility_categorical/nonempty_left_invertible} and \fullref{thm:function_invertibility_categorical/right_invertible} it is bijective if and only if it is fully invertible.

  In the bijective case, we can avoid the axiom of choice via \fullref{thm:surjective_functions_are_right_invertible} by noting that if \( f \) is bijective, its inverse is single-valued, and thus it is not necessary to do a selection of \( f^{-1} \).
\end{proof}

\begin{theorem}[Axiom of choice equivalences]\label{thm:axiom_of_choice_equivalences}
  The following statements are commonly referred to as \enquote{the} \hyperref[def:zfc/choice]{axiom of choice}:
  \begin{thmenum}[series=thm:axiom_of_choice_equivalences]
    \thmitem{thm:axiom_of_choice_equivalences/choice_sets} For every family of nonempty sets \( \mscrA \) there exists a set \( B \) such that \( A \cap B \) is a singleton set for every \( A \in \mscrA \).

    \thmitem{thm:axiom_of_choice_equivalences/choice_function} Every family of nonempty sets has a corresponding \hyperref[def:choice_function]{choice function}.

    \thmitem{thm:axiom_of_choice_equivalences/choice_product} The \hyperref[def:cartesian_product]{Cartesian product} of a family of nonempty sets is nonempty.
  \end{thmenum}

  The following statements are equivalent to the axiom of choice, but are not conflated with it:
  \begin{thmenum}[resume=thm:axiom_of_choice_equivalences]
    \thmitem{thm:axiom_of_choice_equivalences/selection} \Fullref{thm:existence_of_multi_valued_function_selection}: Every \hyperref[def:multi_valued_function/total]{total multi-valued function} has a \hyperref[def:function/selection]{selection}.

    \thmitem{thm:axiom_of_choice_equivalences/surjective} \Fullref{thm:surjective_functions_are_right_invertible}: Every \hyperref[def:function_invertibility/surjective]{surjective function} is \hyperref[def:morphism_invertibility/right_invertible]{right-invertible}.

    \thmitem{thm:axiom_of_choice_equivalences/hypergraph} \Fullref{thm:hypergraphs_have_minimal_transversal}: Every \hyperref[def:hypergraph]{hypergraph} has a \hyperref[def:hypergraph_minimal_transversal]{minimal transversal}.

    \thmitem{thm:axiom_of_choice_equivalences/epimorphisms} \Fullref{thm:epimorphisms_split_in_set}: Every \hyperref[def:morphism_invertibility/right_cancellative]{epimorphism} in \hyperref[def:category_of_small_sets]{\( \cat{Set} \)} splits.

    \thmitem{thm:axiom_of_choice_equivalences/fully_faithful_essentially_surjective} \Fullref{thm:fully_faithful_and_essentially_surjective_functor_induces_equivalence}: Every \hyperref[def:functor_invertibility/fully_faithful]{fully faithful} and \hyperref[def:functor_invertibility/surjective_on_objects]{essentially surjective on objects} functor induces a \hyperref[def:category_equivalence]{category equivalence}.

    \thmitem{thm:axiom_of_choice_equivalences/skeletons} \Fullref{thm:category_skeleton_existence}: Every \hyperref[def:category]{category} has a \hyperref[def:skeletal_category]{skeleton}.

    \thmitem{thm:axiom_of_choice_equivalences/well_ordering} \Fullref{thm:well_ordering_theorem}: Every \hyperref[def:set]{set} can be \hyperref[def:well_ordered_set]{well-ordered}.

    \thmitem{thm:axiom_of_choice_equivalences/zorns_lemma} \Fullref{thm:zorns_lemma}: If every \hyperref[def:partially_ordered_set_chain_and_antichain]{chain} in a \hyperref[def:partially_ordered_set]{partially ordered set} has an \hyperref[def:partially_ordered_set_extremal_points/upper_and_lower_bounds]{upper bound}, then the entire set has a \hyperref[def:partially_ordered_set_extremal_points/maximal_and_minimal_element]{maximal element}.

    \thmitem{thm:axiom_of_choice_equivalences/maximal_ideal} \Fullref{thm:maximal_ideal_theorem}: Every proper \hyperref[def:semiring_ideal]{semiring ideal} is contained in a \hyperref[def:derived_semiring_ideals/maximal]{maximal ideal}.

    \thmitem{thm:axiom_of_choice_equivalences/vector_space_bases} \Fullref{thm:every_vector_space_has_a_basis}: Every vector space has a \hyperref[def:module_hamel_basis]{basis}.

    \thmitem{thm:axiom_of_choice_equivalences/tychonoff} \Fullref{thm:tychonoffs_product_theorem}: The \hyperref[def:topological_product]{topological product} of \hyperref[def:compact_space]{compact spaces} is compact.
  \end{thmenum}
\end{theorem}
\begin{proof}
  The equivalence proofs can be found in the linked theorems since that is usually the most appropriate place to put them.
\end{proof}

\begin{theorem}[Diaconescu-Goodman-Myhill theorem]\label{thm:diaconescu_goodman_myhill_theorem}\mcite[corr. 2]{Diaconescu1975}
  In \hyperref[def:zfc]{\logic{ZF}}, the \hyperref[def:zfc/choice]{axiom of choice} entails the law of the excluded middle \eqref{eq:thm:minimal_propositional_negation_laws/lem}.
\end{theorem}
