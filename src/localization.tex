\subsection{Localization}\label{subsec:localization}

\begin{definition}\label{def:ring_localization}\mcite\cite[428]{Knapp2016BAlg}
  Let \( S \subseteq R \) be closed under multiplication.

  Define the following equivalence relation on \( R \times S \):
  \begin{equation*}
    (r, s) \cong (r', s') \iff \exists t \in S: t(rs' - sr') = 0.
  \end{equation*}

  Define the ring
  \begin{equation*}
    S^{-1} R \coloneqq R \times S / \cong
  \end{equation*}
  with operations inherited from \( R \) using the injection
  \begin{balign*}
     & \iota: R \to S^{-1} R        \\
     & \iota(r) \coloneqq [(r, 1)].
  \end{balign*}
\end{definition}

\begin{proposition}\label{thm:ring_localization_universal_property}\mcite\cite[431]{Knapp2016BAlg}
  Let \( S \subseteq R \) be closed under multiplication. The ring \hyperref[def:ring_localization]{localization} \( S^{-1} R \) satisfies the following universal property: if \( T \) is a nontrivial commutative unital ring and \( \varphi: R \to T \) is a unital ring homomorphism such that \( \varphi(S) \) are units in \( T \), there exists a unique ring homomorphism \( \hat \varphi \) such that the following diagram commutes:

  \begin{alignedeq}\label{thm:ring_localization_universal_property/diagram}
    \begin{mplibcode}
      beginfig(1);
      input metapost/graphs;

      v1 := thelabel("$S^{-1} R$", origin);
      v2 := thelabel("$T$", (2, 0) scaled u);
      v3 := thelabel("$R$", (1, 1) scaled u);

      a1 := straight_arc(v3, v2);
      a2 := straight_arc(v3, v1);

      d1 := straight_arc(v1, v2);

      draw_vertices(v);
      draw_arcs(a);

      drawarrow d1 dotted;

      label.urt("$\varphi$", straight_arc_midpoint of a1);
      label.ulft("$\iota$", straight_arc_midpoint of a2);
      label.top("$\hat\varphi$", straight_arc_midpoint of d1);
      endfig;
    \end{mplibcode}
  \end{alignedeq}
\end{proposition}

\begin{proposition}\label{thm:ring_localization_preserves_ideals}\mcite\cite[432]{Knapp2016BAlg}
  If \( I \) is an ideal in \( R \), then
  \begin{equation*}
    S^{-1} I \coloneqq \{ s^{-1} x \mid s \in S, x \in I \}
  \end{equation*}
  is an ideal in the \hyperref[def:ring_localization]{localization} \( S^{-1} R \).
\end{proposition}

\begin{definition}\label{def:local_ring}
  If \( R \) has a unique \hyperref[def:maximal_ring_ideal]{maximal ideal}, we say that it is a \term{local ring}.
\end{definition}

\begin{proposition}\label{thm:localization_of_prime_is_local}\mcite\cite[cor. 8.50]{Knapp2016BAlg}
  Fix a prime ideal \( P \). Its complement
  \begin{equation*}
    S \coloneqq \BbbZ \setminus P
  \end{equation*}
  is closed under multiplication and we can perform \hyperref[def:ring_localization]{localization}.

  In this case, the ring \( S^{-1} R \) is a local \hyperref[def:local_ring]{ring} and \( M \coloneqq S^{-1} P \) is its unique maximal ideal.
\end{proposition}

\begin{example}\label{ex:ring_localization}\mcite\cite[430]{Knapp2016BAlg}
  Let \( p \) be a prime \hyperref[def:prime_number]{number} and \( P = \braket p \) be the corresponding \hyperref[def:prime_ring_ideal]{prime ideal}. Denote its complement by \( S \).

  The ring \( S^{-1} R \) then consists of all rational \hyperref[def:rational_numbers]{numbers} whose denominators are not divisible by \( p \).

  In particular, if \( p = 2 \), then \( S^{-1} R \) is the set of all rational numbers with odd denominators.
\end{example}

\begin{definition}\label{def:field_of_fractions}
  The \term{field of fractions} of \( R \) is defined as the \hyperref[def:ring_localization]{localization} of \( R \) by the set
  \begin{equation*}
    S \coloneqq R \setminus \{ 0 \}.
  \end{equation*}
\end{definition}
\begin{proof}
  This is indeed a field since all nonzero elements are invertible.
\end{proof}
