\subsection{Series}\label{subsec:series}

Here \( (X, \Norm) \) will refer to a Banach space over \( \K \).

\begin{definition}\label{def:convergent_series}
  When extending addition to a countable amount of terms, we need to impose some regularity conditions to avoid contradictions. The topologies of \( \R \) and \( \C \) are complete and allow us to define convergent and divergent series. We define series in great generality because the theory easily allows it.

  A \Def{numeric series} or simply \Def{series} is an infinite sequence \( x_0, x_1, \ldots \in X \), which we call \Def{terms}, usually written as
  \begin{equation}\label{def:convergent_series/series}
    \sum_{k=0}^\infty x_k.
  \end{equation}

  To each series, there corresponds its sequence of \Def{partial sums}
  \begin{equation*}
    S_n \coloneqq \sum_{k=0}^n x_k, n = 0, 1, 2, \ldots.
  \end{equation*}

  We can equivalently define a series as a sequence of partial sums and then recover the terms as
  \begin{equation*}
    x_k \coloneqq \begin{cases}
      S_0,           &k = 0, \\
      S_k - S_{k-1}, &k > 0
    \end{cases}
  \end{equation*}

  We say that the series \cref{def:convergent_series/series} \Def{converges} to a value \( x \) if \( \lim_{n \to \infty} S_n = x \) in the sense of \cref{thm:metric_topology_convergence}. The value \( x \) is called the \Def{sum} of the series.

  If a series does not converge, we say that it is \Def{divergent}.

  If the related series
  \begin{equation}\label{def:convergent_series/absolute_series}
    \sum_{k=0}^\infty \Norm{x_k}
  \end{equation}
  converges, we say that \cref{def:convergent_series/series} is \Def{absolutely convergent}.
\end{definition}

\begin{example}\label{ex:series}
  Several examples of series are
  \begin{itemize}
    \item An absolutely convergent series is \cref{def:geometric_progression/series_sum_interior}
    \item A divergent series is \cref{def:harmonic_progression/harmonic_series}.
    \item A convergent but not absolutely convergent series is \cref{def:harmonic_progression/harmonic_series}.
  \end{itemize}
\end{example}

\begin{proposition}\label{thm:absolutely_convergent_series_is_convergent}
  An absolutely convergent series is convergent.
\end{proposition}
\begin{proof}
  Suppose that \cref{def:convergent_series/absolute_series} converges.

  By the triangle inequality, for each index \( n \) we have
  \begin{equation*}
    \Norm{\sum_{k=0}^n x_k} \leq \sum_{k=0}^n \Norm{x_k} \leq \sum_{k=0}^\infty \Norm{x_k}.
  \end{equation*}

  Thus the sequence \( \left\{ \Norm{\sum_{k=0}^{n} x_k} \right\}_{n=0}^\infty \) is a bounded (by \( \sum_{k=0}^\infty \Norm{x_k} \)) monotone sequence, which by \cref{thm:real_monotone_sequence_converges_iff_bounded} is convergent.

  Therefore the series \cref{def:convergent_series/series} is convergent.
\end{proof}

\begin{remark}\label{remark:establish_series_convergence_by_absolute_series}
  Convergence of the series \cref{def:convergent_series/series} can be established using the convergence of the nonnegative series \cref{def:convergent_series/absolute_series}.

  The convergence of the latter can be established using techniques in \cref{subsec:real_series} like \fullref{thm:cauchys_root_test} or \fullref{thm:dalamberts_ratio_test}.
\end{remark}

\begin{proposition}\label{thm:infinitary_triangle_inequality}
  For every series \cref{def:convergent_series/series} we have
  \begin{equation}\label{thm:infinitary_triangle_inequality/inequality}
    \Norm{\sum_{k=0}^\infty x_k} \leq \sum_{k=0}^\infty \Norm{x_k},
  \end{equation}
  where both limits are allowed to be infinite.
\end{proposition}
\begin{proof}
  If the series on the right diverges, the inequality is obviously true.

  Suppose that it is convergent. By \cref{thm:absolutely_convergent_series_is_convergent}, the limit
  \cref{def:convergent_series/series} exists.

  By the triangle inequality, for each index \( n \) we have
  \begin{equation*}
    \Norm{\sum_{k=0}^n x_k} \leq \sum_{k=0}^n \Norm{x_k}.
  \end{equation*}

  By \cref{thm:one_sided_squeeze_lemma}, since both sequences are convergent, we obtain \cref{thm:infinitary_triangle_inequality/inequality}.
\end{proof}

\begin{proposition}\label{thm:convergent_series_terms_vanish}
  The terms of the convergent series \cref{def:convergent_series/series} vanish as \( k \to \infty \), that is,
  \begin{equation*}
    \lim_{k \to \infty} x_k = 0.
  \end{equation*}
\end{proposition}
\begin{proof}
  Since the series is convergent, its sequence of partial sums converges, i.e. the partial sums get arbitrarily close to each other. Then
  \begin{equation*}
    \Norm{x_n} = \Norm{S_n - S_{n-1}} \to 0.
  \end{equation*}
\end{proof}

\begin{theorem}\label{thm:product_of_series_convergence}
  Consider two convergent series
  \begin{equation}\label{thm:product_of_series_convergence/a}
    A \coloneqq \sum_{k=0}^\infty x_k
  \end{equation}
  and
  \begin{equation}\label{thm:product_of_series_convergence/b}
    B \coloneqq \sum_{k=0}^\infty y_k.
  \end{equation}

  If either \cref{thm:product_of_series_convergence/a} or \cref{thm:product_of_series_convergence/b} converges absolutely, then
  \begin{equation}\label{thm:product_of_series_convergence/prod}
    \sum_{k=0}^\infty \sum_{m=0}^k x_m y_{k-m} = AB.
  \end{equation}
\end{theorem}

\begin{proposition}[Cauchy's series convergence criterion]\label{thm:cauchy_series_convergence_criterion}\cite[3.22]{Rudin1991}
  The series \cref{def:convergent_series/series} converges if and only if for every \( \varepsilon > 0 \) there exists an index \( K \) such that
  \begin{equation*}
    \Norm{\sum_{k=m}^n x_k} < \varepsilon \quad\forall m, n \geq K.
  \end{equation*}
\end{proposition}
\begin{proof}
  This is simply a restatement of \cref{thm:cauchys_convergence_criterion}.
\end{proof}

\begin{proposition}[Cauchy's series continuity criterion]\label{thm:cauchy_series_continuity_criterion}\cite[\textnumero 265]{Фихтенгольц1968/2}
  Fix a topological space \( A \) and a set \( S \subseteq A \). Let \( \{ f_k \}_{k=0}^\infty \) be a sequence of continuous functions from \( S \) to \( X \).

  Define the function \( f: S \to X \) as
  \begin{equation}\label{thm:cauchy_series_continuity_criterion/function}
    f(x) \coloneqq \sum_{k=0}^\infty f_k(x).
  \end{equation}

  A sufficient condition for \( f \) to be continuous in \( S \) is that for every \( \varepsilon > 0 \) there exists an index \( K \) such that
  \begin{equation*}
    \Norm{\sum_{k=m}^n f(x)} < \varepsilon \quad\forall m, n \geq K
  \end{equation*}
  simultaneously for all \( x \in S \).
\end{proposition}
\begin{proof}
  This is simply a restatement of \cref{def:uniform_limit_of_continuous_functions} in the style of \cref{thm:cauchy_series_convergence_criterion}.
\end{proof}

\begin{corollary}[Weierstrass' series criterion]\label{thm:weierstrass_series_criterion}\cite[\textnumero 265]{Фихтенгольц1968/2}
  Let \( S \) be any set and \( \{ f_k \}_{k=0}^\infty \) be a sequence of functions from \( S \) to \( X \). Consider the series \cref{thm:cauchy_series_continuity_criterion/function}. If
  \begin{equation*}
    \forall k \in \Z^{>0} \ \exists M_k \in \R^{>0} \ \forall x \in S : \Norm{f_k(x)} < M_k
  \end{equation*}
  and if the series
  \begin{equation}\label{thm:weierstrass_series_criterion/dominating}
    \sum_{k=0}^\infty M_k
  \end{equation}
  converges, then the limit \cref{thm:cauchy_series_continuity_criterion/function} exists for every \( x \in S \) and, furthermore, the series converges absolutely and uniformly.

  In analogy to \cref{thm:positive_series_comparison}, we say that the series \cref{thm:weierstrass_series_criterion/dominating} \Def{dominates} the series \cref{thm:cauchy_series_continuity_criterion/function}.

  In particular, if \( S \) has a topology and the functions \( f_k(x), k = 0, 1, \ldots \) are continuous (resp. uniformly continuous), so is \( f(x) \).
\end{corollary}
\begin{proof}
  By \cref{thm:positive_series_comparison}, the series
  \begin{equation*}
    \sum_{k=0}^\infty \Norm{f_k(x)}
  \end{equation*}
  converges for any \( x \in S \), hence \cref{thm:cauchy_series_continuity_criterion/function} converges absolutely for any \( x \in S \).

  Furthermore, each of the functions \( f_k(x) \) is bounded by \( B(0, M_k) \) and \( M_k \) does not depend on \( x \), hence the convergence is uniform.

  The rest of the theorem follows from \cref{def:uniform_limit_of_continuous_functions}.
\end{proof}

\begin{corollary}\label{thm:continuous_function_series_powers_of_two}
  Let \( X \subseteq \R \) be a nonempty set. Consider the series of real-valued real functions
  \begin{equation}\label{thm:continuous_function_series_powers_of_two/series}
    f(x) \coloneqq \sum_{k=0}^\infty \frac {f_k(x)} {2^k},
  \end{equation}
  where \( \{ f_k \}_{k=0}^\infty \subseteq B_{C(X)} \) is a sequence of continuous functions bounded in \( [-1, 1] \).

  Then \( f(x) \) is defined and continuous for all \( x \in X \).
\end{corollary}
\begin{proof}
  For \( \Abs{x} \leq 1 \), the series is dominated by the geometric series \cref{ex:series_of_reciprocal_powers_of_two/series}, which sums to \( 2 \), hence by \cref{thm:weierstrass_series_criterion} \( f(x) \) is continuous in the interval \( [-1, 1] \).

  Note that
  \begin{equation*}
    f(2x) \coloneqq \sum_{k=0}^\infty \frac x {2^{k-1}} = 2 f(x),
  \end{equation*}
  hence the series \cref{thm:continuous_function_series_powers_of_two/series} also converges for \( \Abs{x} \leq 2 \).

  By induction on \( n \), we show that \( f(2^n x) = 2^n f(x) \) and thus \( f(x) \) is continuous in \( B(0, 2^n) \), therefore also on the entire real line \( \R \).
\end{proof}

\begin{example}\label{thm:weierstrass_series_criterion/counterexample}\cite[\textnumero 266]{Фихтенгольц1968/2}
  Consider the real series
  \begin{equation*}
    f(x) \coloneqq \sum_{k=0}^\infty x^k (1 - x).
  \end{equation*}

  It converges for \( \Abs{x} < 1 \) because it is dominated by a convergent geometric series.

  For \( x \in (0, 1) \),
  \begin{equation*}
    f(x)
    =
    \sum_{k=0}^\infty x^k (1 - x)
    =
    \sum_{k=0}^\infty x^k - \sum_{k=1}^\infty x^k
    =
    1.
  \end{equation*}

  But
  \begin{equation*}
    \lim_{t \uparrow 1} f(x) = 1 \neq 0 = f(1) = f(\lim_{t \uparrow 1} t).
  \end{equation*}

  This shows that \( f(x) \) is not continuous, despite every term being continuous.

  By contraposition to \cref{thm:weierstrass_series_criterion}, it follows that no series that dominates \( f(x) \) converges.
\end{example}

\begin{theorem}\label{thm:uniform_limit_exchange}\cite[\textnumero 268]{Фихтенгольц1968/2}
  Fix a uniform space \( (A, \U) \) and let \( S \subseteq A \). Let \( f_k: S \to X, k = 0, 1, \ldots \) be a sequence of functions and assume that \( x_0 \in M \) is a limit point of each of these functions.

  \begin{thmenum}
    \DItem{thm:uniform_limit_exchange/sequence} If the sequence \( \{ f_k \}_{k=0}^\infty \) converges uniformly on \( S \), we can exchange the limits
    \begin{equation*}
      \lim_{x \to x_0} \lim_{k \to \infty} f_k(x)
      =
      \lim_{k \to \infty} \lim_{x \to x_0} f_k(x).
    \end{equation*}

    \DItem{thm:uniform_limit_exchange/series} If the series \cref{thm:cauchy_series_continuity_criterion/function} converges uniformly on \( S \), we can exchange the limits
    \begin{equation*}
      \lim_{x \to x_0} \sum_{k=0}^\infty f_k(x)
      =
      \sum_{k=0}^\infty \lim_{x \to x_0} f_k(x).
    \end{equation*}
  \end{thmenum}
\end{theorem}

\begin{remark}\label{remark:thm:uniform_limit_exchange_continuity}
  If the functions \( f_k \) in \cref{thm:uniform_limit_exchange/series} are continuous at \( x_0 \), we have the additional equality
  \begin{equation}\label{thm:uniform_limit_exchange/continuous_equality}
    \lim_{x \to x_0} f(x)
    =
    \lim_{x \to x_0} \sum_{k=0}^\infty f_k(x)
    =
    \sum_{k=0}^\infty \lim_{x \to x_0} f_k(x)
    \overset * =
    \sum_{k=0}^\infty f_k\left(\lim_{x \to x_0} x \right)
    =
    f\left(\lim_{x \to x_0} x \right),
  \end{equation}
  thus \( f \) is continuous at \( x_0 \). The continuity actually follows from \cref{thm:cauchy_series_continuity_criterion} directly.
\end{remark}

\begin{corollary}\label{thm:riemann_intergral_limit_exchange}\cite[\textnumero 269]{Фихтенгольц1968/2}
  Let \( \{ f_k \}_{k=0}^\infty \subseteq C([a, b], \R) \).

  \begin{thmenum}
    \DItem{thm:riemann_intergral_limit_exchange/sequence} If the sequence \( \{ f_k \}_{k=0}^\infty \) converges uniformly, then
    \begin{equation*}
      \lim_{k \to \infty} \int_a^b f_k(x) dx = \int_a^b \lim_{k \to \infty} f_k(x) dx.
    \end{equation*}

    \DItem{thm:riemann_intergral_limit_exchange/series} If the series \cref{thm:cauchy_series_continuity_criterion/function} converges uniformly, then
    \begin{equation*}
      \int_a^b f(x) dx = \int_a^b \sum_{k=0}^\infty f_k(x) dx = \sum_{k=0}^\infty \int_a^b f_k(x) dx.
    \end{equation*}
  \end{thmenum}
\end{corollary}
\begin{proof}
  \begin{description}
    \RItem{thm:riemann_intergral_limit_exchange/sequence} Assume that the sequence \( \{ f_k \}_{k=0}^\infty \) converges uniformly to \( f \). Then by \cref{thm:uniform_limit_exchange}, we note that for any index \( k \), the difference \( r_k(x) \coloneqq f(x) - f_k(x) \) is continuous, hence integrable, and
    \begin{equation*}
      \int_a^b f(x) dx = \int_a^b f_k(x) dx + \int_a^b r_k(x) dx.
    \end{equation*}

    Because of the uniform convergence, for any \( \delta > 0 \) and there exist an index \( k_0 \) such that
    \begin{equation*}
      \Abs{f(x) - f_k(x)} = \Abs{r_k(x)} < \delta \quad\forall k \geq k_0, \forall x \in [a, b].
    \end{equation*}

    Then
    \begin{equation*}
      \Abs{\int_a^b f(x) dx - \int_a^b f_k(x) dx} = \Abs{\int_a^b r_k(x) dx} < (b - a) \delta.
    \end{equation*}

    Given \( \varepsilon > 0 \), we define \( \delta \coloneqq \frac \varepsilon {b - a} \) to obtain an index \( k_0 \) such that
    \begin{equation*}
      \Abs{\int_a^b f(x) dx - \int_a^b f_k(x) dx} = \Abs{\int_a^b r_k(x) dx} < \varepsilon \quad\forall k \geq k_0.
    \end{equation*}

    Thus \cref{thm:metric_topology_convergence/limit_point} is satisfied and equality holds.

    \RItem{thm:riemann_intergral_limit_exchange/series} This is a special case of \cref{thm:riemann_intergral_limit_exchange/sequence}.
  \end{description}
\end{proof}

\begin{corollary}\label{thm:derivative_limit_exchange}\cite[theorem 7.17]{Rudin1991}
  Let \( \{ f_k \}_{k=0}^\infty \subseteq C^1([a, b], \R) \). Suppose that the series \cref{thm:cauchy_series_continuity_criterion/function} converges for at least one point \( x_0 \in [a, b] \).

  \begin{thmenum}
    \DItem{thm:derivative_limit_exchange/sequence} If the sequence \( \{ D f_k \}_{k=0}^\infty \) of derivatives converges uniformly, then \( \{ f_k \}_{k=0}^\infty \) converges uniformly, is differentiable in \( (a, b) \) and
    \begin{equation*}
      D\left(\lim_{k \to \infty} f_k(x) \right) = \lim_{k \to \infty} D f_k(x).
    \end{equation*}

    \DItem{thm:derivative_limit_exchange/series} If the series of derivatives
    \begin{equation}\label{thm:derivative_limit_exchange/derivative_series}
      \sum_{k=0}^\infty D f_k(x)
    \end{equation}
    converges uniformly, then \cref{thm:cauchy_series_continuity_criterion/function} converges uniformly, is differentiable in \( (a, b) \) and
    \begin{equation*}
      D\left(\sum_{k=0}^\infty f_k(x)\right) = \sum_{k=0}^\infty D f_k(x).
    \end{equation*}
  \end{thmenum}
\end{corollary}
\begin{proof}
  \begin{description}
    \RItem{thm:derivative_limit_exchange/sequence} Fix \( \varepsilon > 0 \). Since the sequence \( \{ f_k \}_{k=0}^\infty \) converges for \( x_0 \), there exists an index \( k_0 \) such that
    % TODO: Prove complex plane
    \begin{equation*}
      \Abs{f_m(x_0) - f_n(x_0)} < \varepsilon \quad\forall m, n \geq k_0.
    \end{equation*}

    Furthermore, there exists an index \( k_1 \) such that
    \begin{equation*}
      \Abs{D f_m(x) - D f_n(x)} < \varepsilon \quad\forall x \in [a, b] \ \forall m, n \geq k_0.
    \end{equation*}

    Fix \( m, n \geq k_0 \) and \( x \in [a, b] \). Note that the function \( f_m - f_n \) is differentiable and thus by the mean value theorem, there exists \( \xi \) between \( x_0 \) and \( x \) such that
    \begin{equation*}
      \frac {[f_m(x) - f_n(x)] - [f_m(x_0) - f_n(x_0)]} {x - x_0} = D f_m(\xi) - D f_n(\xi).
    \end{equation*}

    Thus
    \begin{align*}
      \Abs{f_m(x) - f_n(x)}
      &\leq
      \Abs{f_m(x_0) - f_n(x_0)} + (x - x_0)\Abs{D f_m(\xi) - D f_n(\xi)}
      < \\ &<
      2 (x - x_0) \varepsilon
      \leq \\ &\leq
      2 (b - a) \varepsilon.
    \end{align*}

    Therefore the limit \( \lim_{k\to\infty} f_k(x) \) exists. Since \( x \) was arbitrary and \( 2 (b - a) \varepsilon \) does not depend on \( x \), we conclude that
    \begin{equation*}
      f(x) \coloneqq \lim_{k\to\infty} f_k(x)
    \end{equation*}
    is uniformly convergent on \( [a, b] \).

    By the Newton-Leibniz theorem, for the sequence \( \{ D f_k \}_{k=0}^\infty \) of derivatives we have
    \begin{equation*}
      \lim_{k \to \infty} \int_a^x D f_k(t) dt
      =
      \lim_{k \to \infty} [f_k(x) - f_k(a)]
      =
      \lim_{k \to \infty} f_k(x) - \lim_{k \to \infty} f_k(a)
      =
      f(x) - f(a).
    \end{equation*}

    Differentiating both sides, we obtain
    \begin{equation*}
      D\left(\lim_{k \to \infty} \int_a^x D f_k(t) dt \right)
      =
      D\left(\lim_{k \to \infty} f_k(x) dt \right)
      =
      D f(x).
    \end{equation*}

    \Cref{thm:riemann_intergral_limit_exchange/sequence} allows us to conclude that
    \begin{equation*}
      D f(x)
      =
      D\left(\lim_{k \to \infty} \int_a^x D f_k(t) dt \right)
      =
      D \int_a^x \lim_{k \to \infty} D f_k(t) dt
      =
      \lim_{k \to \infty} D f_k(x).
    \end{equation*}

    \RItem{thm:derivative_limit_exchange/series} This is a special case of \cref{thm:riemann_intergral_limit_exchange/sequence}.
  \end{description}
\end{proof}
