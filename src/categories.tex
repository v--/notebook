\subsection{Categories}\label{subsec:categories}

Categories are sometimes defined \enquote{from the ground up} so that they may be used without an underlying set theory or logic. For our purposes, it will be more appropriate to define categories via \hyperref[def:graph/quiver]{quivers}, a.k.a. directed multigraphs. This latter approach is appropriate in \hyperref[def:axiom_of_universes]{\logic{ZFC+U}}.

\begin{definition}\label{def:category}\mcite[def. 1.1.1]{Leinster2016Basic}
  A \term{category} is a \hyperref[def:graph/quiver]{quiver} \( \cat{C} \) equipped with a \hyperref[def:partial_function]{partial operation} \( \bincirc \) on the arrows of \( \cat{C} \) and another operation \( \id \) that selects a distinguished arrow for each vertex.

  \begin{thmenum}[series=def:category]
    \thmitem{def:category/objects} We call the vertices of the quiver \term{objects} and denote the set of all objects by \( \obj(\cat{C}) \). We will often write \( A \in \cat{C} \) as a shorthand for \( A \in \obj(\cat{C}) \).

    \thmitem{def:category/morphisms} We call the arrows of the quiver \term{morphisms}. If \( f \) is a morphism, we call its head its \term{domain} \( \dom(f) \) and its tail its \term{codomain} \( \co\dom(f) \). We denote a morphism from \( A \) to \( B \) by \( f: A \to B \) or \( A \reloset f \to B \).

    We call the \hyperref[eq:def:graph/quiver/arc_set]{arc set} \( \cat{C}(A, B) \) of all morphisms from \( A \) to \( B \) a \term{morphism set} or \term{\( \boldop{hom} \)-set}. We use the shorthand \( \cat{C}(A) \) for \( \cat{C}(A, A) \).

    Another established notation is \( \op{hom}(A, B) \) instead of \( \cat{C}(A, B) \).

    \thmitem{def:category/composition} We require the \term{composition} \( \bincirc \) of the arrows \( f \) and \( g \) to be defined only if \( \co\dom(f) = \dom(g) \). In this case, we require \( g \bincirc f \) to be a morphism from \( \dom(f) \) to \( \co\dom(g) \).

    Note how the order of \( f \) and \( g \) may seem confusing: we write the composition of \( f: A \to B \) and \( g: B \to C \) as \( g \bincirc f: A \to C \). This is set up so that it matches \hyperref[def:multi_valued_function/composition]{function composition}.

    This order of composition is used in \cite[7]{MacLane1994}, \cite[def. 1.1.1]{Leinster2016Basic} and \cite[def 3.1.]{Aluffi2009}.

    \thmitem{def:category/identity} We denote the \term{identity morphism} of an object \( A \) by \( \id_A \).
  \end{thmenum}

  The definition of a category requires the following conditions to hold:
  \begin{thmenum}[resume=def:category]
    \thmitem[def:category/C1]{C1} For any morphism \( f: A \to B \), the identities \( \id_A \) and \( \id_B \) must satisfy
    \begin{equation}\label{eq:def:category/C1}\tag{\logic{C1}}
      f \bincirc \id_A = \id_B \bincirc f = f.
    \end{equation}

    \thmitem[def:category/C2]{C2} Composition must be associative. That is, for each triple of morphism \( f \in \cat{C}(A, B) \), \( g \in \cat{C}(B, C) \) and \( h \in \cat{C}(C, D) \), the following must hold:
    \begin{equation}\label{eq:def:category/C2}\tag{\logic{C2}}
      (h \bincirc g) \bincirc f = h \bincirc (g \bincirc f).
    \end{equation}
  \end{thmenum}
\end{definition}

\begin{example}\label{ex:def:category}
  Examples of categories include:

  \begin{itemize}
    \item The category \( \cat{Set} \) of \hyperref[def:large_and_small_sets]{small} \hyperref[def:set]{sets} and \hyperref[def:function]{functions} defined in \fullref{def:category_of_sets}.

    \item The category \( \cat{Cat} \) of small categories defined in \fullref{def:category_of_small_categories}.

    \item All the \hyperref[def:category_of_first_order_models]{categories of small first-order models} listed in \fullref{ex:def:category_of_first_order_models}

    \item The category \( \cat{Top} \) of small \hyperref[def:topological_space]{topological spaces} and \hyperref[def:global_continuity]{continuous functions} defined in \fullref{def:category_of_topological_spaces}.

    \item For every topological space, the fundamental groupoid defined in \fullref{def:fundamental_groupoid}.

    \item The category \( \cat{Quiv} \) of small \hyperref[def:quiver]{quivers} defined in \fullref{def:theory_of_graphs/category}.

    \item For every quiver, the path category defined in \fullref{def:quiver_path_category}.

    \item For every \hyperref[def:preordered_set]{preordered set}, the induced category defined in \fullref{thm:preorder_category_correspondence}.
  \end{itemize}
\end{example}

\begin{definition}\label{def:category_size}
  As can be seen from \fullref{ex:def:category}, some of the categories we are working with, like \( \cat{Set} \), contain as objects all \hyperref[def:large_and_small_sets]{small sets}. As mentioned in \fullref{def:large_and_small_sets}, the concepts of a small set is defined relative to the smallest Grothendieck universe that suits our needs.

  \Fullref{thm:russels_paradox} demonstrates that the set of all sets easily leads to a paradox, which is the reason we restrict our attention only to sets within some Grothendieck universe. This universe is implicit by default, however we will occasionally need to make it explicit, for example in \fullref{def:presheaf}.

  We will say that the category \( \cat{C} \) is \term{locally \( \mscrU \)-small} if the morphism set \( \cat{C}(A, B) \) is \( \mscrU \)-small for every pair of objects \( A \) and \( B \). If, in addition, the set \( \obj(\cat{C}) \) of objects is also \( \mscrU \)-small, we will say that the category \( \cat{C} \) is \term{\( \mscrU \)-small}. If a category is not \( \mscrU \)-small, we say that it is \term{\( \mscrU \)-large}.

  Note that, in a locally small category, it is possible for the set of all morphisms to be \( \mscrU \)-large. This is impossible for small categories due to \ref{def:grothendieck_universe/union}.

  As usual, we skip the prefix \enquote{\( \mscrU \)-} unless it is important and simply speak of \enquote{large categories} or \enquote{locally small categories}.
\end{definition}

\begin{definition}\label{def:morphism_invertibility}
  In connection with \fullref{def:function_invertibility} and \fullref{def:first_order_homomorphism_invertibility}, we introduce the following terminology:
  \begin{thmenum}
    \thmitem{def:morphism_invertibility/left_invertible} \( f: A \to B \) is called \term{left-invertible} if there exists a morphism \( g: B \to A \) such that \( g \bincirc f = \id_A \). In this case we call \( g \) a \term{left inverse of \( f \)}.

    \thmitem{def:morphism_invertibility/monomorphism} \( f: C \to B \) is called a \term{monomorphism} or \term{monic morphism} or \term{left-cancellative morphism} or \term{embedding} if for any \( g, h: B \to A \) the equality \( f \bincirc g = f \bincirc h \) implies \( g = h \). We sometimes denote monomorphisms by \( f: C \hookrightarrow B \).

    \thmitem{def:morphism_invertibility/right_invertible} \( f: A \to B \) is called \term{right-invertible} if there exists a morphism \( g: B \to A \) such that \( f \bincirc g = \id_B \). In this case we call \( g \) a \term{right inverse of \( f \)}.

    \thmitem{def:morphism_invertibility/epimorphism} \( f: A \to B \) is called an \term{epimorphism} or \term{epic morphism} or \term{right-cancellative morphism} or \term{projection} if for any \( g, h: B \to C \) the equality \( g \bincirc f = h \bincirc f \) implies \( g = h \). We sometimes denote epimorphisms by \( f: C \twoheadrightarrow B \).

    \thmitem{def:morphism_invertibility/isomorphism} \( f: A \to B \) is called \term{invertible} or an \term{isomorphism} if there exists a morphism \( g: B \to A \) that is both a left and a right inverse of \( f \). In this case we call \( g \) a (two-sided) \term{inverse of \( f \)} and we say that the objects \( A \) and \( B \) are isomorphic. We sometimes denote isomorphisms by \( f: A \cong B \) or \( A \reloset f \cong B \).

    \thmitem{def:morphism_invertibility/endomorphism} A morphism \( f: A \to A \) from an object to itself is called an \term{endomorphism} and if an endomorphism is an isomorphism, we call it an \term{automorphism}.
  \end{thmenum}
\end{definition}

\begin{proposition}\label{thm:left_and_right_inverse_is_two_sided}
  If \( f: A \to B \) has a left-inverse \( l \) and a right-inverse \( r \), then \( l = r \) and this is a two-sided inverse.
\end{proposition}
\begin{proof}
  \begin{equation*}
    r
    =
    \id_B \bincirc r
    =
    (l \bincirc f) \bincirc r
    =
    l \bincirc f \bincirc r
    =
    l \bincirc (f \bincirc r)
    =
    l \bincirc \id_A
    =
    l
  \end{equation*}
\end{proof}

\begin{proposition}\label{thm:at_most_one_isomorphism}\mcite[exer. 1.1.13]{Leinster2016Basic}
  A morphism \( f: A \to B \) in any category \( \cat{C} \) can have at most one inverse.
\end{proposition}
\begin{proof}
  If \( f \) has no inverse, it has at most one inverse and the theorem follows.

  Now assume that \( f \) has two inverses \( g \) and \( h \), i.e.
  \begin{balign*}
    g \bincirc f = \id_A &  &  & f \bincirc g = \id_B,
    \\
    h \bincirc f = \id_A &  &  & f \bincirc h = \id_B.
  \end{balign*}

  It follows that \( g = h \) since
  \begin{balign*}
    g
    =
    g \bincirc \id_B
    =
    g \bincirc (f \bincirc h)
    =
    (g \bincirc f) \bincirc h
    =
    \id_A \bincirc h
    =
    h.
  \end{balign*}
\end{proof}

\begin{example}\label{ex:indiscrete_topology_universal_property}\mcite[exer. 0.10]{Leinster2016Basic}
  Let \( S \) be a set. The indiscrete topological space \( I(S) \) and the canonical projection \( \pi: I(S) \to S \) are characterized by the following universal property: for any topological space \( X \) and any function \( f: X \to S \), there exists a unique continuous function \( \tilde f \) such that \( p \bincirc \tilde f = f \), that is, the following diagram commutes:
  \begin{equation*}
    \text{\todo{Add diagram}}\iffalse\begin{mplibcode}
      beginfig(1);
      input metapost/graphs;

      v1 := thelabel("$S$", origin);
      v2 := thelabel("$I(S)$", (2, 0) scaled u);
      v3 := thelabel("$X$", (1, -1) scaled u);

      a1 := straight_arc(v2, v1);
      a2 := straight_arc(v3, v1);

      d1 := straight_arc(v3, v2);

      draw_vertices(v);
      draw_arcs(a);

      draw d1 dotted;

      label.top("$p$", straight_arc_midpoint of a1);
      label.llft("$f$", straight_arc_midpoint of a2);
      label.lrt("$\hat f$", straight_arc_midpoint of d1);
      endfig;
    \end{mplibcode}\fi
  \end{equation*}
\end{example}
\begin{proof}
  Obviously \( I(S) \) and \( p \) exist. Assume they are not unique. Let the topological space \( Y \) and the function \( r: Y \to S \) satisfy the same universal property.

  Then by the universal property, there exist unique continuous functions \( \tilde p: I(S) \to Y \) and \( \tilde r: Y \to I(S) \) such that
  \begin{balign*}
    r \bincirc \tilde p = p
     &  &
    p \bincirc \tilde r = r.
  \end{balign*}

  Hence, \( p = r \bincirc \tilde p = p \bincirc \tilde r \bincirc \tilde p \) and \( \tilde r \bincirc \tilde p = \id_{I(S)} \).

  Analogously, \( r = p \bincirc \tilde r = r \bincirc \tilde p \bincirc \tilde r \), so \( \tilde p \bincirc \tilde r = \id_Y \).

  Thus, \( \tilde r \) and \( \tilde p \) are mutually inverse and \( I(S) \) is isomorphic to \( Y \).
\end{proof}

\begin{definition}\label{def:opposite_category}\mcite[def. 1.1.9]{Leinster2016Basic}
  The \term{opposite} or \term{dual category} of \( \cat{C} \) is the category \( \cat{C}^{-1} \) such that
  \begin{itemize}
    \item The objects in \( \cat{C}^{-1} \) are the objects in \( \boldop{C} \).
    \item \( f^{-1} \in \cat{C}^{-1}(A, B) \iff f \in \boldop{C}(B, A) \), i.e. the morphisms are reversed.
  \end{itemize}
\end{definition}

\begin{example}
  The category \( \cat{Set}^{-1} \) has a morphism \( f: A \to B \) precisely when there exists a function \( f \) from the set \( B \) to the set \( A \). If \( f: A \to B \) is not invertible, then \( f \) is not a function.
\end{example}

\begin{definition}\label{def:subcategory}\mcite[def. 1.2.18]{Leinster2016Basic}
  We call the category \( \boldop B \) a \term{subcategory} of \( \cat{A} \) if
  \begin{itemize}
    \item All objects in \( \boldop B \) are objects in \( \cat{A} \).
    \item All morphisms \( f \in \cat{B}(A, B) \) are morphisms in \( \cat{A}(A, B) \).
  \end{itemize}

  In case \( \cat{B}(A, B) = \cat{A}(A, B) \) for all objects \( A, B \in \boldop B \), we say that \( \boldop B \) is a \term{full subcategory}.
\end{definition}

\begin{definition}\label{def:skeletal_category}\mcite[91]{MacLane1994}
  A subcategory \( \boldop S \) of \( \cat{A} \) is called \term{skeletal} or a \term{skeleton} of \( \cat{A} \) if it is full and if each object in \( \cat{A} \) is isomorphic to exactly one object in \( \boldop B \).

  A category \( \cat{A} \) is called \term{skeletal} if it is its own skeleton, i.e. the only isomorphisms in \( \cat{A} \) are equalities.
\end{definition}

\begin{remark}\label{rem:skeletal_subcategory_exists}
  A skeletal subcategory \( \boldop S \) of \( \cat{A} \) can be constructed using the axiom of choice by only selecting one object from each isomorphism class within \( \cat{A} \).
\end{remark}

\begin{definition}\label{def:product_category}\mcite[exer. 1.1.14]{Leinster2016Basic}
  Let \( \cat{A} \) and \( \boldop B \) be categories. We define their \term{product category} \( \cat{A} \times \boldop B \) component-wise as
  \begin{itemize}
    \item The objects in \( \cat{A} \times \boldop B \) are pairs \( (A, B) \) where \( A \in \cat{A} \) and \( B \in \boldop B \).
    \item The morphisms in \( (\cat{A} \times \boldop B)[(A, B), (A', B')] \) are pairs \( (f, g) \) where \( f \in \cat{A}(A, A') \) and \( g \in \boldop{B}(B, B') \).
  \end{itemize}
  with identities \( \id_{(A,B)} =(\id_A, \id_B) \) and composition also defined component-wise.

  The definition naturally extends to any finite number of categories.

  For a special case, see the notes in \fullref{def:functor_category}.
\end{definition}

\begin{definition}\label{def:zero_objects}\mcite[def. 2.1.7]{Leinster2016Basic}
  Let \( \cat{C} \) be a category and let \( A \in \cat{C} \).

  \begin{thmenum}
    \thmitem{def:zero_objects/initial} If for any other object \( B \in \cat{C} \) there exists a unique morphism \( f: A \to B \), we call \( A \) an \term{initial object}. Clearly an initial object is unique up to isomorphism.

    \thmitem{def:zero_objects/final} Analogously, if for any other object \( B \in \cat{C} \) there exists a unique morphism \( f: B \to A \), we call \( A \) a \term{terminal object} or \term{final object}.

    \thmitem{def:zero_objects/zero} If \( A \) is both an initial and final object, we say that \( A \) is a zero object. A category with a zero object is called a \term{pointed category}.
  \end{thmenum}
\end{definition}

\begin{definition}\label{def:categorical_subobject}\mcite[122]{MacLane1994}
  Let \( \cat{C} \) be a category and \( X \in \cat{C} \) be any object.

  Let \( u: Y \to X \) and \( v: Z \to X \) be \hyperref[def:morphism_invertibility]{monomorphisms}. If \( u = v \bincirc u' \) for some monomorphism \( u': Y \to Z \), we say that \term{\( u \) factors through \( v \)} and write \( u \leq v \). If both \( u \leq v \) and \( v \leq u \), we say that \( u \) and \( v \) are equivalent and write \( u \cong v \).

  The equivalence classes among the monomorphisms with a common codomain \( X \) are called \term{subobjects} of \( X \).
\end{definition}
