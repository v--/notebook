\subsection{Magmas}\label{subsec:magmas}

\begin{definition}\label{def:magma}
  A \term{magma} is a set \( \mscrM \) equipped with a \hyperref[def:function_arguments]{binary function} \( \cdot: \mscrM \times \mscrM \to \mscrM \), called the \term{magma operation}. Unless specified otherwise, we denote this operation by juxtaposition as \( xy \) instead of \( x \cdot y \). We often call the operation \term{multiplication} or \term{composition} (especially in \hyperref[def:endomorphism_monoid]{endomorphism monoids}), which contrasts which \hyperref[rem:additive_magma]{additive magmas}.

  \begin{thmenum}
    \thmitem{def:magma/theory} In analogy to the \hyperref[def:pointed_set/theory]{theory of pointed sets}, we can define the theory of magmas as an empty theory over a language with a single binary function.

    \thmitem{def:magma/homomorphism} A \hyperref[def:first_order_homomorphism]{homomorphism} between the magmas \( (\mscrM, \cdot_{\mscrM}) \) and \( (\mscrN, \cdot_{\mscrN}) \) is, explicitly, a function \( \varphi: \mscrM \to \mscrN \) such that
    \begin{equation}\label{eq:def:magma/homomorphism}
      \varphi(x \cdot_{\mscrM} y) = \varphi(x) \cdot_{\mscrN} \varphi(y) \T{for all} x, y \in M.
    \end{equation}

    \thmitem{def:magma/substructure} The set \( S \subseteq M \) is a \hyperref[def:first_order_substructure]{submagma} of \( \mscrX \) if it is closed under the magma operation, i.e. if \( x, y \in S \) imply \( xy \in S \).

    \thmitem{def:magma/category} We denote the \hyperref[def:category_of_first_order_models]{category of models} for the theory of magmas by \( \cat{Mag} \).

    \thmitem{def:magma/trivial} The \term{trivial magma} is the empty set with an empty operation. It is the unique \hyperref[def:zero_objects/initial]{initial object} in \( \cat{Mag} \).

    \thmitem{def:magma/opposite} The \term{opposite magma} of \( (\mscrM, \cdot) \), also called the \term{dual magma}, is the magma \( (\mscrM, \odot) \) with multiplication reversed:
    \begin{equation*}
      x \odot y \coloneqq y \cdot x.
    \end{equation*}

    We denote the opposite magma by \( \mscrM^{-1} \).

    \thmitem{def:magma/associative} We can add the following axiom to the theory:
    \begin{equation}\label{eq:def:magma/associative}
      (x \cdot y) \cdot z = x \cdot (y \cdot z).
    \end{equation}

    If \eqref{eq:def:magma/associative} is satisfied, we say that the operation \( \cdot \) and, by extension, the magma itself, are \term{associative}. Associative magmas are usually called \term{semigroups}. Associativity imposes no additional restrictions on the homomorphisms, hence semigroups are a \hyperref[def:subcategory]{full subcategory} of \( \cat{Mag} \).

    \thmitem{def:magma/commutative} Another common axiom is \term{commutativity}:
    \begin{equation}\label{eq:def:magma/commutative}
      x \cdot y = y \cdot x.
    \end{equation}

    Commutative magmas also form a full subcategory. Obviously \( \mscrM = \mscrM^{-1} \) in a commutative magma.

    \thmitem{def:magma/idempotent} We say that the operation \( \cdot \) is \term{idempotent} if
    \begin{equation}\label{eq:def:magma/idempotent}
      x \cdot x = x
    \end{equation}

    \thmitem{def:magma/cancellative} We say that \( \cdot \) is \term{left-cancellative} (resp. \term{right-cancellative}) if, for all \( x, y \in M \), we have
    \begin{align}\label{eq:def:magma/cancellative}
      x = y \T{whenever} z \cdot x = z \cdot y \T{for all} z \in M
      &&
      (\text{resp. } x \cdot z = y \cdot z \T{for all} z \in M).
    \end{align}

    The operation is \term{cancellative} if it is both left and right cancellative. Cancellative magmas also form a full subcategory.

    \thmitem{def:magma/exponentiation} We define an additional \term{exponentiation} operation for positive integers \( n \) inductively as
    \begin{equation}\label{eq:def:magma/exponentiation}
      x^n \coloneqq \begin{cases}
        x,               & n = 1 \\
        x \cdot x^{n-1}, & n > 1
      \end{cases}
    \end{equation}

    \thmitem{def:magma/power_set} It is customary to perform magma operations with sets. That is, if \( A \) and \( B \) are sets in the magma \( \mscrM \), it is customary to write
    \begin{equation*}
      A \cdot B \coloneqq \{ a \cdot b \colon a \in A, b \in B \}.
    \end{equation*}

    This actually turns the power set \( \pow(\mscrM) \) into a magma, which we will call the \term{power set magma} of \( \mscrM \). This is especially useful with the convention \fullref{rem:singleton_sets} since it allows us to write \( aB \) for \( a \in M \) and \( B \subseteq M \).

    See \fullref{thm:power_set_magma_preservation}.
  \end{thmenum}
\end{definition}

\begin{remark}\label{rem:additive_magma}
  General groups often arise as \hyperref[def:automorphism_group]{automorphism groups}, which are, for the most part, non-commutative, while abelian groups are usually used as the main building block for \hyperref[def:semiring/ring]{rings} and \hyperref[def:left_module]{modules}.

  To make a further distinction, if the operation is denoted by \( \cdot \) or juxtaposition, we say that the group is a \term{multiplicative group}, and if the operation is denoted by \( + \), we say that the group is an \term{additive group}. This terminology usually, but not necessarily, coincides with the group (or, more generally, any \hyperref[def:magma]{magma}) being \hyperref[def:magma/commutative]{commutative}.

  To make things explicit, a \term{multiplicative magma} is any magma as defined in \fullref{def:magma}. Compare this to \term{additive magmas}, where
  \begin{thmenum}
    \thmitem{rem:additive_magma/addition} The magma operation is denoted by \( + \) and called \term{addition}.
    \thmitem{rem:additive_magma/multiplication} The magma \hyperref[def:magma/exponentiation]{exponentiation operation} is denoted by \( \cdot \) or juxtaposition called \term{multiplication}. Thus multiplication is not defined for two elements of the magma but defined for a positive integer and an element of the magma. In the case of a \hyperref[def:magma/commutative]{commutative} \hyperref[def:unital_magma/associative]{monoid}, if multiplication is extended to two elements of the monoid, we instead talk about \hyperref[def:semiring]{semirings}.
    \thmitem{rem:additive_magma/identity} The \hyperref[def:magma_identity]{identity} is usually denoted by \( 0 \).
    \thmitem{rem:additive_magma/inverse} If an \hyperref[def:unital_magma_inverse_element]{inverse} of \( x \) exists, it is denoted by \( -x \) rather than \( x^{-1} \).
  \end{thmenum}
\end{remark}

\begin{proposition}\label{thm:power_set_magma_preservation}
  \hyperref[def:magma/associative]{Associativity} and \hyperref[def:magma/commutative]{commutativity} from a magma \( \mscrM \) are preserved in \( \pow(\mscrM) \), unlike \hyperref[def:magma/cancellative]{cancellation}.
\end{proposition}
\begin{proof}
  Associativity and commutativity are obviously preserved.

  To show that cancellation is not, consider the group \hyperref[def:group_of_integers_modulo]{\( \BbbZ_2 \)}. It is a cancellative magma by \fullref{thm:group_properties/cancellative}. Define the sets \( A \coloneqq \{ 0, 1 \} \) and \( B \coloneqq \{ 0 \} \). Then
  \begin{equation*}
    A + A = A = A + B,
  \end{equation*}
  however we cannot cancel \( A \) from the left because \( A \neq B \).
\end{proof}

\begin{proposition}\label{thm:magma_exponentiation_properties}
  Fix a magma \( \mscrM \). \hyperref[def:magma/exponentiation]{Magma exponentiation} in \( \mscrM \) has the following basic properties:

  \begin{thmenum}
    \thmitem{thm:magma_exponentiation_properties/commutativity} We have the following \hyperref[def:magma/commutative]{commutativity}-like property: for \( x \in M \) and \( n = 1, 2, \ldots \),
    \begin{equation}\label{eq:thm:magma_exponentiation_properties/commutativity}
      x^n = x x^{n-1} = x^{n-1} x.
    \end{equation}

    \thmitem{thm:magma_exponentiation_properties/distributivity} Exponentiation distributes over multiplication: for any member \( x \in M \) and any two positive integers \( n \) and \( m \),
    \begin{equation}\label{eq:thm:magma_exponentiation_properties/multiplication}
      x^{n + m} = x^n x^m.
    \end{equation}

    \thmitem{thm:magma_exponentiation_properties/repeated} For any member \( x \in M \) and any two positive integers \( n \) and \( m \),
    \begin{equation}\label{eq:thm:magma_exponentiation_properties/repeated}
      (x^n)^m = x^{nm}.
    \end{equation}
  \end{thmenum}
\end{proposition}
\begin{proof}
  \SubProofOf{thm:magma_exponentiation_properties/commutativity} We use induction on \( n \). The cases \( n = 1 \) and \( n = 2 \) are obvious. For \( n > 2 \), we have
  \begin{equation*}
    x^n
    \reloset {\eqref{eq:def:magma/exponentiation}} =
    x x^{n-1}
    \reloset {\T{ind.}} =
    x x^{n-2} x
    \reloset {\eqref{eq:def:magma/exponentiation}} =
    x^{n-1} x.
  \end{equation*}

  \SubProofOf{thm:magma_exponentiation_properties/distributivity} We use induction on \( n \). The case \( n = 1 \) follows directly from \eqref{eq:def:magma/exponentiation}. The case \( n > 1 \) follows from
  \begin{equation*}
    x^{n + m}
    \reloset {\eqref{eq:def:magma/exponentiation}} =
    x x^{n + (m - 1)}
    \reloset {\T{ind.}} =
    x x^{n-1} x^m
    \reloset {\eqref{eq:def:magma/exponentiation}} =
    x^n x^m.
  \end{equation*}

  \SubProofOf{thm:magma_exponentiation_properties/repeated} We use induction on \( n \). The case \( n = 1 \) is obvious and the rest follows from
  \begin{equation*}
    (x^n)^m
    \reloset {\eqref{eq:def:magma/exponentiation}} =
    x^n (x^n)^{m-1}
    \reloset {\T{ind.}} =
    x^n x^{n (m - 1)}
    \reloset {\eqref{eq:thm:magma_exponentiation_properties/multiplication}} =
    =
    x^{nm}.
  \end{equation*}
\end{proof}

\begin{definition}\label{def:preordered_magma}
  A \term{preordered magma} is a magma \( \mscrM \) equipped with a \hyperref[def:preordered_set]{preorder} \( \leq \) such that
  \begin{equation}\label{eq:def:preordered_magma/compatibility}
    x \leq y \T{implies} xz \leq yz \T{and} zx \leq zy \T{for all} z \in M.
  \end{equation}

  The category of preordered magmas is \hyperref[def:concrete_category]{concrete} with respect to both \( \cat{Mag} \) and the \hyperref[def:preordered_magma]{category of preordered sets}.
\end{definition}

\begin{proposition}\label{thm:preordered_magma_max_distributivity}
  In an \hyperref[def:preordered_magma]{preordered magma} \( \mscrM \),
  \begin{equation}\label{eq:thm:preordered_magma_max_distributivity}
    \max \set{a b, c d} \leq \max \set{a, c} \cdot \max \set{b, d}.
  \end{equation}
\end{proposition}
\begin{proof}
  Since \( a \leq \max \set{a, c} \), then
  \begin{equation*}
    ab
    \reloset \leq {\eqref{eq:def:preordered_magma/compatibility}}
    \max \set{a, c} \cdot b
    \leq
    \max \set{a, c} \cdot \set{b, d}
  \end{equation*}

  Analogously, \( cd \leq \max \set{a, c} \cdot \set{b, d} \).

  Therefore
  \begin{equation}
    \max \set{a b, c d} \leq \max \set{a, c} \cdot \set{b, d}.
  \end{equation}
\end{proof}

\begin{definition}\label{def:topological_magma}
  A \term{topological magma} is a magma equipped with a \hyperref[def:topological_space]{topology} such that the magma operation is continuous.

  The category of topological magmas is \hyperref[def:concrete_category]{concrete} with respect to both \( \cat{Mag} \) and \hyperref[def:category_of_topological_spaces]{\( \cat{Top} \)}.
\end{definition}
